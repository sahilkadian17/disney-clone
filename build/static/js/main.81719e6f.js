/*! For license information please see main.81719e6f.js.LICENSE.txt */
!function(){var t={5651:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n(2221),a=n(9164),s=n(6797),u=n(9386),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",p=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Logger("@firebase/app"),v=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!a.contains(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var f=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&a.deepExtend(f,s.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,s.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),v=p.next();!v.done;v=p.next()){var y=v.value;e[y]._addComponent(s)}}catch(g){u={error:g}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(v);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(a.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),b.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion(h,"0.6.11",e),t.registerVersion("fire-js","")}(w),e.default=w,e.firebase=w},2221:function(t,e,n){"use strict";n.r(e),n.d(e,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return _},__await:function(){return m},__awaiter:function(){return l},__classPrivateFieldGet:function(){return T},__classPrivateFieldSet:function(){return k},__createBinding:function(){return f},__decorate:function(){return s},__exportStar:function(){return p},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return S},__importStar:function(){return I},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return y},__spreadArrays:function(){return g},__values:function(){return d}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},7465:function(t,e,n){(function(){var t,e=n(5651).default,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Pa(e,n)}))},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Pa(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function p(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function y(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++m)}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t,e,n){this.code=A+t,this.message=e||C[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}S(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var N,A="auth/",C={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");R.call(this,n+t[r])}function L(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}N=P("__EID__")?"__EID__":void 0,S(R,Error),R.prototype.name="CustomError",S(D,R),D.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new M((function(){return new q}),(function(t){t.reset()}));function V(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=B(t,e)}function Q(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function Y(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,at=/[\x00&<>"']/;function st(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=u.navigator;if(ct){var lt=ct.userAgent;if(lt){J=lt;break t}}J=""}function ht(t){return st(J,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function dt(t){var e,n={};for(e in t)n[e]=t[e];return n}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<vt.length;o++)n=vt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===_t&&e||"",this.b=wt}function bt(t){return t instanceof mt&&t.constructor===mt&&t.b===wt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt={},_t={},Et=new mt(_t,"");function It(t,e){this.a=t===Ct&&e||"",this.b=At}function St(t){return t instanceof It&&t.constructor===It&&t.b===At?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=bt(t);if(!Nt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(kt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?bt(t):encodeURIComponent(String(t))})),new It(Ct,t)}It.prototype.sa=!0,It.prototype.ra=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var kt=/%{(\w+)}/g,Nt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={},Ct={};function Ot(t,e){this.a=t===Lt&&e||"",this.b=Dt}function Pt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Dt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),xt.test(t)||(t="about:invalid#zClosurez"),new Ot(Lt,t))}var Dt={},Lt={};function Mt(){this.a="",this.b=Ft}function jt(t){return t instanceof Mt&&t.constructor===Mt&&t.b===Ft?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}Mt.prototype.sa=!0,Mt.prototype.ra=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function Ut(t){var e=new Mt;return e.a=t,e}Ut("<!DOCTYPE html>");var Vt=Ut("");function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function zt(t){return zt[" "](t),t}Ut("<br>"),zt[" "]=h;var Wt,Ht=ht("Opera"),Gt=ht("Trident")||ht("MSIE"),Kt=ht("Edge"),Qt=Kt||Gt,Xt=ht("Gecko")&&!(st(J.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Yt=st(J.toLowerCase(),"webkit")&&!ht("Edge");function $t(){var t=u.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=function(){var t=J;return Xt?/rv:([^\);]+)(\)|;)/.exec(t):Kt?/Edge\/([\d\.]+)/.exec(t):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Yt?/WebKit\/(\S+)/.exec(t):Ht?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Zt&&(Jt=Zt?Zt[1]:""),Gt){var te=$t();if(null!=te&&te>parseFloat(Jt)){Wt=String(te);break t}}Wt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Z(String(Wt)).split("."),r=Z(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ut(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ut(0==a[2].length,0==s[2].length)||ut(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}ee=u.document&&Gt?$t():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(la){}var ie=!Gt||9<=Number(ee);function oe(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function ae(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ce.hasOwnProperty(n)?t.setAttribute(ce[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var se,ue,ce={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function le(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!p(o)||v(o)&&0<o.nodeType?r(o):z(fe(o)?$(o):o,r)}}function he(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function fe(t){if(t&&"number"==typeof t.length){if(v(t))return"function"==typeof t.item||"string"==typeof t.item;if(d(t))return"function"==typeof t.item}return!1}function pe(t){u.setTimeout((function(){throw t}),0)}function de(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=he(document,"IFRAME");t.style.display="none",function(t){var e=new It(Ct,bt(Et));gt(t,"HTMLIFrameElement"),t.src=St(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(jt(Vt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}function ve(t,e){ue||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);ue=function(){t.then(me)}}else ue=function(){var t=me;!d(u.setImmediate)||u.Window&&u.Window.prototype&&!ht("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(se||(se=de()),se(t)):u.setImmediate(t)}}(),ye||(ue(),ye=!0),ge.add(t,e)}var ye=!1,ge=new F;function me(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){pe(e)}j(U,t)}ye=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Re(n,_e,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Re(n,Ee,t)}))}catch(r){Re(this,Ee,r)}}var we=0,_e=2,Ee=3;function Ie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new M((function(){return new Ie}),(function(t){t.reset()}));function Te(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function ke(t){if(t instanceof be)return t;var e=new be(h);return Re(e,_e,t),e}function Ne(t){return new be((function(e,n){n(t)}))}function Ae(t,e,n){De(t,e,n,null)||ve(E(e,t))}function Ce(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function Oe(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==we&&1==r?Oe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),je(n,i,Ee,e)))}t.c=null}else Re(t,Ee,e)}function Pe(t,e){t.b||t.a!=_e&&t.a!=Ee||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function xe(t,e,n,r){var i=Te(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,Pe(t,i),i.a}function Re(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,De(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ee||n instanceof Ve||function(t,e){t.g=!0,ve((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function De(t,e,n,r){if(t instanceof be)return Pe(t,Te(e||h,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,ve(t.fc,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(i){Ue.call(null,i)}j(Se,e)}function Fe(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return xe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).na=function(t,e){return(t=Te(t,t,e)).c=!0,Pe(this,t),this},t.s=function(t,e){return xe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Ve(t);ve((function(){Oe(this,e)}),this)}},t.Zc=function(t){this.a=we,Re(this,_e,t)},t.$c=function(t){this.a=we,Re(this,Ee,t)},t.fc=function(){for(var t;t=Me(this);)je(this,t,this.a,this.i);this.h=!1};var Ue=pe;function Ve(t){R.call(this,t)}function qe(){0!=Be&&(ze[y(this)]=this),this.xa=this.xa,this.oa=this.oa}S(Ve,R),Ve.prototype.name="cancel";var Be=0,ze={};function We(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Be)){var e=y(t);if(0!=Be&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var He=Object.freeze||function(t){return t},Ge=!Gt||9<=Number(ee),Ke=Gt&&!re("9"),Qe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function Xe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(Xe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:$e[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Xe.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Ye,Xe);var $e=He({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ye.prototype.g=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Ze,this.va=this.Oa=!1}function en(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=on(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):((e=new tn(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),sn={};function un(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=bn(n),t&&t[Je]?_n(t,e,n,v(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=gn(t);if(s||(t[an]=s=new nn(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=yn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=bn(n),t&&t[Je]?En(t,e,n,v(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=bn(n),t&&t[Je]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[Je])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(rn(n,t),0==n.b&&(n.src=null,e[an]=null)):en(t)}}}function pn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&fn(t),n.call(r,e)}function yn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return vn(t,new Ye(e,this))}function gn(t){return(t=t[an])instanceof nn?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return d(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function wn(){qe.call(this),this.v=new nn(this),this.$b=this,this.fb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function En(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Ua||a.src;a.Oa&&rn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(d(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Tn(t){var e=null;return new be((function(n,r){-1==(e=Sn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw u.clearTimeout(e),t}))}function kn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Nn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(p(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Cn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(wn,qe),wn.prototype[Je]=!0,wn.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"===typeof t)t=new Xe(t,n);else if(t instanceof Xe)t.target=t.target||n;else{var i=t;yt(t=new Xe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=In(a,r,!0,t)&&i}if(i=In(a=t.b=n,r,!0,t)&&i,i=In(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(a=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=An.prototype).V=function(){Cn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Cn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return On(this.b,t)?this.b[t]:e},t.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof xn?(this.i=void 0!==e?e:t.i,Rn(this,t.f),this.l=t.l,this.a=t.a,Dn(this,t.g),this.c=t.c,Ln(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(Pn))?(this.i=!!e,Rn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Dn(this,n[4]),this.c=Vn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!e,this.b=new Qn(null,this.i))}function Rn(t,e,n){t.f=n?Vn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Dn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Qn?(t.b=e,function(t,e){e&&!t.f&&(Xn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($n(this,e),Zn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,Gn)),t.b=new Qn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function jn(t,e){return t.b.get(e)}function Fn(t){return t instanceof xn?new xn(t):new xn(t,void 0)}function Un(t,e,n,r){var i=new xn(null,void 0);return t&&Rn(i,t),e&&(i.a=e),n&&Dn(i,n),r&&(i.c=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Hn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,Kn)),t.join("")},xn.prototype.resolve=function(t){var e=new xn(this),n=!!t.f;n?Rn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Dn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(st(i,"./")||st(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Ln(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,Wn=/[#\?:]/g,Hn=/[#\?]/g,Gn=/[#\?@]/g,Kn=/#/g;function Qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xn(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Yn(t){var e=Nn(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Qn(null,void 0);t=kn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function $n(t,e){Xn(t),e=er(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Cn(t)))}function Jn(t,e){return Xn(t),e=er(t,e),On(t.a.b,e)}function Zn(t,e,n){$n(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),$(n)),t.b+=n.length)}function tr(t){var e=new Qn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return ir(new rr,t,e),e.join("")}function rr(){}function ir(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ir(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),ir(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Qn.prototype).add=function(t,e){Xn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Xn(this),this.a.forEach((function(n,r){z(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Xn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Xn(this);var e=[];if("string"===typeof t)Jn(this,t)&&(e=Y(e,this.a.get(er(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Xn(this),this.c=null,Jn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(ar,(function(t){var e=or[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),or[t]=e),e})),'"')}function ur(){var t=Ar();return Gt&&!!ee&&11==ee||/Edge\/\d+/.test(t)}function cr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function lr(t,e){e=e||u.window;var n="about:blank";t&&(n=Pt(Rt(t))),e.location.href=n}function hr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<hr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||Ar()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||u.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(e.target=r,st(n,"crios/")&&(e.target="_blank")),Tr(Ar())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Rt("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(gt(a=he(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==typeof e&&e.sa?e.ra():String(e),xt.test(e)||(e="about:invalid#zClosurez"),e=new Ot(Lt,e)),a.href=Pt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Pt(e),a&&(Qt&&st(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Ut('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">'),r=a.document)&&(r.write(jt(t)),r.close())):(a=r.open(Pt(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new be((function(e){"complete"==u.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).s((function(e){throw hn(window,"load",t),e}))}function mr(t){return t=t||Ar(),!("file:"!==Rr()&&"ionic:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function _r(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Er(){var t=_r();return"ReactNative"===t||"Node"===t}var Ir="Firefox",Sr="Chrome";function Tr(t){var e=t.toLowerCase();return st(e,"opera/")||st(e,"opr/")||st(e,"opios/")?"Opera":st(e,"iemobile")?"IEMobile":st(e,"msie")||st(e,"trident/")?"IE":st(e,"edge/")?"Edge":st(e,"firefox/")?Ir:st(e,"silk/")?"Silk":st(e,"blackberry")?"Blackberry":st(e,"webos")?"Webos":!st(e,"safari/")||st(e,"chrome/")||st(e,"crios/")||st(e,"android")?!st(e,"chrome/")&&!st(e,"crios/")||st(e,"edge/")?st(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Sr:"Safari"}var kr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Nr(t,e){e=e||[];var n,r=[],i={};for(n in kr)i[kr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=_r())?r=Tr(i=Ar()):"Worker"===r&&(r=Tr(i=Ar())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ar(){return u.navigator&&u.navigator.userAgent||""}function Cr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Or(){try{var t=u.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ur()||!!u.indexedDB}catch(n){return wr()&&!!u.indexedDB}return!1}function Pr(){return(xr()||"chrome-extension:"===Rr()||mr())&&!Er()&&Or()&&!wr()}function xr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return u.location&&u.location.protocol||null}function Dr(t){return!fr(t=t||Ar())&&Tr(t)!=Ir}function Lr(t){return"undefined"===typeof t?null:nr(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function jr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ur(t){return"Safari"!=Tr(t=t||Ar())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function qr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ar(),e=_r(),this.b=fr(t)||"ReactNative"===e}function Br(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function zr(t){"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t)}function Wr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Hr(){return!(!Cr("fireauth.oauthhelper",u)&&!Cr("fireauth.iframe",u))}qr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!xr()&&"chrome-extension:"!==Rr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Kr={};function Qr(t){Kr[t]||(Kr[t]=!0,zr(t))}try{var Xr={};Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==Xr.abcd}catch(la){Gr=!1}function Yr(t,e,n){Gr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function $r(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Yr(t,n,e[n])}function Jr(t){var e={};return $r(e,t),e}function Zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Yr(e,n,Zr(t[n]));return e}function ti(t){var e=t&&(t[oi]?"phone":null);if(!(e&&t&&t[ii]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",t[ii]),Yr(this,"displayName",t[ni]||null);var n=null;t[ri]&&(n=new Date(t[ri]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",e)}function ei(t){try{var e=new ai(t)}catch(n){e=null}return e}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function ai(t){ti.call(this,t),Yr(this,"phoneNumber",t[oi])}function si(t){var e={},n=t[hi],r=t[pi],i=t[di];if(t=ei(t[fi]),!i||i!=ci&&i!=li&&!n||i==li&&!r||i==ui&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[yi]=n||null,e[mi]=n||null,e[vi]=r):(e[yi]=r||null,e[mi]=r||null,e[vi]=n||null),e[gi]=t||null,Yr(this,wi,i),Yr(this,bi,Zr(e))}S(ai,ti),ai.prototype.w=function(){var t=ai.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ui="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",hi="email",fi="mfaInfo",pi="newEmail",di="requestType",vi="email",yi="fromEmail",gi="multiFactorInfo",mi="previousEmail",bi="data",wi="operation";function _i(t){var e=jn(t=Fn(t),Ei)||null,n=jn(t,Ii)||null,r=jn(t,ki)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new T("argument-error",Ei+", "+Ii+"and "+ki+" are required in a valid action code URL.");$r(this,{apiKey:e,operation:r,code:n,continueUrl:jn(t,Si)||null,languageCode:jn(t,Ti)||null,tenantId:jn(t,Ni)||null})}var Ei="apiKey",Ii="oobCode",Si="continueUrl",Ti="languageCode",ki="mode",Ni="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ui,signIn:ci,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Ci(t){try{return new _i(t)}catch(e){return null}}function Oi(t){var e=t[Li];if("undefined"===typeof e)throw new T("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Pi];if(n&&"object"===typeof n){e=n[Fi];var r=n[Mi];if(n=n[ji],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new T("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new T("argument-error",ji+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new T("argument-error",Fi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new T("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new T("argument-error",Pi+" property must be a non null object when specified.");if(this.f=null,(e=t[Di])&&"object"===typeof e){if("string"===typeof(e=e[Ui])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new T("argument-error",Ui+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new T("argument-error",Di+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Ri])&&"boolean"!==typeof e)throw new T("argument-error",Ri+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[xi])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new T("argument-error",xi+" property must be a non empty string when specified.");this.i=t||null}var Pi="android",xi="dynamicLinkDomain",Ri="handleCodeInApp",Di="iOS",Li="url",Mi="installApp",ji="minimumVersion",Fi="packageName",Ui="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var qi=null;function Bi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=qi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qi){qi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===qi[o]&&(qi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function zi(t){var e=Hi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,I(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Wi(t){try{return new zi(t)}catch(e){return null}}function Hi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Bi(t))}catch(r){}return null}zi.prototype.S=function(){return this.f},zi.prototype.i=function(){return this.b},zi.prototype.toString=function(){return this.g};var Gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],Qi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Ki},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Ki},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Ki},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Gi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Xi(t){for(var e in Qi)if(Qi[e].fa==t)return Qi[e];return null}function Yi(t){var e={};e["facebook.com"]=eo,e["google.com"]=ro,e["github.com"]=no,e["twitter.com"]=io;var n=t&&t[Ji];try{if(n)return e[n]?new e[n](t):new to(t);if("undefined"!==typeof t[$i])return new Zi(t)}catch(r){}return null}var $i="idToken",Ji="providerId";function Zi(t){var e=t[Ji];if(!e&&t[$i]){var n=Wi(t[$i]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Yr(this,"providerId",e),Yr(this,"isNewUser",n)}function to(t){Zi.call(this,t),Yr(this,"profile",Zr((t=jr(t.rawUserInfo||"{}"))||{}))}function eo(t){if(to.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(to.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function ro(t){if(to.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(to.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",t.screenName||null)}function oo(t){var e=Fn(t),n=jn(e,"link"),r=jn(Fn(n),"link");return e=jn(e,"deep_link_id"),jn(Fn(e),"link")||e||r||n||t}function ao(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:uo}S(to,Zi),S(eo,to),S(no,to),S(ro,to),S(io,to);var so="enroll",uo="signin";function co(){}function lo(t,e){return t.then((function(t){if(t[ts]){var n=Wi(t[ts]);if(!n||e!=n.h)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t}))}function ho(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Yr(this,"providerId",t),Yr(this,"signInMethod",t)}function fo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function po(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ho(t.providerId,t.pendingToken)}catch(e){}return null}function vo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Yr(this,"idToken",e.idToken),e.accessToken&&Yr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Yr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Yr(this,"accessToken",e.oauthToken),Yr(this,"secret",e.oauthTokenSecret)}Yr(this,"providerId",t),Yr(this,"signInMethod",n)}function yo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new vo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Pc=e||[],$r(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Xi(t)||{}).Ja||null,this.nb=null}function bo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function wo(t){mo.call(this,t,Ki),this.a=[]}function _o(){wo.call(this,"facebook.com")}function Eo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function Io(){wo.call(this,"github.com")}function So(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function To(){wo.call(this,"google.com"),this.Ca("profile")}function ko(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function No(){mo.call(this,"twitter.com",Gi)}function Ao(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new vo("twitter.com",n,"twitter.com")}function Co(t,e,n){this.a=t,this.f=e,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===Po.EMAIL_LINK_SIGN_IN_METHOD?Po.EMAIL_LINK_SIGN_IN_METHOD:Po.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Oo(t){return t&&t.email&&t.password?new Co(t.email,t.password,t.signInMethod):null}function Po(){$r(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Ro(e)))throw new T("argument-error","Invalid email link!");return new Co(t,e.code,Po.EMAIL_LINK_SIGN_IN_METHOD)}function Ro(t){return(t=Ci(t=oo(t)))&&t.operation===ci?t:null}function Do(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new T("internal-error");this.a=t,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function Lo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Do(e)}return null}function Mo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function jo(t){try{this.a=t||e.auth()}catch(n){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Do({cb:t,bb:e})}function Uo(t){if(t.temporaryProof&&t.phoneNumber)return new Do({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return ko(o,n);case"facebook.com":return Eo(n);case"github.com":return So(n);case"twitter.com":return Ao(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new ho(e,a):new vo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new wo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Vo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function qo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Bo(t){return(t=t||{}).type?new qo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function zo(){this.b=null,this.a=[]}ao.prototype.Ha=function(){return this.a?ke(this.a):ke(this.b)},ao.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},co.prototype.ja=function(){},co.prototype.b=function(){},co.prototype.c=function(){},co.prototype.w=function(){},ho.prototype.ja=function(t){return Es(t,fo(this))},ho.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,Is(t,n)},ho.prototype.c=function(t,e){return lo(Ss(t,fo(this)),e)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},vo.prototype.ja=function(t){return Es(t,yo(this))},vo.prototype.b=function(t,e){var n=yo(this);return n.idToken=e,Is(t,n)},vo.prototype.c=function(t,e){return lo(Ss(t,yo(this)),e)},vo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Hb=dt(t),this},S(bo,mo),S(wo,mo),wo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},wo.prototype.Pb=function(){return $(this.a)},wo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new vo(this.providerId,n,this.providerId)},S(_o,wo),Yr(_o,"PROVIDER_ID","facebook.com"),Yr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(Io,wo),Yr(Io,"PROVIDER_ID","github.com"),Yr(Io,"GITHUB_SIGN_IN_METHOD","github.com"),S(To,wo),Yr(To,"PROVIDER_ID","google.com"),Yr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),S(No,mo),Yr(No,"PROVIDER_ID","twitter.com"),Yr(No,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ja=function(t){return this.signInMethod==Po.EMAIL_LINK_SIGN_IN_METHOD?ou(t,xs,{email:this.a,oobCode:this.f}):ou(t,tu,{email:this.a,password:this.f})},Co.prototype.b=function(t,e){return this.signInMethod==Po.EMAIL_LINK_SIGN_IN_METHOD?ou(t,Rs,{idToken:e,email:this.a,oobCode:this.f}):ou(t,Gs,{idToken:e,email:this.a,password:this.f})},Co.prototype.c=function(t,e){return lo(this.ja(t),e)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Po,{PROVIDER_ID:"password"}),$r(Po,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Po,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Do.prototype.ja=function(t){return t.eb(Mo(this))},Do.prototype.b=function(t,e){var n=Mo(this);return n.idToken=e,ou(t,nu,n)},Do.prototype.c=function(t,e){var n=Mo(this);return n.operation="REAUTH",lo(t=ou(t,ru,n),e)},Do.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},jo.prototype.eb=function(t,e){var n=this.a.a;return ke(e.verify()).then((function(r){if("string"!==typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===e.type){var i,o=v(t)?t.session:null,a=v(t)?t.phoneNumber:t;return i=o&&o.type==so?o.Ha().then((function(t){return function(t,e){return ou(t,Qs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==uo?o.Ha().then((function(e){return function(t,e){return ou(t,Xs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ou(t,Ws,e)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}))}throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},$r(jo,{PROVIDER_ID:"phone"}),$r(jo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},qo.prototype.S=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Wo,Ho=null;function Go(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.f)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Ko(t,e,n){T.call(this,t,n),(t=e||{}).Ib&&Yr(this,"email",t.Ib),t.ea&&Yr(this,"phoneNumber",t.ea),t.credential&&Yr(this,"credential",t.credential),t.Yb&&Yr(this,"tenantId",t.Yb)}function Qo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Uo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Ko(e,n,t.message)}return null}function Xo(){}function Yo(t){return t.c||(t.c=t.b())}function $o(){}function Jo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Zo(){}function ta(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.pc,this),this.a.onerror=_(this.Rb,this),this.a.onprogress=_(this.qc,this),this.a.ontimeout=_(this.uc,this)}function ea(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function na(t,e,n){this.reset(t,e,n,void 0,void 0)}S(Go,T),S(Ko,T),Ko.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Ko.prototype.toJSON=function(){return this.w()},Xo.prototype.c=null,S($o,Xo),$o.prototype.a=function(){var t=Jo(this);return t?new ActiveXObject(t):new XMLHttpRequest},$o.prototype.b=function(){var t={};return Jo(this)&&(t[0]=!0,t[1]=!0),t},Wo=new $o,S(Zo,Xo),Zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ta;throw Error("Unsupported browser")},Zo.prototype.b=function(){return{}},(t=ta.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ea(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",ea(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,ea(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},na.prototype.a=null;function ra(t){this.f=t,this.b=this.c=this.a=null}function ia(t,e){this.name=t,this.value=e}na.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||I(),delete this.a},ia.prototype.toString=function(){return this.name};var oa=new ia("SEVERE",1e3),aa=new ia("WARNING",900),sa=new ia("CONFIG",700),ua=new ia("FINE",500);function ca(t){return t.c?t.c:t.a?ca(t.a):(L("Root logger has no level set."),null)}ra.prototype.log=function(t,e,n){if(t.value>=ca(this).value)for(d(e)&&(e=e()),t=new na(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var la,ha={},fa=null;function pa(t){var e;if(fa||(fa=new ra(""),ha[""]=fa,fa.c=sa),!(e=ha[t])){e=new ra(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=pa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ha[t]=e}return e}function da(t,e){t&&t.log(ua,e,void 0)}function va(t){this.f=t}function ya(t){wn.call(this),this.o=t,this.readyState=ga,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=pa("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}S(va,Xo),va.prototype.a=function(){return new ya(this.f)},va.prototype.b=(la={},function(){return la}),S(ya,wn);var ga=0;function ma(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ba(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,wa(t)}function wa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function _a(t){wn.call(this),this.headers=new An,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=Ea,this.u=this.R=!1}(t=ya.prototype).open=function(t,e){if(this.readyState!=ga)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,wa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ba(this,!1)),this.readyState=ga},t.tc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,wa(this)),this.a&&(this.readyState=3,wa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ma(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ba(this,!0):wa(this),3==this.readyState&&ma(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,ba(this,!0))},t.rc=function(t){this.a&&(this.response=t,ba(this,!0))},t.Ta=function(t){var e=this.h;e&&e.log(aa,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ba(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(aa,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(aa,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},S(_a,wn);var Ea="";_a.prototype.b=pa("goog.net.XhrIo");var Ia=/^https?$/i,Sa=["POST","PUT"];function Ta(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Wo.a(),t.A=t.O?Yo(t.O):Yo(Wo),t.a.onreadystatechange=_(t.Ub,t);try{da(t.b,Da(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return da(t.b,Da(t,"Error opening Xhr: "+a.message)),void Na(t,a)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)z(t,e,void 0);else for(var n=Nn(t),r=kn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ka,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!K(Sa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Pa(t),0<t.g&&(t.u=function(t){return Gt&&re(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),da(t.b,Da(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.o=Sn(t.Ma,t.g,t)),da(t.b,Da(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){da(t.b,Da(t,"Send error: "+a.message)),Na(t,a)}}function ka(t){return"content-type"==t.toLowerCase()}function Na(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Aa(t),Oa(t)}function Aa(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ca(t){if(t.c&&"undefined"!=typeof s)if(t.A[1]&&4==xa(t)&&2==Ra(t))da(t.b,Da(t,"Local request error detected and ignored"));else if(t.i&&4==xa(t))Sn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==xa(t)){da(t.b,Da(t,"Request complete")),t.c=!1;try{var e,n=Ra(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Pn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ia.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<xa(t)?t.a.statusText:""}catch(l){da(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ra(t)+"]",Aa(t)}}finally{Oa(t)}}}function Oa(t,e){if(t.a){Pa(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(oa,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Pa(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(u.clearTimeout(t.o),t.o=null)}function xa(t){return t.a?t.a.readyState:0}function Ra(t){try{return 2<xa(t)?t.a.status:-1}catch(e){return-1}}function Da(t,e){return e+" ["+t.P+" "+t.l+" "+Ra(t)+"]"}function La(t){var e=Ga;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ma(t,e,n){t.a=!0,t.c=n,t.f=!e,Va(t)}function ja(t){if(t.a){if(!t.m)throw new qa(t);t.m=!1}}function Fa(t,e,n,r){t.g.push([e,n,r]),t.a&&Va(t)}function Ua(t){return G(t.g,(function(t){return d(t[1])}))}function Va(t){if(t.h&&t.a&&Ua(t)){var e=t.h,n=Wa[e];n&&(u.clearTimeout(n.a),delete Wa[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.o,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(x(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ua(t)||(n=!0)}}t.c=e,r&&(s=_(t.v,t,!0),r=_(t.v,t,!1),e instanceof La?(Fa(e,s,r),e.A=!0):e.then(s,r)),n&&(e=new za(e),Wa[e.a]=e,t.h=e.a)}function qa(){R.call(this)}function Ba(){R.call(this)}function za(t){this.a=u.setTimeout(_(this.c,this),0),this.b=t}(t=_a.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",da(this.b,Da(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(da(this.b,Da(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Oa(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Oa(this,!0)),_a.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?Ca(this):this.Ic())},t.Ic=function(){Ca(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ea:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(oa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return da(this.b,"Can not get response: "+e.message),null}},La.prototype.cancel=function(t){if(this.a)this.c instanceof La&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Ba(this),ja(this),Ma(this,!1,t))}},La.prototype.v=function(t,e){this.i=!1,Ma(this,t,e)},La.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Fa(this,r,(function(t){t instanceof Ba?o.cancel():i(t)})),o.then(t,e,n)},La.prototype.$goog_Thenable=!0,S(qa,R),qa.prototype.message="Deferred has already fired",qa.prototype.name="AlreadyCalledError",S(Ba,R),Ba.prototype.message="Deferred was canceled",Ba.prototype.name="CanceledError",za.prototype.c=function(){throw delete Wa[this.a],this.b};var Wa={};function Ha(t){var e={},n=e.document||document,r=St(t).toString(),i=he(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new La(o),s=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(s=window.setTimeout((function(){Ka(i,!0);var t=new Ya(Xa,"Timeout reached for loading script "+r);ja(a),Ma(a,!1,t)}),h),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ka(i,e.wd||!1,s),ja(a),Ma(a,!0,null))},i.onerror=function(){Ka(i,!0,s);var t=new Ya(Qa,"Error while loading script "+r);ja(a),Ma(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ae(i,o),function(t,e){gt(t,"HTMLScriptElement"),t.src=St(e),null===l&&(l=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=l)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ga(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Ka(t,!0,this.Ma)}}function Ka(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Qa=0,Xa=1;function Ya(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function $a(t){this.f=t}function Ja(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||es,this.g=dt(t.secureTokenHeaders||ns),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||rs,this.a=dt(t.firebaseHeaders||is),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==_r(),!(r=u.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!wr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new va(self):Er()?this.f=new $a(r):this.f=new Zo,this.b=null}S(Ya,R),S($a,Xo),$a.prototype.a=function(){return new this.f},$a.prototype.b=function(){return{}};var Za,ts="idToken",es=new qr(3e4,6e4),ns={"Content-Type":"application/x-www-form-urlencoded"},rs=new qr(3e4,6e4),is={"Content-Type":"application/json"};function os(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function as(t,e){e&&(t.l=ss("https://securetoken.googleapis.com/v1/token",e),t.h=ss("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ss("https://identitytoolkit.googleapis.com/v2/",e))}function ss(t,e){return t=Fn(t),e=Fn(e.url),t.c=t.a+t.c,Rn(t,e.f),t.a=e.a,Dn(t,e.g),t.toString()}function us(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function cs(t,e,n,r,i,o,a){(function(){var t=Ar();return!((t=Tr(t)!=Sr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Gt||!ee||9<ee)})()||wr()?t=_(t.u,t):(Za||(Za=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[hs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Fa(t,null,e,void 0)}(Ha(Tt(ls,{onload:hs})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=_(t.o,t)),t(e,n,r,i,o,a)}Ja.prototype.S=function(){return this.b},Ja.prototype.u=function(t,e,n,r,i,o){if(wr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new _a(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}_n(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return da(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),En(a,"ready",(function(){s&&clearTimeout(s),We(this)})),En(a,"timeout",(function(){s&&clearTimeout(s),We(this),e&&e(null)})),Ta(a,t,n,r,i)};var ls=new mt(_t,"https://apis.google.com/js/client.js?onload=%{onload}"),hs="__fcb"+Math.floor(1e6*Math.random()).toString();function fs(t,e,n,r,i,o,a){var s=Fn(e+n);Mn(s,"key",t.c),a&&Mn(s,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(s,c,i[c]);return new be((function(e,n){cs(t,s.toString(),(function(t){t?t.error?n(su(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:nr(Mr(i)),t.a,t.m.get())}))}function ps(t){if("string"!==typeof(t=t.email)||!yr.test(t))throw new T("invalid-email")}function ds(t){"email"in t&&ps(t)}function vs(t){if(!t[ts]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,dt(t));throw new T("internal-error")}}function ys(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Ja.prototype.o=function(t,e,n,r,i){var o=this;Za.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ja.prototype.yb=function(){return ou(this,Ks,{})},Ja.prototype.Ab=function(t,e){return ou(this,Hs,{idToken:t,email:e})},Ja.prototype.Bb=function(t,e){return ou(this,Gs,{idToken:t,password:e})};var gs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ms(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function bs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ws(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Jn(t=new Qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function _s(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Qo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Qo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Qo(t)):t.errorMessage&&(e=au(t.errorMessage)),e)throw e;vs(t)}function Es(t,e){return e.returnIdpCredential=!0,ou(t,Ys,e)}function Is(t,e){return e.returnIdpCredential=!0,ou(t,Js,e)}function Ss(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ou(t,$s,e)}function Ts(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Ja.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ft(gs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ou(this,Hs,n)},t.ub=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),ou(this,Vs,t)},t.vb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),ou(this,js,t)},t.tb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ou(this,Fs,t)},t.Db=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ou(this,Us,t)},t.eb=function(t){return ou(this,eu,t)},t.mb=function(t,e){return ou(this,zs,{oobCode:t,newPassword:e})},t.Qa=function(t){return ou(this,Ns,{oobCode:t})},t.ib=function(t){return ou(this,ks,{oobCode:t})};var ks={endpoint:"setAccountInfo",B:Ts,Z:"email",C:!0},Ns={endpoint:"resetPassword",B:Ts,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},C:!0},As={endpoint:"signupNewUser",B:function(t){if(ps(t),!t.password)throw new T("weak-password")},F:vs,U:!0,C:!0},Cs={endpoint:"createAuthUri",C:!0},Os={endpoint:"deleteAccount",M:["idToken"]},Ps={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if("array"!=f(t.deleteProvider))throw new T("internal-error")}},xs={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ps,F:vs,U:!0,C:!0},Rs={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ps,F:vs,U:!0},Ds={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ms,F:vs,C:!0,Na:!0},Ls={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ms,F:vs,C:!0,Na:!0},Ms={endpoint:"getAccountInfo"},js={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ps(t)},Z:"email",C:!0},Fs={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Us={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Vs={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ps(t)},Z:"email",C:!0},qs={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Bs={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},zs={endpoint:"resetPassword",B:Ts,Z:"email",C:!0},Ws={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Hs={endpoint:"setAccountInfo",M:["idToken"],B:ds,U:!0},Gs={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ds(t),!t.password)throw new T("weak-password")},F:vs,U:!0},Ks={endpoint:"signupNewUser",F:vs,U:!0,C:!0},Qs={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Xs={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Ys={endpoint:"verifyAssertion",B:bs,Xa:ws,F:_s,U:!0,C:!0},$s={endpoint:"verifyAssertion",B:bs,Xa:ws,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw au(t.errorMessage);vs(t)},U:!0,C:!0},Js={endpoint:"verifyAssertion",B:function(t){if(bs(t),!t.idToken)throw new T("internal-error")},Xa:ws,F:_s,U:!0},Zs={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new T("invalid-custom-token")},F:vs,U:!0,C:!0},tu={endpoint:"verifyPassword",B:function(t){if(ps(t),!t.password)throw new T("wrong-password")},F:vs,U:!0,C:!0},eu={endpoint:"verifyPhoneNumber",B:ys,F:vs,C:!0},nu={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new T("internal-error");ys(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Qo(t);vs(t)}},ru={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ys,F:vs,C:!0},iu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[ts]^!!t.refreshToken)throw new T("internal-error")},C:!0,Na:!0};function ou(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.M))return Ne(new T("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return ke(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),fs(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function au(t){return su({error:{errors:[{message:t}],code:400,message:t}})}function su(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Lr(t)),new T("internal-error",e)}function uu(t){this.b=t,this.a=null,this.qb=function(t){return(fu||(fu=new be((function(t,e){function n(){Vr(),Cr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Vr(),e(Error("Network Error"))},timeout:lu.get()})}if(Cr("gapi.iframes.Iframe"))t();else if(Cr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Cr("gapi.load")?n():e(Error("Network Error"))},ke(Ha(r=Tt(cu,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw fu=null,t})))).then((function(){return new be((function(e,n){Cr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),hu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var cu=new mt(_t,"https://apis.google.com/js/api.js?onload=%{onload}"),lu=new qr(3e4,6e4),hu=new qr(5e3,15e3),fu=null;function pu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Un((t=Fn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function du(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function vu(t){try{return e.app(t).auth().Ga()}catch(n){return[]}}function yu(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function gu(t){var e=cr();return function(t){return ou(t,qs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Fn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Go(cr())}))}function mu(t){return t.v||(t.v=gr().then((function(){if(!t.u){var e=t.c,n=t.i,r=vu(t.b),i=new pu(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=$(r||[]),t.u=i.toString()}t.m=new uu(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Bo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)}))}(t)}))),t.v}function bu(t){return t.l||(t.A=t.c?Nr(t.c,vu(t.b)):null,t.l=new Ja(t.g,P(t.i),t.A),t.f&&as(t.l,t.f)),t.l}function wu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new du(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=dt(u||null),t.f=c,t.xb(l).toString()}function _u(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Eu(t){this.b=t,this.a={},this.f=_(this.c,this)}pu.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):$n(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):$n(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):$n(this.a.b,"fw"),this.a.toString()},du.prototype.xb=function(t){return this.h=t,this},du.prototype.toString=function(){if(this.m){var t=Fn(this.m.url);t=Un(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.o),Mn(t,"appName",this.c),Mn(t,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().ka()}catch(u){r=null}for(var i in n.nb=r,Mn(t,"providerId",this.a.providerId),n=Mr((r=this.a).Hb))n[i]=n[i].toString();i=r.Pc,n=dt(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),pt(n)||Mn(t,"customParameters",Lr(n))}if("function"===typeof this.a.Pb&&((r=this.a.Pb()).length&&Mn(t,"scopes",r.join(","))),this.l?Mn(t,"redirectUrl",this.l):$n(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):$n(t.b,"eventId"),this.i?Mn(t,"v",this.i):$n(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!jn(t,s)&&Mn(t,s,this.b[s]);return this.h?Mn(t,"tid",this.h):$n(t.b,"tid"),this.f?Mn(t,"eid",this.f):$n(t.b,"eid"),(s=vu(this.c)).length&&Mn(t,"fw",s.join(",")),t.toString()},(t=yu.prototype).Nb=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return mu(t).then((function(){return function(t,e){return t.qb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&pr(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(t){return new be((function(e){return function n(){Tn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Tn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Ar();return!Dr(t)&&!Ur(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,a,s){if(!t)return Ne(new T("popup-blocked"));if(a&&!Dr())return this.la().s((function(e){pr(t),i(e)})),r(),ke();this.a||(this.a=gu(bu(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw pr(t),i(e),e}));return r(),e})).then((function(){(Vo(n),a)||lr(wu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=gu(bu(this)));var i=this;return this.a.then((function(){Vo(e),lr(wu(i.o,i.g,i.b,t,e,cr(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return mu(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new T("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){X(this.h,(function(e){return e==t}))},(t=_u.prototype).get=function(t){return ke(this.a.getItem(t)).then((function(t){return t&&jr(t)}))},t.set=function(t,e){return ke(this.a.setItem(t,Lr(e)))},t.T=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Iu,Su=[];function Tu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function ku(t){this.a=t}function Nu(t){this.c=t,this.b=!1,this.a=[]}function Au(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Cu(t,c),e})).s((function(e){throw Cu(t,c),e}))}function Cu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(t.a,(function(t){return t==e}))}}function Ou(){if(!Ru())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;wr()&&self?(this.l=function(){var t=wr()?self:null;if(z(Su,(function(n){n.b==t&&(e=n)})),!e){var e=new Eu(t);Su.push(e)}return e}(),Tu(this.l,"keyChanged",(function(e,n){return Fu(t).then((function(e){return 0<e.length&&z(t.a,(function(t){t(e)})),{keyProcessed:K(e,n.key)}}))})),Tu(this.l,"ping",(function(){return ke(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?ke().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):ke(null)}().then((function(e){(t.h=e)&&(t.g=new Nu(new ku(e)),Au(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Pu(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Pu(t)})).then((function(t){e(t)})).s((function(t){n(t)}))}}))}function xu(t){return t.v||(t.v=Pu(t)),t.v}function Ru(){try{return!!u.indexedDB}catch(la){return!1}}function Du(t){return t.objectStore("firebaseLocalStorage")}function Lu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Mu(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function ju(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Au(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):ke()}function Fu(t){return xu(t).then((function(t){var e=Du(Lu(t,!1));return e.getAll?Mu(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=hr(t.c,n),t.c=n}return r}))}function Uu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Vu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then((function(){if(Ru()){var t=Fr(),r="__sak"+t;return Iu||(Iu=new Ou),(n=Iu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){z(e.a,(function(e){e(t)}))})),t}))}function qu(){this.a={},this.type="inMemory"}function Bu(){if(!function(){var t="Node"==_r();if(!(t=zu()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==_r())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=zu()||e.INTERNAL.node.localStorage,this.type="localStorage"}function zu(){try{var t=u.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Wu(){this.type="nullStorage"}function Hu(){if(!function(){var t="Node"==_r();if(!(t=Gu()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==_r())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Gu()||e.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Gu(){try{var t=u.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ku(){var t={};t.Browser=Yu,t.Node=$u,t.ReactNative=Ju,t.Worker=Zu,this.a=t[_r()]}Eu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,(function(e){i.push(ke().then((function(){return e(t.origin,t.data.data)})))})),Ce(i).then((function(r){var i=[];z(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),z(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},ku.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Nu.prototype.close=function(){for(;0<this.a.length;)Cu(this,this.a[0]);this.b=!0},(t=Ou.prototype).set=function(t,e){var n,r=!1,i=this;return xu(this).then((function(e){return Mu((e=Du(Lu(n=e,!0))).get(t))})).then((function(o){var a=Du(Lu(n,!0));return o?(o.value=e,Mu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Mu(a.add(o)))})).then((function(){return i.c[t]=e,ju(i,t)})).na((function(){r&&i.b--}))},t.get=function(t){return xu(this).then((function(e){return Mu(Du(Lu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return xu(this).then((function(r){return e=!0,n.b++,Mu(Du(Lu(r,!0)).delete(t))})).then((function(){return delete n.c[t],ju(n,t)})).na((function(){e&&n.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.i=Fu(t).then((function(e){0<e.length&&z(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Uu(t),e()}(this),this.a.push(t)},t.ia=function(t){X(this.a,(function(e){return e==t})),0==this.a.length&&Uu(this)},(t=Vu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){X(this.a,(function(e){return e==t}))},(t=qu.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.T=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return ke().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Lr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(t){u.window&&un(u.window,"storage",t)},t.ia=function(t){u.window&&hn(u.window,"storage",t)},(t=Wu.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.T=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=Hu.prototype).get=function(t){var e=this;return ke().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Lr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Qu,Xu,Yu={D:Bu,ab:Hu},$u={D:Bu,ab:Hu},Ju={D:_u,ab:Wu},Zu={D:Bu,ab:Wu},tc={qd:"local",NONE:"none",sd:"session"};function ec(){var t=!(Ur(Ar())||!br()),e=Dr(),n=Or();this.v=t,this.h=e,this.l=n,this.a={},Qu||(Qu=new Ku),t=Qu;try{this.g=!ur()&&Hr()||!u.indexedDB?new t.a.D:new Vu(wr()?new qu:new t.a.D)}catch(r){this.g=new qu,this.h=!0}try{this.i=new t.a.ab}catch(r){this.i=new qu}this.m=new qu,this.f=_(this.Xb,this),this.b={}}function nc(){return Xu||(Xu=new ec),Xu}function rc(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function ic(t,e){return"firebase:"+t.name+(e?":"+e:"")}function oc(t,e,n){return n=ic(e,n),"local"==e.D&&(t.b[n]=null),rc(t,e.D).T(n)}function ac(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=nc()}(t=ec.prototype).get=function(t,e){return rc(this,t.D).get(ic(t,e))},t.set=function(t,e,n){var r=ic(t,n),i=this,o=rc(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ic(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),pt(this.a)&&(rc(this,"local").ca(this.f),this.h||(ur()||!Hr())&&u.indexedDB||!this.l||function(t){ac(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ic(t,e),this.a[t]&&(X(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(rc(this,"local").ia(this.f),ac(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?rc(this,"local").ia(this.f):ac(this),this.v)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.lb(e))},Gt&&ee&&10==ee&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,_(this.lb,this))},t.lb=function(t){this.a[t]&&z(this.a[t],(function(t){t()}))};var uc,cc={name:"authEvent",D:"local"};function lc(){this.a=nc()}function hc(t,e){this.b=fc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===uc&&(uc=u.Int32Array?new Int32Array(bc):bc),this.reset()}S(hc,(function(){this.b=-1}));for(var fc=64,pc=fc-1,dc=[],vc=0;vc<pc;vc++)dc[vc]=0;var yc=Y(128,dc);function gc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|uc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gc(t),i=0)}}t.c=i,t.g+=n}hc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):$(this.h)};var bc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wc(){hc.call(this,8,_c)}S(wc,hc);var _c=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ec(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new lc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ic(t){return new T("invalid-cordova-configuration",t)}function Sc(t){var e=new wc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,yc,56-e.c):mc(e,yc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Tc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function kc(t){return t.f||(t.f=t.la().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Nc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=oo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=jr(jn(o=Fn(i),"firebaseError")||null))?k(o):null)?new qo(r.c,r.b,null,null,o,null,r.S()):new qo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Tc(t,i)}))}var n=new qo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Tn(500).then((function(){return Nc(t).then((function(){r||Tc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Cr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Ho||(Ho=new zo),function(t){var e=Ho;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Cr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Nc(t){var e=null;return function(t){return t.b.get(cc,t.a).then((function(t){return Bo(t)}))}(t.g).then((function(n){return e=n,oc((n=t.g).b,cc,n.a)})).then((function(){return e}))}function Ac(t){this.a=t,this.b=nc()}(t=Ec.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?gr().then((function(){return new be((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Cr("universalLinks.subscribe",u))throw Ic("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Cr("BuildInfo.packageName",u))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!==typeof Cr("cordova.plugins.browsertab.openUrl",u))throw Ic("cordova-plugin-browsertab is not installed");if("function"!==typeof Cr("cordova.InAppBrowser.open",u))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Nb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),ke()},t.Lb=function(){return Ne(new T("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Ne(new T("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=ke().then((function(){return Vo(e),kc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new qo(e,r,null,o,new T("no-auth-event"),null,i),s=Cr("BuildInfo.packageName",u);if("string"!==typeof s)throw new T("invalid-cordova-configuration");var c=Cr("BuildInfo.displayName",u),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Ar().toLowerCase().match(/android/))return Ne(new T("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=Sc(o),l.sessionId=o;var h=wu(t.m,t.i,t.l,e,n,null,r,t.v,l,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(cc,a.w(),e)})).then((function(){var e=Cr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Cr("cordova.plugins.browsertab.openUrl",u)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Cr("cordova.InAppBrowser.open",u)))throw new T("invalid-cordova-configuration");e=Ar(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){s=function(){var e=Cr("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=Tn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},l=function(){Br()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(t){return Nc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ra(s),i.c=null}))},t.Ea=function(t){this.b.push(t),kc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new qo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Ra=function(t){X(this.b,(function(e){return e==t}))};var Cc={name:"pendingRedirect",D:"session"};function Oc(t){return oc(t.b,Cc,t.a)}function Pc(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=_(this.o,this),this.b=new Gc,this.A=new $c,this.g=new Ac(Wc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=xc(this.O,this.m,this.v,N,this.G)}function xc(t,n,r,i,o){var a=e.SDK_VERSION||null;return mr()?new Ec(t,n,r,a,i,o):new yu(t,n,r,a,i,o)}function Rc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function Dc(t){t.a.Wb()&&Rc(t).s((function(e){var n=new qo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Vc(e)&&t.o(n)})),t.a.Sb()||Kc(t.b)}function Lc(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Cc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Oc(t.g).then((function(){Rc(t).s((function(e){var n=new qo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Vc(e)&&t.o(n)}))})):Dc(t)})).s((function(){Dc(t)}))}function Mc(t,e){X(t.h,(function(t){return t==e}))}Pc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=xc(this.O,this.m,this.v,null,this.G),this.i={}},Pc.prototype.o=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=I())),e=!0;break}}return Kc(this.b),e};var jc=new qr(2e3,1e4),Fc=new qr(3e4,6e4);function Uc(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Vc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function qc(t,e,n,r,i){var o;return function(t){return t.b.set(Cc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Vc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Oc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new be((function(){})):Oc(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function Bc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),jc.get())}Pc.prototype.qa=function(){return this.b.qa()};var zc={};function Wc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Hc(t,e,n,r){var i=Wc(e,n,r);return zc[i]||(zc[i]=new Pc(t,e,n,r)),zc[i]}function Gc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Kc(t){t.g||(t.g=!0,Yc(t,!1,null,null))}function Qc(t){t.g&&!t.i&&Yc(t,!1,null,null)}function Xc(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Yc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Xc(t,n):Xc(t,{user:null}),t.f=[],t.c=[]}function $c(){}function Jc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Zc(t,e){this.a=e,Yr(this,"verificationId",t)}function tl(t,e,n,r){return new jo(t).eb(e,n).then((function(t){return new Zc(t,r)}))}function el(t){var e=Hi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:t,expirationTime:Wr(1e3*e.exp),authTime:Wr(1e3*e.auth_time),issuedAtTime:Wr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function nl(t,e,n){var r=e&&e[il];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=dt(e),this.g=n,this.c=new ao(null,r),this.b=[];var i=this;z(e[rl]||[],(function(t){(t=ei(t))&&i.b.push(t)})),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}Gc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Gc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Yc(this,!0,null,t.a),ke()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Yc(t,s,e,null)})).s((function(e){Yc(t,s,null,e)}))}(this,t,e):Ne(new T("invalid-auth-event")):(Yc(this,!1,null,null),ke())}else Ne(new T("invalid-auth-event"))},Gc.prototype.qa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Tn(Fc.get()).then((function(){t.b||(t.g=!0,Yc(t,!0,null,e))}))}(t))}))},$c.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),ke()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).s((function(t){e.ma(r,null,t,n)}))}(t,e):Ne(new T("invalid-auth-event"))}else Ne(new T("invalid-auth-event"))},Zc.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var rl="mfaInfo",il="mfaPendingCredential";function ol(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new nl(t,e,n),Yr(this,"resolver",this.b)}function al(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ol(e,t.serverResponse,n,t.message)}catch(r){}return null}function sl(){}function ul(t){Yr(this,"factorId",t.fa),this.a=t}function cl(t){if(ul.call(this,t),this.a.fa!=jo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ll(t,e){for(var n in Xe.call(this,t),e)this[n]=e[n]}function hl(t,e){this.a=t,this.b=[],this.c=_(this.xc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ii]=t.uid),t.displayName&&(r[ni]=t.displayName),t.enrollmentTime&&(r[ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oi]=t.phoneNumber);try{e=new ai(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),fl(this,n)}function fl(t,e){t.b=e,Yr(t,"enrolledFactors",e)}function pl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dl(t,e){t.stop(),t.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=u.document,e=null;return Br()||!t?ke():new be((function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){dl(t,!0)})).s((function(e){t.i(e)&&dl(t,!1)}))}function vl(t){this.c=t,this.b=this.a=null}function yl(t){return t.b&&1e3*t.b.c||0}function gl(t,e){var n=e.refreshToken;t.b=Wi(e[ts]||""),t.a=n}function ml(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?cs(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(su(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Yn(e).toString(),t.g,t.v.get()):r(new T("internal-error"))}))}(t.c,e).then((function(e){return t.b=Wi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function bl(t,e){this.a=t||null,this.b=e||null,$r(this,{lastSignInTime:Wr(e||null),creationTime:Wr(t||null)})}function wl(t,e,n,r,i,o){$r(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function _l(t,n,r){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var i=e.SDK_VERSION?Nr(e.SDK_VERSION):null;this.a=new Ja(this.l,P(N),i),t.emulatorConfig&&as(this.a,t.emulatorConfig),this.b=new vl(this.a),Cl(this,n[ts]),gl(this.b,n),Yr(this,"refreshToken",this.b.a),xl(this,r||{}),wn.call(this),this.P=!1,this.o&&Pr()&&(this.i=Hc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new pl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=yl(t.b)-I()-3e5;return 0<e?e:0}))}(this),this.$=_(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){as(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){Sl(o,t.f)},this.aa=null,this.N=new hl(this,r),Yr(this,"multiFactor",this.N)}function El(t,e){t.ba&&hn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&un(e,"languageCodeChanged",t.Ba)}function Il(t,e){t.W&&hn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&un(e,"emulatorConfigChanged",t.za)}function Sl(t,n){t.X=n,us(t.a,e.SDK_VERSION?Nr(e.SDK_VERSION,t.X):null)}function Tl(t,e){t.aa&&hn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&un(e,"frameworkChanged",t.Aa)}function kl(t){try{return e.app(t.m).auth()}catch(n){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Nl(t){t.A||t.u.b||(t.u.start(),hn(t,"tokenChanged",t.$),un(t,"tokenChanged",t.$))}function Al(t){hn(t,"tokenChanged",t.$),t.u.stop()}function Cl(t,e){t.ya=e,Yr(t,"_lat",e)}function Ol(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ce(e).then((function(){return t}))}function Pl(t){t.i&&!t.P&&(t.P=!0,Lc(t.i,t))}function xl(t,e){$r(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new bl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Rl(){}function Dl(t){return ke().then((function(){if(t.A)throw new T("app-deleted")}))}function Ll(t){return H(t.providerData,(function(t){return t.providerId}))}function Ml(t,e){e&&(jl(t,e.providerId),t.providerData.push(e))}function jl(t,e){X(t.providerData,(function(t){return t.providerId==e}))}function Fl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Yr(t,e,n)}function Ul(t,e){t!=e&&($r(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Yr(t,"metadata",function(t){return new bl(t.a,t.b)}(e.metadata)):Yr(t,"metadata",new bl),z(e.providerData,(function(e){Ml(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Yr(t,"refreshToken",t.b.a),fl(t.N,e.N.b))}function Vl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ou(t.a,Ms,{idToken:e}).then(_(t.Jc,t))}(t,e).then((function(){return n||Fl(t,"isAnonymous",!1),e}))}))}function ql(t,e){e[ts]&&t.ya!=e[ts]&&(gl(t.b,e),t.dispatchEvent(new ll("tokenChanged")),Cl(t,e[ts]),Fl(t,"refreshToken",t.b.a))}function Bl(t,e){return Vl(t).then((function(){if(K(Ll(t),e))return Ol(t).then((function(){throw new T("provider-already-linked")}))}))}function zl(t,e,n){return Jr({user:t,credential:Uo(e),additionalUserInfo:e=Yi(e),operationType:n})}function Wl(t,e){return ql(t,e),t.reload().then((function(){return t}))}function Hl(t,n,r,i,o){if(!Pr())return Ne(new T("operation-not-supported-in-this-environment"));if(t.f&&!o)return Ne(t.f);var a=Xi(r.providerId),s=Fr(t.uid+":::"),u=null;(!Dr()||br())&&t.o&&r.isOAuthProvider&&(u=wu(t.o,t.l,t.m,n,r,null,s,e.SDK_VERSION||null,null,null,t.tenantId));var c=dr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Kl(t),!o)return t.I().then((function(){}))})).then((function(){return Uc(t.i,c,n,r,s,!!u,t.tenantId)})).then((function(){return new be((function(e,r){t.ma(n,null,new T("cancelled-popup-request"),t.h||null),t.g=e,t.O=r,t.h=s,t.c=Bc(t.i,t,n,c,s)}))})).then((function(t){return c&&pr(c),t?Jr(t):null})).s((function(t){throw c&&pr(c),t})),Ql(t,i,o)}function Gl(t,e,n,r,i){if(!Pr())return Ne(new T("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ne(t.f);var o=null,a=Fr(t.uid+":::");return r=r().then((function(){if(Kl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Ol(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set($l,t.w(),e.a)),e})).then((function(){return qc(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.ha)return Jl(t.ha);throw o})).then((function(){if(o)throw o})),Ql(t,r,i)}function Kl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Ql(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Ne(t.f)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new ll("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){Q(t.G,r)})),r.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=al(e.w(),kl(t),_(t.ic,t))),n||e}))}function Xl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[ts]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new _l(e,n,t);return t.providerData&&z(t.providerData,(function(t){t&&Ml(r,Jr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Yl(t){this.a=t,this.b=nc()}nl.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=dt(e.f);return delete n[rl],delete n[il],yt(n,t),e.g(n)}))},S(ol,T),sl.prototype.rb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Mo(t.a)}),ou(e,Ds,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(t.a)}),ou(e,Ls,n)}))}(this,t,e)},S(ul,sl),S(cl,ul),S(ll,Xe),(t=hl.prototype).xc=function(t){fl(this,function(t){var e=[];return z(t.mfaInfo||[],(function(t){(t=ei(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new ao(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return ql(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ou(r,iu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=W(e.b,(function(t){return t.uid!=n}));return fl(e,r),ql(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.w()}))}}},pl.prototype.start=function(){this.a=this.c,dl(this,!0)},pl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},vl.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:yl(this)}},vl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new T("user-token-expired")):t||!this.b||I()>yl(this)-3e4?this.a?ml(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},bl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(_l,wn),_l.prototype.wa=function(t){this.pa=t,os(this.a,t)},_l.prototype.ka=function(){return this.pa},_l.prototype.Ga=function(){return $(this.X)},_l.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Yr(_l.prototype,"providerId","firebase"),(t=_l.prototype).reload=function(){var t=this;return Ql(this,Dl(this).then((function(){return Vl(t).then((function(){return Ol(t)})).then(Rl)})))},t.nc=function(t){return this.I(t).then((function(t){return new el(t)}))},t.I=function(t){var e=this;return Ql(this,Dl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.ya&&(Cl(e,t.accessToken),e.dispatchEvent(new ll("tokenChanged"))),Fl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");xl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new wl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ml(this,e[n]);Fl(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ll("userReloaded",{gd:t}))},t.Kc=function(t){return Qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Ql(this,t.c(this.a,this.uid).then((function(t){return ql(e,t),n=zl(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return Qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Ql(this,Bl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=zl(e,t,"link"),Wl(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Ql(this,Bl(this,"phone").then((function(){return tl(kl(n),t,e,_(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Ql(this,ke().then((function(){return tl(kl(n),t,e,_(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Ql(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return ql(e,t),e.reload()})))},t.dd=function(t){var e=this;return Ql(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return ql(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Ql(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return ql(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Dl(this);var e=this;return Ql(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return ql(e,t),Fl(e,"displayName",t.displayName||null),Fl(e,"photoURL",t.photoUrl||null),z(e.providerData,(function(t){"password"===t.providerId&&(Yr(t,"displayName",e.displayName),Yr(t,"photoURL",e.photoURL))})),Ol(e)})).then(Rl))},t.bd=function(t){var e=this;return Ql(this,Vl(this).then((function(n){return K(Ll(e),t)?function(t,e,n){return ou(t,Ps,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return z(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),z(Ll(e),(function(t){n[t]||jl(e,t)})),n[jo.PROVIDER_ID]||Yr(e,"phoneNumber",null),Ol(e)})):Ol(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Ql(this,this.I().then((function(e){return ou(t.a,Os,{idToken:e})})).then((function(){t.dispatchEvent(new ll("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");El(t,null),Il(t,null),Tl(t,null),t.G=[],t.A=!0,Al(t),Yr(t,"refreshToken",null),t.i&&Mc(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?_(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?_(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Kb,this):null},t.Dc=function(t){var e=this;return Hl(this,"linkViaPopup",t,(function(){return Bl(e,t.providerId).then((function(){return Ol(e)}))}),!1)},t.Mc=function(t){return Hl(this,"reauthViaPopup",t,(function(){return ke()}),!0)},t.Ec=function(t){var e=this;return Gl(this,"linkViaRedirect",t,(function(){return Bl(e,t.providerId)}),!1)},t.Nc=function(t){return Gl(this,"reauthViaRedirect",t,(function(){return ke()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ql(this,this.I().then((function(n){return Is(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=zl(i,t,"link"),Wl(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ql(this,ke().then((function(){return lo(Ss(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=zl(i,t,"reauthenticate"),ql(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Ql(this,this.I().then((function(e){return n=e,"undefined"===typeof t||pt(t)?{}:Vi(new Oi(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Ql(this,this.I().then((function(t){return r=t,"undefined"===typeof e||pt(e)?{}:Vi(new Oi(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Ql(this,t=lo(ke(t),n.uid).then((function(t){return e=zl(n,t,"reauthenticate"),ql(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),z(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.N.w()),t};var $l={name:"redirectUser",D:"session"};function Jl(t){return oc(t.b,$l,t.a)}function Zl(t){this.a=t,this.b=nc(),this.c=null,this.f=function(t){var e=nh("local"),n=nh("session"),r=nh("none");return function(t,e,n){var r=ic(e,n),i=rc(t,e.D);return t.get(e,n).then((function(o){var a=null;try{a=jr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(eh,t.a).then((function(t){return t?nh(t):e}))}))}))})).then((function(e){return t.c=e,th(t,e.D)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(nh("local"),this.a,_(this.g,this))}function th(t,e){var n,r=[];for(n in tc)tc[n]!==e&&r.push(oc(t.b,nh(tc[n]),t.a));return r.push(oc(t.b,eh,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ae(t[s],E(o,s),a);else e(i)}))}(r)}Zl.prototype.g=function(){var t=this,e=nh("local");ah(this,(function(){return ke().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return th(t,"local").then((function(){t.c=e}))}))}))};var eh={name:"persistence",D:"session"};function nh(t){return{name:"authUser",D:t}}function rh(t,e){return ah(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ih(t){return ah(t,(function(){return oc(t.b,t.c,t.a)}))}function oh(t,e,n){return ah(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Xl(t||{})}))}))}function ah(t,e){return t.f=t.f.then(e,e),t.f}function sh(t){if(this.m=!1,Yr(this,"settings",new Jc),Yr(this,"app",t),!yh(this).options||!yh(this).options.apiKey)throw new T("invalid-api-key");t=e.SDK_VERSION?Nr(e.SDK_VERSION):null,this.a=new Ja(yh(this).options&&yh(this).options.apiKey,P(N),t),this.R=[],this.u=[],this.P=[],this.ac=e.INTERNAL.createSubscribe(_(this.yc,this)),this.X=void 0,this.bc=e.INTERNAL.createSubscribe(_(this.zc,this)),dh(this,null),this.l=new Zl(yh(this).options.apiKey+":"+yh(this).name),this.G=new Yl(yh(this).options.apiKey+":"+yh(this).name),this.$=wh(this,function(t){var e=yh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get($l,t.a).then((function(t){return t&&e&&(t.authDomain=e),Xl(t||{})}))}(t.G,yh(t).options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),Jl(t.G)}));return wh(t,e)}(t).then((function(){return oh(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then((function(){return rh(t.l,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:ih(t.l)}))):null})).then((function(e){dh(t,e||null)}));return wh(t,n)}(this)),this.i=wh(this,function(t){return t.$.then((function(){return fh(t)})).s((function(){})).then((function(){if(!t.m)return t.pa()})).s((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(nh("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=_(this.Yc,this),this.Ba=_(this.da,this),this.ya=_(this.kc,this),this.za=_(this.vc,this),this.Aa=_(this.wc,this),this.b=null,function(t){var e=yh(t).options.authDomain,n=yh(t).options.apiKey;e&&Pr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Hc(e,n,yh(t).name,t.f),Lc(t.b,t),gh(t)&&Pl(gh(t)),t.o){Pl(t.o);var r=t.o;r.wa(t.ka()),El(r,t),Sl(r=t.o,t.N),Tl(r,t),as((r=t.o).a,t.f),Il(r,t),t.o=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Fc,this),this.A=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function uh(t){Xe.call(this,"languageCodeChanged"),this.h=t}function ch(t){Xe.call(this,"emulatorConfigChanged"),this.c=t}function lh(t){Xe.call(this,"frameworkChanged"),this.f=t}function hh(t){return t.gb||Ne(new T("auth-domain-config-required"))}function fh(t){if(!Pr())return Ne(new T("operation-not-supported-in-this-environment"));var e=hh(t).then((function(){return t.b.qa()})).then((function(t){return t?Jr(t):null}));return wh(t,e)}function ph(t,e){var n={};return n.apiKey=yh(t).options.apiKey,n.authDomain=yh(t).options.authDomain,n.appName=yh(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new _l(t,e);return n&&(i.ha=n),r&&Sl(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return gh(t)&&e.uid==gh(t).uid?(Ul(gh(t),e),t.da(e)):(dh(t,e),Pl(e),t.da(e))})).then((function(){bh(t)}))}function dh(t,e){gh(t)&&(function(t,e){X(t.R,(function(t){return t==e}))}(gh(t),t.Ba),hn(gh(t),"tokenChanged",t.ya),hn(gh(t),"userDeleted",t.za),hn(gh(t),"userInvalidated",t.Aa),Al(gh(t))),e&&(e.R.push(t.Ba),un(e,"tokenChanged",t.ya),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.A&&Nl(e)),Yr(t,"currentUser",e),e&&(e.wa(t.ka()),El(e,t),Sl(e,t.N),Tl(e,t),as(e.a,t.f),Il(e,t))}function vh(t,e){var n=null,r=null;return wh(t,e.then((function(e){return n=Uo(e),r=Yi(e),ph(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=al(e.w(),t,_(t.jc,t))),n||e})).then((function(){return Jr({user:gh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function yh(t){return t.app}function gh(t){return t.currentUser}function mh(t){return gh(t)&&gh(t)._lat||null}function bh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](mh(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](mh(t))}}function wh(t,e){return t.R.push(e),e.na((function(){Q(t.R,e)})),e}function _h(){}function Eh(){this.a={},this.b=1e12}Zl.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in tc)if(tc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(_r()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ru()&&"none"!==t)throw n;break;default:if(!Or()&&"none"!==t)throw n}}(t),ah(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,th(n,t)})).then((function(){if(n.c=nh(t),e)return n.b.set(n.c,e,n.a)})):ke()}))},S(sh,wn),S(uh,Xe),S(ch,Xe),S(lh,Xe),(t=sh.prototype).wb=function(t){return wh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,os(this.a,this.aa),this.dispatchEvent(new uh(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");zr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&gr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,as(this.a,this.f),this.dispatchEvent(new ch(this.f))}},t.Fc=function(t){this.N.push(t),us(this.a,e.SDK_VERSION?Nr(e.SDK_VERSION,this.N):null),this.dispatchEvent(new lh(this.N))},t.Ga=function(){return $(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:yh(this).options.apiKey,authDomain:yh(this).options.authDomain,appName:yh(this).name,currentUser:gh(this)&&gh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?_(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return vh(i,Es(i.a,o))}))},t.Wc=function(t){if(!Pr())return Ne(new T("operation-not-supported-in-this-environment"));var n=this,r=Xi(t.providerId),i=Fr(),o=null;(!Dr()||br())&&yh(this).options.authDomain&&t.isOAuthProvider&&(o=wu(yh(this).options.authDomain,yh(this).options.apiKey,yh(this).name,"signInViaPopup",t,null,i,e.SDK_VERSION||null,null,null,this.S(),this.f));var a=dr(o,r&&r.ua,r&&r.ta);return wh(this,r=hh(this).then((function(e){return Uc(e,a,"signInViaPopup",t,i,!!o,n.S())})).then((function(){return new be((function(t,e){n.ma("signInViaPopup",null,new T("cancelled-popup-request"),n.h),n.g=t,n.O=e,n.h=i,n.c=Bc(n.b,n,"signInViaPopup",a,i)}))})).then((function(t){return a&&pr(a),t?Jr(t):null})).s((function(t){throw a&&pr(a),t})))},t.Xc=function(t){if(!Pr())return Ne(new T("operation-not-supported-in-this-environment"));var e=this,n=hh(this).then((function(){return function(t){return ah(t,(function(){return t.b.set(eh,t.c.D,t.a)}))}(e.l)})).then((function(){return qc(e.b,"signInViaRedirect",t,void 0,e.S())}));return wh(this,n)},t.qa=function(){var t=this;return fh(this).then((function(e){return t.b&&Qc(t.b.b),e})).s((function(e){throw t.b&&Qc(t.b.b),e}))},t.cd=function(t){if(!t)return Ne(new T("null-user"));if(this.W!=t.tenantId)return Ne(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=yh(this).options.apiKey,n.authDomain=yh(this).options.authDomain,n.appName=yh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[ts]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new _l(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&Sl(e,r),Ul(e,t),e}(t,n,e.G,e.Ga());return wh(this,this.i.then((function(){if(yh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return gh(e)&&t.uid==gh(e).uid?(Ul(gh(e),t),e.da(t)):(dh(e,r),Pl(r),e.da(r))})).then((function(){bh(e)})))},t.zb=function(){var t=this;return wh(this,this.i.then((function(){return t.b&&Qc(t.b.b),gh(t)?(dh(t,null),ih(t.l).then((function(){bh(t)}))):ke()})))},t.Yc=function(){var t=this;return oh(this.l,yh(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=gh(t)&&e){n=gh(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ul(gh(t),e),gh(t).I();(gh(t)||e)&&(dh(t,e),e&&(Pl(e),e.ha=t.G),t.b&&Lc(t.b,t),bh(t))}}))},t.da=function(t){return rh(this.l,t)},t.kc=function(){bh(this),this.da(gh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return vh(e,ke(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(gh(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),wh(t,t.i.then((function(){!t.m&&K(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(mh(t)))})))}(this,(function(){t.next(gh(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(gh(r)):"function"===typeof t.next&&t.next(gh(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof t?t(gh(r)):"function"===typeof t.next&&t.next(gh(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return wh(this,this.i.then((function(){return gh(e)?gh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return vh(e,ou(e.a,Zs,{token:t}))})).then((function(t){var n=t.user;return Fl(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return vh(n,ou(n.a,tu,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return vh(n,ou(n.a,As,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return vh(e,t.ja(e.a))}))},t.Rc=function(t){return Qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=gh(t);if(e&&e.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vh(t,t.a.yb()).then((function(e){var n=e.user;return Fl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return gh(this)&&gh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&gh(this)&&Nl(gh(this))},t.Oc=function(t){var e=this;z(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&gh(this)&&Al(gh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),wh(this,this.i.then((function(){e.m||K(e.u,t)&&t(mh(e))})))},t.removeAuthTokenListener=function(t){X(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(nh("local"),t.a,this.pa),this.b&&(Mc(this.b,this),Qc(this.b.b)),Promise.resolve()},t.gc=function(t){return wh(this,function(t,e){return ou(t,Cs,{identifier:e,continueUri:xr()?cr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!Ro(t)},t.vb=function(t,e){var n=this;return wh(this,ke().then((function(){var t=new Oi(e);if(!t.c)throw new T("argument-error",Ri+" must be true when sending sign in link to email");return Vi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return wh(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return wh(this,this.a.Qa(t).then((function(t){return new si(t)})))},t.ib=function(t){return wh(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return wh(this,ke().then((function(){return"undefined"===typeof e||pt(e)?{}:Vi(new Oi(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return wh(this,tl(this,t,e,_(this.Za,this)))},t.Uc=function(t,e){var n=this;return wh(this,ke().then((function(){var r=e||cr(),i=xo(t,r);if(!(r=Ro(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new T("tenant-id-mismatch");return n.Za(i)})))},_h.prototype.render=function(){},_h.prototype.reset=function(){},_h.prototype.getResponse=function(){},_h.prototype.execute=function(){};var Ih=null;function Sh(t,e){return(e=Th(e))&&t.a[e]||null}function Th(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function kh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=oe(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function Nh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ah(){}function Ch(){}Eh.prototype.render=function(t,e){return this.a[this.b.toString()]=new kh(t,e),this.b++},Eh.prototype.reset=function(t){var e=Sh(this,t);t=Th(t),e&&t&&(e.delete(),delete this.a[t])},Eh.prototype.getResponse=function(t){return(t=Sh(this,t))?t.getResponse():null},Eh.prototype.execute=function(t){(t=Sh(this,t))&&t.execute()},kh.prototype.getResponse=function(){return Nh(this),this.b},kh.prototype.execute=function(){Nh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},kh.prototype.delete=function(){Nh(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Yr(Ah,"FACTOR_ID","phone"),Ch.prototype.g=function(){return Ih||(Ih=new Eh),ke(Ih)},Ch.prototype.c=function(){};var Oh=null;function Ph(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xh=new mt(_t,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rh=new qr(3e4,6e4);Ph.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Rh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete u[e.a]},ke(Ha(Tt(xh,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Ph.prototype.c=function(){this.b--};var Dh=null;function Lh(t,e,n,r,i,o,a){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a?(Oh||(Oh=new Ch),a=Oh):(Dh||(Dh=new Ph),a=Dh),this.v=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Uh],!u.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!oe(e)||!this.i&&oe(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ja(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Mh];this.a[Mh]=function(t){if(Vh(s,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Cr(c,u);"function"===typeof e&&e(t)}};var l=this.a[jh];this.a[jh]=function(){if(Vh(s,null),"function"===typeof l)l();else if("string"===typeof l){var t=Cr(l,u);"function"===typeof t&&t()}}}var Mh="callback",jh="expired-callback",Fh="sitekey",Uh="size";function Vh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function qh(t,e){return t.h.push(e),e.na((function(){Q(t.h,e)})),e}function Bh(t){if(t.A)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function zh(t,n,r){var i=!1;try{this.b=r||e.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=e.SDK_VERSION?Nr(e.SDK_VERSION,a):null,Lh.call(this,r,t,n,(function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t}),a,P(N),i)}function Wh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Hh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Hh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Lh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=qh(this,ke().then((function(){if(xr()&&!wr())return gr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,ou(t.o,Bs,{})})).then((function(e){t.a[Fh]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Bh(this);var t=this;return qh(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=oe(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ie&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Bt(a.name),'"'),a.type){o.push(' type="',Bt(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=he(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ae(o,a)),2<r.length&&le(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Bh(this);var t=this;return qh(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){X(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Bh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Bh(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=oe(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},S(zh,Lh);var Hh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Gh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"===typeof t}}}function Kh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"===typeof t}}}function Qh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function Xh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"===typeof t}}}function Yh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function $h(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Jh(t,e){return v(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function Zh(t){return v(t)&&"string"===typeof t.uid}function tf(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function ef(t,e){for(var n in e){var r=e[n].name;t[r]=of(r,t[n],e[n].j)}}function nf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){Wh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function rf(t,e,n,r){t[e]=of(e,n,r)}function of(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Wh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}ef(sh.prototype,{ib:{name:"applyActionCode",j:[Gh("code")]},Qa:{name:"checkActionCode",j:[Gh("code")]},mb:{name:"confirmPasswordReset",j:[Gh("code"),Gh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Gh("email"),Gh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Gh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Gh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[tf(Qh(),Xh(),"nextOrObserver"),Xh("opt_error",!0),Xh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[tf(Qh(),Xh(),"nextOrObserver"),Xh("opt_error",!0),Xh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Gh("email"),tf(Qh("opt_actionCodeSettings",!0),Yh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Gh("email"),Qh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Gh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[$h()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[$h()]},Sc:{name:"signInWithCustomToken",j:[Gh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Gh("email"),Gh("password")]},Uc:{name:"signInWithEmailLink",j:[Gh("email"),Gh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Gh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[tf({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof _l)}},Yh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Gh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Gh("url")]},hd:{name:"verifyPasswordResetCode",j:[Gh("code")]}}),nf(sh.prototype,{lc:{name:"languageCode",jb:tf(Gh(),Yh(),"languageCode")},ti:{name:"tenantId",jb:tf(Gh(),Yh(),"tenantId")}}),sh.Persistence=tc,sh.Persistence.LOCAL="local",sh.Persistence.SESSION="session",sh.Persistence.NONE="none",ef(_l.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Kh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[$h()]},pb:{name:"linkWithCredential",j:[$h()]},Cc:{name:"linkWithPhoneNumber",j:[Gh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[$h()]},sb:{name:"reauthenticateWithCredential",j:[$h()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Gh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[tf(Qh("opt_actionCodeSettings",!0),Yh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Gh(null,!0)]},bd:{name:"unlink",j:[Gh("provider")]},Ab:{name:"updateEmail",j:[Gh("email")]},Bb:{name:"updatePassword",j:[Gh("password")]},dd:{name:"updatePhoneNumber",j:[$h("phone")]},Cb:{name:"updateProfile",j:[Qh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Gh("email"),tf(Qh("opt_actionCodeSettings",!0),Yh(null,!0),"opt_actionCodeSettings",!0)]}}),ef(Eh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(be.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),nf(Jc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Kh("appVerificationDisabledForTesting")}}),ef(Zc.prototype,{confirm:{name:"confirm",j:[Gh("verificationCode")]}}),rf(co,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[go,Oo,Lo,po],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[tf(Gh(),Qh(),"json")]),rf(Po,"credential",(function(t,e){return new Co(t,e)}),[Gh("email"),Gh("password")]),ef(Co.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),ef(_o.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},Ka:{name:"setCustomParameters",j:[Qh("customOAuthParameters")]}}),rf(_o,"credential",Eo,[tf(Gh(),Qh(),"token")]),rf(Po,"credentialWithLink",xo,[Gh("email"),Gh("emailLink")]),ef(Io.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},Ka:{name:"setCustomParameters",j:[Qh("customOAuthParameters")]}}),rf(Io,"credential",So,[tf(Gh(),Qh(),"token")]),ef(To.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},Ka:{name:"setCustomParameters",j:[Qh("customOAuthParameters")]}}),rf(To,"credential",ko,[tf(Gh(),tf(Qh(),Yh()),"idToken"),tf(Gh(),Yh(),"accessToken",!0)]),ef(No.prototype,{Ka:{name:"setCustomParameters",j:[Qh("customOAuthParameters")]}}),rf(No,"credential",Ao,[tf(Gh(),Qh(),"token"),Gh("secret",!0)]),ef(wo.prototype,{Ca:{name:"addScope",j:[Gh("scope")]},credential:{name:"credential",j:[tf(Gh(),tf(Qh(),Yh()),"optionsOrIdToken"),tf(Gh(),Yh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Qh("customOAuthParameters")]}}),ef(vo.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),ef(ho.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),rf(jo,"credential",Fo,[Gh("verificationId"),Gh("verificationCode")]),ef(jo.prototype,{eb:{name:"verifyPhoneNumber",j:[tf(Gh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Jh(t.session,so)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?Jh(t.session,uo)&&Zh(t.multiFactorHint):t.session&&t.multiFactorUid?Jh(t.session,uo)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),ef(Do.prototype,{w:{name:"toJSON",j:[Gh(null,!0)]}}),ef(T.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),ef(Ko.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),ef(Go.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),ef(ol.prototype,{toJSON:{name:"toJSON",j:[Gh(null,!0)]}}),ef(nl.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),ef(hl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Gh("displayName",!0)]},ad:{name:"unenroll",j:[tf({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Zh},Gh(),"multiFactorInfoIdentifier")]}}),ef(zh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rf(_i,"parseLink",Ci,[Gh("link")]),rf(Ah,"assertion",(function(t){return new cl(t)}),[$h("phone")]),function(){if("undefined"===typeof e||!e.INTERNAL||!e.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ui,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sh,AuthCredential:co,Error:T};rf(t,"EmailAuthProvider",Po,[]),rf(t,"FacebookAuthProvider",_o,[]),rf(t,"GithubAuthProvider",Io,[]),rf(t,"GoogleAuthProvider",To,[]),rf(t,"TwitterAuthProvider",No,[]),rf(t,"OAuthProvider",wo,[Gh("providerId")]),rf(t,"SAMLAuthProvider",bo,[Gh("providerId")]),rf(t,"PhoneAuthProvider",jo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof sh)}}]),rf(t,"RecaptchaVerifier",zh,[tf(Gh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Qh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.app.App)}}]),rf(t,"ActionCodeURL",_i,[]),rf(t,"PhoneMultiFactorGenerator",Ah,[]),e.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new sh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.mc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.registerVersion("@firebase/auth","0.15.0"),e.INTERNAL.extendNamespace({User:_l})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},6797:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6303),i=n(9164),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=a);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:a,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(u){if(i)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(a)}catch(f){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService(l);c.resolve(h)}catch(f){}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===a?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:a:t},t}();var u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=u,e.Provider=s},6303:function(t,e,n){"use strict";n.r(e),n.d(e,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return _},__await:function(){return m},__awaiter:function(){return l},__classPrivateFieldGet:function(){return T},__classPrivateFieldSet:function(){return k},__createBinding:function(){return f},__decorate:function(){return s},__exportStar:function(){return p},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return S},__importStar:function(){return I},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return y},__spreadArrays:function(){return g},__values:function(){return d}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},5054:function(t,e,n){"use strict";var r=n(508),i=n(5651),o=n(9386),a=n(9164),s=n(2055),u=n(6797);var c=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(i),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),f=new o.Logger("@firebase/firestore");function p(){return f.logLevel}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.DEBUG){var i=e.map(g);f.debug.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.ERROR){var i=e.map(g);f.error.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.WARN){var i=e.map(g);f.warn.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function g(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function m(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw v(e),new Error(e)}function b(t,e){t||m()}function w(t,e){return t}function _(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function E(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var S=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&m(),void 0===n?n=t.length-e:n>t.length-e&&m(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return t=void 0===t?1:t,this.o(this.segments,this.offset+t,this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.P=function(){return new e([])},e}(S),k=/^[_a-zA-Z][_a-zA-Z0-9]*$/,N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return k.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new h(l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new h(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new h(l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.P=function(){return new e([])},e}(S),A=function(){function t(t){this.path=t}return t.D=function(e){return new t(T.g(e))},t.C=function(e){return new t(T.g(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===T.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return T.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new T(e.slice()))},t}();function C(t,e){if(0!==e.length)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+K(e.length,"argument")+".")}function O(t,e,n){if(e.length!==n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function P(t,e,n){if(e.length<n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function x(t,e,n,r){if(e.length<n||e.length>r)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function R(t,e,n,r){U(t,e,G(n)+" argument",r)}function D(t,e,n,r){void 0!==r&&R(t,e,n,r)}function L(t,e,n,r){U(t,e,n+" option",r)}function M(t,e,n,r){void 0!==r&&L(t,e,n,r)}function j(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(q(u))}var c=q(r);throw new h(l.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function F(t,e,n,r){if(!e.some((function(t){return t===r})))throw new h(l.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+t+"() for its "+G(n)+" argument. Acceptable values: "+e.join(", "));return r}function U(t,e,n,r){if(!("object"===e?V(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=q(r);throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function V(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function q(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":m()}function B(t,e,n){if(void 0===n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+G(e)+" argument, but it was undefined.")}function z(t,e,n){E(e,(function(e,r){if(n.indexOf(e)<0)throw new h(l.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function W(t,e,n,r){var i=q(r);return new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+G(n)+" argument to be a "+e+", but it was: "+i)}function H(t,e,n){if(n<=0)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+G(e)+" argument to be a positive number, but it was: "+n+".")}function G(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}function Q(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var X=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Q(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Y(t,e){return t<e?-1:t>e?1:0}function $(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function J(t){return t+"\0"}var Z=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.M,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return Y(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();Z.B=new Z("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(Z.fromBase64String(e))}catch(e){throw new h(l.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Z.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();function et(){if("undefined"==typeof Uint8Array)throw new h(l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nt(){if("undefined"==typeof atob)throw new h(l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.fromBase64String=function(t){O("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,t),nt();try{return new e(Z.fromBase64String(t))}catch(t){throw new h(l.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(O("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw W("Blob.fromUint8Array","Uint8Array",1,t);return new e(Z.fromUint8Array(t))},e.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),nt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return O("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),it=function(t,e,n,r,i,o){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o},ot=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return Y(this.projectId,t.projectId)||Y(this.database,t.database)},t}(),at=function(){function t(t,e){this.K=t,this.G=e,this.H={}}return t.prototype.get=function(t){var e=this.K(t),n=this.H[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.G(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.K(t),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.H[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.K(t),n=this.H[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],t))return 1===n.length?delete this.H[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){E(this.H,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.m=function(){return I(this.H)},t}(),st=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(t){return this.seconds===t.seconds?Y(this.nanoseconds,t.nanoseconds):Y(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ut=function(){function t(t){this.timestamp=t}return t.J=function(e){return new t(e)},t.min=function(){return new t(new st(0,0))},t.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();function ct(t){return null==t}function lt(t){return 0===t&&1/t==-1/0}function ht(t){return"number"==typeof t&&Number.isInteger(t)&&!lt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ft=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.tt=null};function pt(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ft(t,e,n,r,i,o,a)}function dt(t){var e=w(t);if(null===e.tt){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.R()+t.op.toString()+oe(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),ct(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=lr(e.startAt)),e.endAt&&(n+="|ub:",n+=lr(e.endAt)),e.tt=n}return e.tt}function vt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!vr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ee(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fr(t.startAt,e.startAt)&&fr(t.endAt,e.endAt)}function yt(t){return A.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}var gt,mt,bt=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=ut.min()),void 0===o&&(o=ut.min()),void 0===a&&(a=Z.B),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),wt=function(t){this.count=t};function _t(t){switch(t){case l.OK:return m();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0;default:return m()}}function Et(t){if(void 0===t)return v("GRPC error has no .code"),l.UNKNOWN;switch(t){case gt.OK:return l.OK;case gt.CANCELLED:return l.CANCELLED;case gt.UNKNOWN:return l.UNKNOWN;case gt.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case gt.INTERNAL:return l.INTERNAL;case gt.UNAVAILABLE:return l.UNAVAILABLE;case gt.UNAUTHENTICATED:return l.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case gt.NOT_FOUND:return l.NOT_FOUND;case gt.ALREADY_EXISTS:return l.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return l.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case gt.ABORTED:return l.ABORTED;case gt.OUT_OF_RANGE:return l.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return l.UNIMPLEMENTED;case gt.DATA_LOSS:return l.DATA_LOSS;default:return m()}}(mt=gt||(gt={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";var It=function(){function t(t,e){this.i=t,this.root=e||Tt.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,Tt.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,Tt.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new St(this.root,null,this.i,!1)},t.prototype.ft=function(t){return new St(this.root,t,this.i,!1)},t.prototype.dt=function(){return new St(this.root,null,this.i,!0)},t.prototype.wt=function(t){return new St(this.root,t,this.i,!0)},t}(),St=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),Tt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw m();if(this.right.yt())throw m();var t=this.left.Nt();if(t!==this.right.Nt())throw m();return t+(this.yt()?0:1)},t}();Tt.EMPTY=null,Tt.RED=!0,Tt.at=!1,Tt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw m()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new Tt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var kt=function(){function t(t){this.i=t,this.data=new It(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.Ft=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.$t=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new Nt(this.data._t())},t.prototype.ft=function(t){return new Nt(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),Nt=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),At=new It(A.i);function Ct(){return At}function Ot(){return Ct()}var Pt=new It(A.i);function xt(){return Pt}var Rt=new It(A.i),Dt=new kt(A.i);function Lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Dt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Mt=new kt(Y);function jt(){return Mt}var Ft=function(){function t(t){this.i=t?function(e,n){return t(e,n)||A.i(e.key,n.key)}:function(t,e){return A.i(t.key,e.key)},this.Ot=xt(),this.Lt=new It(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Ot.get(t)},t.prototype.get=function(t){return this.Ot.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(t){var e=this.Ot.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Ot=e,r.Lt=n,r},t}(),Ut=function(){function t(){this.qt=new It(A.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):m():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),Vt=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=a,this.Kt=s}return t.Gt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ft.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&Xn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),qt=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,Bt.Zt(e,n)),new t(ut.min(),r,jt(),Ct(),Lt())},t}(),Bt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(Z.B,n,Lt(),Lt(),Lt())},t}(),zt=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},Wt=function(t,e){this.targetId=t,this.oe=e},Ht=function(t,e,n,r){void 0===n&&(n=Z.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Gt=function(){function t(){this.ae=0,this.ce=Xt(),this.ue=Z.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.O()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=Lt(),e=Lt(),n=Lt();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:m()}})),new Bt(this.ue,this.he,t,e,n)},t.prototype.me=function(){this.le=!1,this.ce=Xt()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Kt=function(){function t(t){this.ge=t,this.Pe=new Map,this.ye=Ct(),this.Ve=Qt(),this.pe=new kt(Y)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof Rn?this.ve(r,t.re):t.re instanceof Dn&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];this.Se(a,t.key,t.re)}},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.Fe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.Fe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.Fe(n)&&(e.xe(n),r.de(t.resumeToken));break;default:m()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Fe(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(yt(i))if(0===n){var o=new A(i.path);this.Se(e,o,new Dn(o,ut.min()))}else b(1===n);else this.Me(e)!==n&&(this.xe(e),this.pe=this.pe.add(e))}},t.prototype.Oe=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.ke(i);if(o){if(r.te&&yt(o.target)){var a=new A(o.target.path);null!==e.ye.get(a)||e.Le(i,a)||e.Se(i,a,new Dn(a,t))}r.fe&&(n.set(i,r.we()),r.me())}}));var r=Lt();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new qt(t,n,this.pe,this.ye,r);return this.ye=Ct(),this.Ve=Qt(),this.pe=new kt(Y),i},t.prototype.ve=function(t,e){if(this.Fe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.Fe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},t.prototype.Ie=function(t){this.Ne(t).Ie()},t.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new Gt,this.Pe.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new kt(Y),this.Ve=this.Ve.ot(t,e)),e},t.prototype.Fe=function(t){var e=null!==this.ke(t);return e||d("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new Gt),this.ge.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},t}();function Qt(){return new It(A.i)}function Xt(){return new It(A.i)}function Yt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $t(t){var e=t.mapValue.fields.__previous_value__;return Yt(e)?$t(e):e}function Jt(t){var e=se(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var Zt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function te(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yt(t)?4:10:m()}function ee(t,e){var n=te(t);if(n!==te(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jt(t).isEqual(Jt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=se(t.timestampValue),r=se(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ce(t.bytesValue).isEqual(ce(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ue(t.geoPointValue.latitude)===ue(e.geoPointValue.latitude)&&ue(t.geoPointValue.longitude)===ue(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ue(t.integerValue)===ue(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ue(t.doubleValue),r=ue(e.doubleValue);return n===r?lt(n)===lt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return $(t.arrayValue.values||[],e.arrayValue.values||[],ee);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(_(n)!==_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ee(n[i],r[i])))return!1;return!0}(t,e);default:return m()}}function ne(t,e){return void 0!==(t.values||[]).find((function(t){return ee(t,e)}))}function re(t,e){var n=te(t),r=te(e);if(n!==r)return Y(n,r);switch(n){case 0:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ue(t.integerValue||t.doubleValue),r=ue(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ie(t.timestampValue,e.timestampValue);case 4:return ie(Jt(t),Jt(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ce(t),r=ce(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Y(n[i],r[i]);if(0!==o)return o}return Y(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Y(ue(t.latitude),ue(e.latitude));return 0!==n?n:Y(ue(t.longitude),ue(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=re(n[i],r[i]);if(o)return o}return Y(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Y(r[a],o[a]);if(0!==s)return s;var u=re(n[r[a]],i[o[a]]);if(0!==u)return u}return Y(r.length,o.length)}(t.mapValue,e.mapValue);default:throw m()}}function ie(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);var n=se(t),r=se(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function oe(t){return ae(t)}function ae(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=se(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ce(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,A.C(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ae(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ae(t.fields[o])}return e+"}"}(t.mapValue):m();var e,n}function se(t){if(b(!!t),"string"==typeof t){var e=0,n=Zt.exec(t);if(b(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ue(t.seconds),nanos:ue(t.nanos)}}function ue(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ce(t){return"string"==typeof t?Z.fromBase64String(t):Z.fromUint8Array(t)}function le(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function he(t){return!!t&&"integerValue"in t}function fe(t){return!!t&&"arrayValue"in t}function pe(t){return!!t&&"nullValue"in t}function de(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ve(t){return!!t&&"mapValue"in t}var ye={asc:"ASCENDING",desc:"DESCENDING"},ge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},me=function(t,e){this.U=t,this.Qe=e};function be(t){return{integerValue:""+t}}function we(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lt(e)?"-0":e}}function _e(t,e){return ht(e)?be(e):we(t,e)}function Ee(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ie(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function Se(t,e){return Ee(t,e.Z())}function Te(t){return b(!!t),ut.J(function(t){var e=se(t);return new st(e.seconds,e.nanos)}(t))}function ke(t,e){return function(t){return new T(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Ne(t){var e=T.g(t);return b(Ye(e)),e}function Ae(t,e){return ke(t.U,e.path)}function Ce(t,e){var n=Ne(e);return b(n.get(1)===t.U.projectId),b(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new A(Re(n))}function Oe(t,e){return ke(t.U,e)}function Pe(t){var e=Ne(t);return 4===e.length?T.P():Re(e)}function xe(t){return new T(["projects",t.U.projectId,"databases",t.U.database]).R()}function Re(t){return b(t.length>4&&"documents"===t.get(4)),t.u(5)}function De(t,e,n){return{name:Ae(t,e),fields:n.proto.mapValue.fields}}function Le(t,e){var n;if(e instanceof _n)n={update:De(t,e.key,e.value)};else if(e instanceof Nn)n={delete:Ae(t,e.key)};else if(e instanceof En)n={update:De(t,e.key,e.data),updateMask:Xe(e.We)};else if(e instanceof Sn)n={transform:{document:Ae(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof en)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof nn)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof on)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof sn)return{fieldPath:e.field.R(),increment:n.je};throw m()}(0,t)}))}};else{if(!(e instanceof An))return m();n={verify:Ae(t,e.key)}}return e.Ge.Ke||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Se(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:m()}(t,e.Ge)),n}function Me(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?pn.updateTime(Te(t.updateTime)):void 0!==t.exists?pn.exists(t.exists):pn.ze()}(e.currentDocument):pn.ze();if(e.update){e.update.name;var r=Ce(t,e.update.name),i=new Cn({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new ln(e.map((function(t){return N.S(t)})))}(e.updateMask);return new En(r,i,o,n)}return new _n(r,i,n)}if(e.delete){var a=Ce(t,e.delete);return new Nn(a,n)}if(e.transform){var s=Ce(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)b("REQUEST_TIME"===e.setToServerValue),n=new en;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new nn(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new on(i)}else"increment"in e?n=new sn(t,e.increment):m();var o=N.S(e.fieldPath);return new hn(o,n)}(t,e)}));return b(!0===n.exists),new Sn(s,u)}if(e.verify){var c=Ce(t,e.verify);return new An(c,n)}return m()}function je(t,e){return{documents:[Oe(t,e.path)]}}function Fe(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Oe(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Oe(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(de(t.value))return{unaryFilter:{field:He(t.field),op:"IS_NAN"}};if(pe(t.value))return{unaryFilter:{field:He(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(de(t.value))return{unaryFilter:{field:He(t.field),op:"IS_NOT_NAN"}};if(pe(t.value))return{unaryFilter:{field:He(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:He(t.field),op:We(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:He(t.field),direction:ze(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Qe||ct(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=qe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=qe(e.endAt)),n}function Ue(t){var e=Pe(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){b(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Ve(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new pr(Ge(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ct(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Be(n.startAt));var l=null;return n.endAt&&(l=Be(n.endAt)),Hn(jn(e,i,s,a,u,"F",c,l))}function Ve(t){return t?void 0!==t.unaryFilter?[Qe(t)]:void 0!==t.fieldFilter?[Ke(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Ve(t)})).reduce((function(t,e){return t.concat(e)})):m():[]}function qe(t){return{before:t.before,values:t.position}}function Be(t){var e=!!t.before,n=t.values||[];return new cr(n,e)}function ze(t){return ye[t]}function We(t){return ge[t]}function He(t){return{fieldPath:t.R()}}function Ge(t){return N.S(t.fieldPath)}function Ke(t){return tr.create(Ge(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return m()}}(t.fieldFilter.op),t.fieldFilter.value)}function Qe(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ge(t.unaryFilter.field);return tr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ge(t.unaryFilter.field);return tr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ge(t.unaryFilter.field);return tr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ge(t.unaryFilter.field);return tr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return m()}}function Xe(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function Ye(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var $e=function(){this.He=void 0};function Je(t,e,n){return t instanceof en?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof nn?rn(t,e):t instanceof on?an(t,e):function(t,e){var n=tn(t,e),r=un(n)+un(t.je);return he(n)&&he(t.je)?be(r):we(t.serializer,r)}(t,e)}function Ze(t,e,n){return t instanceof nn?rn(t,e):t instanceof on?an(t,e):n}function tn(t,e){return t instanceof sn?he(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var en=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}($e),nn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}($e);function rn(t,e){for(var n=cn(e),r=function(t){n.some((function(e){return ee(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var on=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}($e);function an(t,e){for(var n=cn(e),r=function(t){n=n.filter((function(e){return!ee(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var sn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.je=n,r}return r.__extends(e,t),e}($e);function un(t){return ue(t.integerValue||t.doubleValue)}function cn(t){return fe(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ln=function(){function t(t){this.fields=t,t.sort(N.i)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return $(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),hn=function(t,e){this.field=t,this.transform=e},fn=function(t,e){this.version=t,this.transformResults=e},pn=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function dn(t,e){return void 0!==t.updateTime?e instanceof Rn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Rn}var vn=function(){};function yn(t,e,n){return t instanceof _n?function(t,e,n){return new Rn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof En?function(t,e,n){if(!dn(t.Ge,e))return new Ln(t.key,n.version);var r=In(t,e);return new Rn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Sn?function(t,e,n){if(b(null!=n.transformResults),!dn(t.Ge,e))return new Ln(t.key,n.version);var r=Tn(t,e),i=function(t,e,n){var r=[];b(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Rn&&(s=e.field(o.field)),r.push(Ze(a,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=kn(t,r.data(),i);return new Rn(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Dn(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function gn(t,e,n,r){return t instanceof _n?function(t,e){if(!dn(t.Ge,e))return e;var n=wn(e);return new Rn(t.key,n,t.value,{Je:!0})}(t,e):t instanceof En?function(t,e){if(!dn(t.Ge,e))return e;var n=wn(e),r=In(t,e);return new Rn(t.key,n,r,{Je:!0})}(t,e):t instanceof Sn?function(t,e,n,r){if(!dn(t.Ge,e))return e;var i=Tn(t,e),o=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof Rn&&(c=n.field(s.field)),null===c&&r instanceof Rn&&(c=r.field(s.field)),i.push(Je(u,c,e))}return i}(t.fieldTransforms,n,e,r),a=kn(t,i.data(),o);return new Rn(t.key,i.version,a,{Je:!0})}(t,e,r,n):function(t,e){return dn(t.Ge,e)?new Dn(t.key,ut.min()):e}(t,e)}function mn(t,e){return t instanceof Sn?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e instanceof Rn?e.field(o.field):void 0,s=tn(o.transform,a||null);null!=s&&(n=null==n?(new On).set(o.field,s):n.set(o.field,s))}return n?n.Xe():null}(t,e):null}function bn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||$(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof nn&&e instanceof nn||t instanceof on&&e instanceof on?$(t.elements,e.elements,ee):t instanceof sn&&e instanceof sn?ee(t.je,e.je):t instanceof en&&e instanceof en}(t.transform,e.transform)}(t,e)})))}function wn(t){return t instanceof Rn?t.version:ut.min()}var _n=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return r.__extends(e,t),e}(vn),En=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.We=r,o.Ge=i,o.type=1,o}return r.__extends(e,t),e}(vn);function In(t,e){return function(t,e){var n=new On(e);return t.We.fields.forEach((function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof Rn?e.data():Cn.empty())}var Sn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=pn.exists(!0),r}return r.__extends(e,t),e}(vn);function Tn(t,e){return e}function kn(t,e,n){for(var r=new On(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Xe()}var Nn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return r.__extends(e,t),e}(vn),An=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return r.__extends(e,t),e}(vn),Cn=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!ve(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return ee(this.proto,t.proto)},t}(),On=function(){function t(t){void 0===t&&(t=Cn.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===te(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Xe=function(){var t=this.nn(N.P(),this.tn);return null!=t?new Cn(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=ve(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.nn(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Pn(t){var e=[];return E(t.fields||{},(function(t,n){var r=new N([t]);if(ve(n)){var i=Pn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new ln(e)}var xn=function(t,e){this.key=t,this.version=e},Rn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(xn),Dn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(xn),Ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(xn),Mn=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=a,this.endAt=s,this.cn=null,this.un=null,this.startAt,this.endAt};function jn(t,e,n,r,i,o,a,s){return new Mn(t,e,n,r,i,o,a,s)}function Fn(t){return new Mn(t)}function Un(t){return!ct(t.limit)&&"F"===t.an}function Vn(t){return!ct(t.limit)&&"L"===t.an}function qn(t){return t.on.length>0?t.on[0].field:null}function Bn(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function zn(t){return null!==t.collectionGroup}function Wn(t){var e=w(t);if(null===e.cn){e.cn=[];var n=Bn(e),r=qn(e);if(null!==n&&null===r)n.p()||e.cn.push(new pr(n)),e.cn.push(new pr(N.v(),"asc"));else{for(var i=!1,o=0,a=e.on;o<a.length;o++){var s=a[o];e.cn.push(s),s.field.p()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new pr(N.v(),u))}}}return e.cn}function Hn(t){var e=w(t);if(!e.un)if("F"===e.an)e.un=pt(e.path,e.collectionGroup,Wn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Wn(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new pr(o.field,a))}var s=e.endAt?new cr(e.endAt.position,!e.endAt.before):null,u=e.startAt?new cr(e.startAt.position,!e.startAt.before):null;e.un=pt(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.un}function Gn(t,e,n){return new Mn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kn(t,e){return new Mn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function Qn(t,e){return new Mn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Xn(t,e){return vt(Hn(t),Hn(e))&&t.an===e.an}function Yn(t){return dt(Hn(t))+"|lt:"+t.an}function $n(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+oe(e.value);var e})).join(", ")+"]"),ct(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+lr(t.startAt)),t.endAt&&(e+=", endAt: "+lr(t.endAt)),"Target("+e+")"}(Hn(t))+"; limitType="+t.an+")"}function Jn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):A.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!hr(t.startAt,Wn(t),e))&&(!t.endAt||!hr(t.endAt,Wn(t),e))}(t,e)}function Zn(t){return function(e,n){for(var r=!1,i=0,o=Wn(t);i<o.length;i++){var a=o[i],s=dr(a,e,n);if(0!==s)return s;r=r||a.field.p()}return 0}}var tr=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.ln(t,n,r):new er(t,n,r);if(pe(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(de(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new or(t,r):"in"===n?new ar(t,r):"not-in"===n?new sr(t,r):"array-contains-any"===n?new ur(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new nr(t,n):new rr(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(re(e,this.value)):null!==e&&te(this.value)===te(e)&&this._n(re(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return m()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),er=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=A.C(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=A.i(t.key,this.key);return this._n(e)},e}(tr),nr=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ir("in",n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(tr),rr=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ir("not-in",n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(tr);function ir(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return A.C(t.referenceValue)}))}var or=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return fe(e)&&ne(e.arrayValue,this.value)},e}(tr),ar=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ne(this.value.arrayValue,e)},e}(tr),sr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){if(ne(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ne(this.value.arrayValue,e)},e}(tr),ur=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!fe(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ne(e.value.arrayValue,t)}))},e}(tr),cr=function(t,e){this.position=t,this.before=e};function lr(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return oe(t)})).join(",")}function hr(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.p()?A.i(A.C(a.referenceValue),n.key):re(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function fr(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ee(t.position[n],e.position[n]))return!1;return!0}var pr=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function dr(t,e,n){var r=t.field.p()?A.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?re(r,i):m()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return m()}}function vr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var yr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},gr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(t){var e=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),mr=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&m(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.Fn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.xn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),br=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.On(a.getUA())&&v("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return d("SimpleDb","Removing database:",t),Tr(window.indexedDB.deleteDatabase(t)).Fn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=a.getUA(),n=t.On(e),r=0<n&&n<10,i=t.qn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===t?void 0:t.Un)},t.Qn=function(t,e){return t.store(e)},t.On=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Wn=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(d("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new _r(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new h(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new _r(t,n))},i.onupgradeneeded=function(t){d("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Mn.createOrUpgrade(e,i.transaction,t.oldVersion,n.version).next((function(){d("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return n.jn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,c;return r.__generator(this,(function(l){switch(l.label){case 0:o="readonly"===e,a=0,s=function(){var e,s,c,l,h;return r.__generator(this,(function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Wn(t)];case 2:return u.db=r.sent(),e=Ir.open(u.db,t,o?"readonly":"readwrite",n),s=i(e).catch((function(t){return e.abort(t),mr.reject(t)})).Fn(),c={},s.catch((function(){})),[4,e.Gn];case 3:return[2,(c.value=(r.sent(),s),c)];case 4:return l=r.sent(),h="FirebaseError"!==l.name&&a<3,d("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),wr=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return Tr(this.zn.delete())},t}(),_r=function(t){function e(e,n){var r=this;return(r=t.call(this,l.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return r.__extends(e,t),e}(h);function Er(t){return"IndexedDbTransactionError"===t.name}var Ir=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new yr,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new _r(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=Nr(e.target.error);n.Zn.reject(new _r(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new _r(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Sr(e)},t}(),Sr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Tr(n)},t.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),Tr(this.store.add(t))},t.prototype.get=function(t){var e=this;return Tr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),Tr(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),Tr(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new mr((function(n,r){e.onerror=function(t){var e=Nr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new mr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new wr(i),a=e(i.primaryKey,i.value,o);if(a instanceof mr){var s=a.catch((function(t){return o.done(),mr.reject(t)}));n.push(s)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return mr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Tr(t){return new mr((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Nr(t.target.error);n(e)}}))}var kr=!1;function Nr(t){var e=br.On(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return kr||(kr=!0,setTimeout((function(){throw r}),0)),r}}return t}function Ar(){return"undefined"!=typeof window?window:null}function Cr(){return"undefined"!=typeof document?document:null}var Or=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new yr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new h(l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),Pr=function(){function t(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new gr(this,"async_queue_retry"),this.Vs=function(){var e=Cr();e&&d("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=Cr();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=Cr();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Es.push(t),e.Ns()}))},t.prototype.Ns=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Er(t=n.sent()))throw t;return d("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Es.length>0&&this.ys.gn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Ts.then((function(){return e.gs=!0,t().catch((function(t){throw e.Rs=t,e.gs=!1,v("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gs=!1,t}))}));return this.Ts=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.Ps.indexOf(t)>-1&&(e=0);var i=Or._s(this,t,e,n,(function(t){return r.Fs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&m()},t.prototype.xs=function(){},t.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.$s().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.$s()}))},t.prototype.Os=function(t){this.Ps.push(t)},t.prototype.Fs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function xr(t,e){if(v("AsyncQueue",e+": "+t),Er(t))return new h(l.UNAVAILABLE,e+": "+t);throw t}var Rr=function(){this.Ls=void 0,this.listeners=[]},Dr=function(){this.Bs=new at((function(t){return Yn(t)}),Xn),this.onlineState="Unknown",this.qs=new Set};function Lr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=w(t),i=e.query,o=!1,(a=n.Bs.get(i))||(o=!0,a=new Rr),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=a,[4,n.Us(i)];case 2:return s.Ls=r.sent(),[3,4];case 3:return u=r.sent(),c=xr(u,"Initialization of query '"+$n(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Bs.set(i,a),a.listeners.push(e),e.Qs(n.onlineState),a.Ls&&e.Ws(a.Ls)&&Ur(n),[2]}}))}))}function Mr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){return n=w(t),i=e.query,o=!1,(a=n.Bs.get(i))&&(s=a.listeners.indexOf(e))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.Bs.delete(i),n.js(i))]:[2]}))}))}function jr(t,e){for(var n=w(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.Bs.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Ws(a)&&(r=!0);u.Ls=a}}r&&Ur(n)}function Fr(t,e,n){var r=w(t),i=r.Bs.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.Bs.delete(e)}function Ur(t){t.qs.forEach((function(t){t.next()}))}var Vr=function(){function t(t,e,n){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Vt(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.Ks.error(t)},t.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Xs&&n||t.docs.m()&&"Offline"!==e)},t.prototype.Hs=function(t){if(t.docChanges.length>0)return!0;var e=this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites;return!(!t.jt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=Vt.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},t}(),qr=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();qr.UNAUTHENTICATED=new qr(null),qr.ei=new qr("google-credentials-uid"),qr.ni=new qr("first-party-uid");var Br=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function zr(t,e){return"firestore_clients_"+t+"_"+e}function Wr(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function Hr(t,e){return"firestore_targets_"+t+"_"+e}Br.ai=-1;var Gr=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ci=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new h(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(v("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Kr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ci=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new h(r.error.code,r.error.message)),i?new t(e,r.state,o):(v("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Qr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ci=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=jt(),a=0;i&&a<r.activeTargetIds.length;++a)i=ht(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(v("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Xr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ci=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(v("SharedClientState","Failed to parse online state: "+e),null)},t}(),Yr=function(){function t(){this.activeTargetIds=jt()}return t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),$r=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new It(Y),this.Ei=!1,this.Ii=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=zr(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Yr),this.gi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Vi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,a,s,u,c,l,h,f=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._i&&(o=this.getItem(zr(this.persistenceKey,i)))&&(a=Qr.ci(i,o))&&(this.Ti=this.Ti.ot(a.clientId,a));for(this.bi(),(s=this.storage.getItem(this.Vi))&&(u=this.vi(s))&&this.Si(u),c=0,l=this.Ii;c<l.length;c++)h=l[c],this.mi(h);return this.Ii=[],this.window.addEventListener("unload",(function(){return f.Di()})),this.Ei=!0,[2]}}))}))},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(t){var e=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xi=function(t){this.$i(t,"pending")},t.prototype.ki=function(t,e,n){this.$i(t,e,n),this.Mi(t)},t.prototype.Oi=function(t){var e="not-current";if(this.Fi(t)){var n=this.storage.getItem(Hr(this.persistenceKey,t));if(n){var r=Kr.ci(t,n);r&&(e=r.state)}}return this.Li.hi(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(Hr(this.persistenceKey,t))},t.prototype.Qi=function(t,e,n){this.Wi(t,e,n)},t.prototype.ji=function(t,e,n){var r=this;e.forEach((function(t){r.Mi(t)})),this.currentUser=t,n.forEach((function(t){r.xi(t)}))},t.prototype.Ki=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){d("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.mi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,o,a,s;return r.__generator(this,(function(r){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Yi(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Ji(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(o=this.Zi(n.key,n.newValue)))return[2,this.tr(o)]}else if(n.key===this.Vi){if(null!==n.newValue&&(a=this.vi(n.newValue)))return[2,this.Si(a)]}else n.key===this.Ri&&(s=function(t){var e=Br.ai;if(null!=t)try{var n=JSON.parse(t);b("number"==typeof n),e=n}catch(t){v("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Br.ai&&this.si(s)}else this.Ii.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(t,e,n){var r=new Gr(this.currentUser,t,e,n),i=Wr(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ui())},t.prototype.Mi=function(t){var e=Wr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){var e={clientId:this._i,onlineState:t};this.storage.setItem(this.Vi,JSON.stringify(e))},t.prototype.Wi=function(t,e,n){var r=Hr(this.persistenceKey,t),i=new Kr(t,e,n);this.setItem(r,i.ui())},t.prototype.zi=function(t){var e=this.gi.exec(t);return e?e[1]:null},t.prototype.Yi=function(t,e){var n=this.zi(t);return Qr.ci(n,e)},t.prototype.Ji=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Gr.ci(new qr(i),r,e)},t.prototype.Zi=function(t,e){var n=this.yi.exec(t),r=Number(n[1]);return Kr.ci(r,e)},t.prototype.vi=function(t){return Xr.ci(t)},t.prototype.Xi=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fi.sr(a,s).then((function(){n.Ti=r}))},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=jt();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),Jr=function(){function t(){this.ir=new Yr,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(t){},t.prototype.ki=function(t,e,n){},t.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},t.prototype.Qi=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Yr,Promise.resolve()},t.prototype.ji=function(t,e,n){},t.prototype.Ki=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),Zr=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.cr=function(t,e,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=yn(o,e,r[i]))}return e},t.prototype.hr=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=gn(i,e,e,this.ar))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=gn(u,e,o,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.hr(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Lt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$(this.mutations,t.mutations,(function(t,e){return bn(t,e)}))&&$(this.baseMutations,t.baseMutations,(function(t,e){return bn(t,e)}))},t}(),ti=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.ur=n,this.dr=r}return t.from=function(e,n,r){b(e.mutations.length===r.length);for(var i=Rt,o=e.mutations,a=0;a<o.length;a++)i=i.ot(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),ei=function(){function t(){this.wr=new at((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.Ir();var n=this.wr.get(e);return void 0!==n?mr.resolve(n):this.gr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},t.prototype.Ir=function(){},t}(),ni="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ri=function(){function t(){this.Vr=[]}return t.prototype.pr=function(t){this.Vr.push(t)},t.prototype.br=function(){this.Vr.forEach((function(t){return t()}))},t}(),ii=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next((function(r){return n.Fr(t,e,r)}))},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].hr(e,t);return t}))},t.prototype.$r=function(t,e,n){var r=Ot();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].hr(t,e);r=r.ot(t,e)})),r},t.prototype.kr=function(t,e){var n=this;return this.vr.getEntries(t,e).next((function(e){return n.Mr(t,e)}))},t.prototype.Mr=function(t,e){var n=this;return this.Sr.Or(t,e).next((function(r){var i=n.$r(t,e,r),o=Ct();return i.forEach((function(t,e){e||(e=new Dn(t,ut.min())),o=o.ot(t,e)})),o}))},t.prototype.Lr=function(t,e,n){return function(t){return A.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):zn(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new A(e)).next((function(t){var e=xt();return t instanceof Rn&&(e=e.ot(t.key,t)),e}))},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=xt();return this.Dr.Qr(t,i).next((function(a){return mr.forEach(a,(function(a){var s=function(t,e){return new Mn(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,a.child(i));return r.Ur(t,s,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next((function(n){return r=n,o.Sr.Wr(t,e)})).next((function(e){return i=e,o.jr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=gn(u,l,l,o.ar);r=h instanceof Rn?r.ot(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Jn(e,n)||(r=r.remove(t))})),r}))},t.prototype.jr=function(t,e,n){for(var r=Lt(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof En&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.vr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Rn&&(c=c.ot(t,e))})),c}))},t}(),oi=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Kr=n,this.Gr=r}return t.zr=function(e,n){for(var r=Lt(),i=Lt(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function ai(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Y(n,i);return 0===a?Y(r,o):a}var si=function(){function t(t){this.Hr=t,this.buffer=new kt(ai),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(t){var e=[t,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ai(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ui={Zr:!1,eo:0,no:0,so:0},ci=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();ci.ho=-1,ci.lo=1048576,ci._o=41943040,ci.co=10,ci.uo=1e3,ci.fo=new ci(ci._o,ci.co,ci.uo),ci.do=new ci(ci.ho,0,0);var li=function(){function t(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==ci.ho&&this.Eo(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t){var e=this,n=this.mo?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return Er(e=n.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Oo(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),hi=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yo=function(t,e){var n=this;if(0===e)return mr.resolve(Br.ai);var r=new si(e);return this.Ao.Ce(t,(function(t){return r.Xr(t.sequenceNumber)})).next((function(){return n.Ao.Vo(t,(function(t){return r.Xr(t)}))})).next((function(){return r.maxValue}))},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===ci.ho?(d("LruGarbageCollector","Garbage collection skipped; disabled"),mr.resolve(ui)):this.So(t).next((function(r){return r<n.params.io?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),ui):n.Do(t,e)}))},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,r,i,a,s,u,c,l=this,h=Date.now();return this.Ro(t,this.params.ro).next((function(e){return e>l.params.oo?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.oo+" from "+e),r=l.params.oo):r=e,a=Date.now(),l.yo(t,r)})).next((function(r){return n=r,s=Date.now(),l.po(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.bo(t,n)})).next((function(t){return c=Date.now(),p()<=o.LogLevel.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),mr.resolve({Zr:!0,eo:r,no:i,so:t})}))},t}();function fi(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=di(e)),e=pi(t.get(n),e);return di(e)}function pi(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function di(t){return t+"\x01\x01"}function vi(t){var e=t.length;if(b(e>=2),2===e)return b("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),T.P();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&m(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:m()}o=a+2}return new T(r)}var yi=function(t){this.Co=t};function gi(t,e){if(e.document)return function(t,e,n){var r=Ce(t,e.name),i=Te(e.updateTime),o=new Cn({mapValue:{fields:e.fields}});return new Rn(r,i,o,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=A.$(e.noDocument.path),r=Ei(e.noDocument.readTime);return new Dn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=A.$(e.unknownDocument.path),o=Ei(e.unknownDocument.version);return new Ln(i,o)}return m()}function mi(t,e,n){var r=bi(n),i=e.key.path.h().A();if(e instanceof Rn){var o=function(t,e){return{name:Ae(t,e.key),fields:e.rn().mapValue.fields,updateTime:Ee(t,e.version.Z())}}(t.Co,e),a=e.hasCommittedMutations;return new Qi(null,null,o,a,r,i)}if(e instanceof Dn){var s=e.key.path.A(),u=_i(e.version),c=e.hasCommittedMutations;return new Qi(null,new Gi(s,u),null,c,r,i)}if(e instanceof Ln){var l=e.key.path.A(),h=_i(e.version);return new Qi(new Ki(l,h),null,null,!0,r,i)}return m()}function bi(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function wi(t){var e=new st(t[0],t[1]);return ut.J(e)}function _i(t){var e=t.Z();return new qi(e.seconds,e.nanoseconds)}function Ei(t){var e=new st(t.seconds,t.nanoseconds);return ut.J(e)}function Ii(t,e){var n=(e.baseMutations||[]).map((function(e){return Me(t.Co,e)})),r=e.mutations.map((function(e){return Me(t.Co,e)})),i=st.fromMillis(e.localWriteTimeMs);return new Zr(e.batchId,i,n,r)}function Si(t){var e,n,r=Ei(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ei(t.lastLimboFreeSnapshotVersion):ut.min();return void 0!==t.query.documents?(b(1===(n=t.query).documents.length),e=Hn(Fn(Pe(n.documents[0])))):e=Ue(t.query),new bt(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Z.fromBase64String(t.resumeToken))}function Ti(t,e){var n,r=_i(e.nt),i=_i(e.lastLimboFreeSnapshotVersion);n=yt(e.target)?je(t.Co,e.target):Fe(t.Co,e.target);var o=e.resumeToken.toBase64();return new Yi(e.targetId,dt(e.target),r,o,e.sequenceNumber,i,n)}var ki=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.Fo={}}return t.xo=function(e,n,r,i){return b(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ci(t).rs({index:Wi.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.ko=function(t,e,n,r){var i=this,o=Oi(t),a=Ci(t);return a.add({}).next((function(s){b("number"==typeof s);for(var u=new Zr(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Le(t.Co,e)})),i=n.mutations.map((function(e){return Le(t.Co,e)}));return new Wi(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new kt((function(t,e){return Y(t.R(),e.R())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Hi.key(i.userId,d.key.path,s);h=h.add(d.key.path.h()),l.push(a.put(c)),l.push(o.put(v,Hi.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Dr.Mo(t,e))})),t.pr((function(){i.Fo[s]=u.keys()})),mr.$n(l).next((function(){return u}))}))},t.prototype.Oo=function(t,e){var n=this;return Ci(t).get(e).next((function(t){return t?(b(t.userId===n.userId),Ii(n.serializer,t)):null}))},t.prototype.Lo=function(t,e){var n=this;return this.Fo[e]?mr.resolve(this.Fo[e]):this.Oo(t,e).next((function(t){if(t){var r=t.keys();return n.Fo[e]=r,r}return null}))},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ci(t).rs({index:Wi.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(b(e.batchId>=r),o=Ii(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ci(t).rs({index:Wi.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ci(t).ts(Wi.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ii(e.serializer,t)}))}))},t.prototype.Nr=function(t,e){var n=this,r=Hi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Oi(t).rs({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=vi(u);if(s===n.userId&&e.path.isEqual(l))return Ci(t).get(c).next((function(t){if(!t)throw m();b(t.userId===n.userId),o.push(Ii(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.Or=function(t,e){var n=this,r=new kt(Y),i=[];return e.forEach((function(e){var o=Hi.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Oi(t).rs({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=vi(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),mr.$n(i).next((function(){return n.Qo(t,r)}))},t.prototype.Wr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Hi.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new kt(Y);return Oi(t).rs({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=vi(u);a===n.userId&&r.T(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Qo(t,s)}))},t.prototype.Qo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ci(t).get(e).next((function(t){if(null===t)throw m();b(t.userId===n.userId),r.push(Ii(n.serializer,t))})))})),mr.$n(i).next((function(){return r}))},t.prototype.Wo=function(t,e){var n=this;return Ai(t.jo,this.userId,e).next((function(r){return t.pr((function(){n.Ko(e.batchId)})),mr.forEach(r,(function(e){return n.No.Go(t,e)}))}))},t.prototype.Ko=function(t){delete this.Fo[t]},t.prototype.zo=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return mr.resolve();var r=IDBKeyRange.lowerBound(Hi.prefixForUser(e.userId)),i=[];return Oi(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=vi(t[1]);i.push(o)}else r.done()})).next((function(){b(0===i.length)}))}))},t.prototype.Ho=function(t,e){return Ni(t,this.userId,e)},t.prototype.Yo=function(t){var e=this;return Pi(t).get(this.userId).next((function(t){return t||new zi(e.userId,-1,"")}))},t}();function Ni(t,e,n){var r=Hi.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Oi(t).rs({range:o,ss:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Ai(t,e,n){var r=t.store(Wi.store),i=t.store(Hi.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.rs({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){b(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=Hi.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return mr.$n(o).next((function(){return c}))}function Ci(t){return fo.Qn(t,Wi.store)}function Oi(t){return fo.Qn(t,Hi.store)}function Pi(t){return fo.Qn(t,zi.store)}var xi=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Er=function(t,e,n){return Li(t).put(Mi(e),n)},t.prototype.Ar=function(t,e){var n=Li(t),r=Mi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jo(t,r)}))},t.prototype.Rr=function(t,e){var n=this;return Li(t).get(Mi(e)).next((function(t){return n.Xo(t)}))},t.prototype.Zo=function(t,e){var n=this;return Li(t).get(Mi(e)).next((function(t){var e=n.Xo(t);return e?{ta:e,size:ji(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return this.ea(t,e,(function(t,e){var i=n.Xo(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype.na=function(t,e){var n=this,r=Ot(),i=new It(A.i);return this.ea(t,e,(function(t,e){var o=n.Xo(e);o?(r=r.ot(t,o),i=i.ot(t,ji(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{sa:r,ia:i}}))},t.prototype.ea=function(t,e,n){if(e.m())return mr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e._t(),o=i.It();return Li(t).rs({range:r},(function(t,e,r){for(var a=A.$(t);o&&A.i(o,a)<0;)n(o,null),o=i.It();o&&o.isEqual(a)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},t.prototype.Lr=function(t,e,n){var r=this,i=xt(),o=e.path.length+1,a={};if(n.isEqual(ut.min())){var s=e.path.A();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.A(),c=bi(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Qi.collectionReadTimeIndex}return Li(t).rs(a,(function(t,n,a){if(t.length===o){var s=gi(r.serializer,n);e.path.T(s.key.path)?s instanceof Rn&&Jn(e,s)&&(i=i.ot(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.ra=function(t){return new Ri(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Di(t).get(Xi.key).next((function(t){return b(!!t),t}))},t.prototype.Jo=function(t,e){return Di(t).put(Xi.key,e)},t.prototype.Xo=function(t){if(t){var e=gi(this.serializer,t);return e instanceof Dn&&e.version.isEqual(ut.min())?null:e}return null},t}(),Ri=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ca=e,r.oa=n,r.ua=new at((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new kt((function(t,e){return Y(t.R(),e.R())}));return this.wr.forEach((function(o,a){var s=e.ua.get(o);if(a){var u=mi(e.ca.serializer,a,e.readTime);i=i.add(o.path.h());var c=ji(u);r+=c-s,n.push(e.ca.Er(t,o,u))}else if(r-=s,e.oa){var l=mi(e.ca.serializer,new Dn(o,ut.min()),e.readTime);n.push(e.ca.Er(t,o,l))}else n.push(e.ca.Ar(t,o))})),i.forEach((function(r){n.push(e.ca.Dr.Mo(t,r))})),n.push(this.ca.updateMetadata(t,r)),mr.$n(n)},e.prototype.gr=function(t,e){var n=this;return this.ca.Zo(t,e).next((function(t){return null===t?(n.ua.set(e,0),null):(n.ua.set(e,t.size),t.ta)}))},e.prototype.Pr=function(t,e){var n=this;return this.ca.na(t,e).next((function(t){var e=t.sa;return t.ia.forEach((function(t,e){n.ua.set(t,e)})),e}))},e}(ei);function Di(t){return fo.Qn(t,Xi.store)}function Li(t){return fo.Qn(t,Qi.store)}function Mi(t){return t.path.A()}function ji(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw m();e=t.noDocument}return JSON.stringify(e).length}var Fi=function(){function t(){this.ha=new Ui}return t.prototype.Mo=function(t,e){return this.ha.add(e),mr.resolve()},t.prototype.Qr=function(t,e){return mr.resolve(this.ha.getEntries(e))},t}(),Ui=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new kt(T.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new kt(T.i)).A()},t}(),Vi=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;b(n<r&&n>=0&&r<=10);var o=new Ir("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Bi.store)}(t),function(t){t.createObjectStore(zi.store,{keyPath:zi.keyPath}),t.createObjectStore(Wi.store,{keyPath:Wi.keyPath,autoIncrement:!0}).createIndex(Wi.userMutationsIndex,Wi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Hi.store)}(t),to(t),function(t){t.createObjectStore(Qi.store)}(t));var a=mr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore($i.store),t.deleteObjectStore(Yi.store),t.deleteObjectStore(Ji.store)}(t),to(t)),a=a.next((function(){return function(t){var e=t.store(Ji.store),n=new Ji(0,0,ut.min().Z(),0);return e.put(Ji.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Wi.store).ts().next((function(n){t.deleteObjectStore(Wi.store),t.createObjectStore(Wi.store,{keyPath:Wi.keyPath,autoIncrement:!0}).createIndex(Wi.userMutationsIndex,Wi.userMutationsKeyPath,{unique:!0});var r=e.store(Wi.store),i=n.map((function(t){return r.put(t)}));return mr.$n(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(eo.store,{keyPath:eo.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Xi.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Qi.store);e.createIndex(Qi.readTimeIndex,Qi.readTimeIndexPath,{unique:!1}),e.createIndex(Qi.collectionReadTimeIndex,Qi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Qi.store).rs((function(t,n){e+=ji(n)})).next((function(){var n=new Xi(e);return t.store(Xi.store).put(Xi.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(zi.store),r=t.store(Wi.store);return n.ts().next((function(n){return mr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Wi.userMutationsIndex,i).next((function(r){return mr.forEach(r,(function(r){b(r.userId===n.userId);var i=Ii(e.serializer,r);return Ai(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store($i.store),n=t.store(Qi.store);return t.store(Ji.store).get(Ji.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new T(n),a=function(t){return[0,fi(t)]}(o);r.push(e.get(a).next((function(n){return n?mr.resolve():function(n){return e.put(new $i(0,fi(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return mr.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Zi.store,{keyPath:Zi.keyPath});var n=e.store(Zi.store),r=new Ui,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:fi(i)})}};return e.store(Qi.store).rs({ss:!0},(function(t,e){var n=new T(t);return i(n.h())})).next((function(){return e.store(Hi.store).rs({ss:!0},(function(t,e){t[0];var n=t[1],r=(t[2],vi(n));return i(r.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Yi.store);return n.rs((function(t,r){var i=Si(r),o=Ti(e.serializer,i);return n.put(o)}))},t}(),qi=function(t,e){this.seconds=t,this.nanoseconds=e},Bi=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Bi.store="owner",Bi.key="owner";var zi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};zi.store="mutationQueues",zi.keyPath="userId";var Wi=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Wi.store="mutations",Wi.keyPath="batchId",Wi.userMutationsIndex="userMutationsIndex",Wi.userMutationsKeyPath=["userId","batchId"];var Hi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,fi(e)]},t.key=function(t,e,n){return[t,fi(e),n]},t}();Hi.store="documentMutations",Hi.PLACEHOLDER=new Hi;var Gi=function(t,e){this.path=t,this.readTime=e},Ki=function(t,e){this.path=t,this.version=e},Qi=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Qi.store="remoteDocuments",Qi.readTimeIndex="readTimeIndex",Qi.readTimeIndexPath="readTime",Qi.collectionReadTimeIndex="collectionReadTimeIndex",Qi.collectionReadTimeIndexPath=["parentPath","readTime"];var Xi=function(t){this.byteSize=t};Xi.store="remoteDocumentGlobal",Xi.key="remoteDocumentGlobalKey";var Yi=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Yi.store="targets",Yi.keyPath="targetId",Yi.queryTargetsIndexName="queryTargetsIndex",Yi.queryTargetsKeyPath=["canonicalId","targetId"];var $i=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};$i.store="targetDocuments",$i.keyPath=["targetId","path"],$i.documentTargetsIndex="documentTargetsIndex",$i.documentTargetsKeyPath=["path","targetId"];var Ji=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ji.key="targetGlobalKey",Ji.store="targetGlobal";var Zi=function(t,e){this.collectionId=t,this.parent=e};function to(t){t.createObjectStore($i.store,{keyPath:$i.keyPath}).createIndex($i.documentTargetsIndex,$i.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Yi.store,{keyPath:Yi.keyPath}).createIndex(Yi.queryTargetsIndexName,Yi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ji.store)}Zi.store="collectionParents",Zi.keyPath=["collectionId","parent"];var eo=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};eo.store="clientMetadata",eo.keyPath="clientId";var no=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([zi.store,Wi.store,Hi.store,Qi.store,Yi.store,Bi.store,Ji.store,$i.store],[eo.store]),[Xi.store]),[Zi.store]),ro=function(){function t(){this.la=new Ui}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e._(),i=e.h();t.pr((function(){n.la.add(e)}));var o={collectionId:r,parent:fi(i)};return io(t).put(o)}return mr.resolve()},t.prototype.Qr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[J(e),""],!1,!0);return io(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(vi(o.parent))}return n}))},t}();function io(t){return fo.Qn(t,Zi.store)}var oo=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),ao=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.ma(t).next((function(n){var r=new oo(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ea=function(t){return this.ma(t).next((function(t){return ut.J(new st(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ia=function(t){return this.ma(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Aa=function(t,e,n){var r=this;return this.ma(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Z()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)}))},t.prototype.Ra=function(t,e){var n=this;return this.ga(t,e).next((function(){return n.ma(t).next((function(r){return r.targetCount+=1,n.Pa(e,r),n.Ta(t,r)}))}))},t.prototype.ya=function(t,e){return this.ga(t,e)},t.prototype.Va=function(t,e){var n=this;return this.pa(t,e.targetId).next((function(){return so(t).delete(e.targetId)})).next((function(){return n.ma(t)})).next((function(e){return b(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)}))},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return so(t).rs((function(a,s){var u=Si(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Va(t,u)))})).next((function(){return mr.$n(o)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return so(t).rs((function(t,n){var r=Si(n);e(r)}))},t.prototype.ma=function(t){return uo(t).get(Ji.key).next((function(t){return b(null!==t),t}))},t.prototype.Ta=function(t,e){return uo(t).put(Ji.key,e)},t.prototype.ga=function(t,e){return so(t).put(Ti(this.serializer,e))},t.prototype.Pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.ma(t).next((function(t){return t.targetCount}))},t.prototype.va=function(t,e){var n=dt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return so(t).rs({range:r,index:Yi.queryTargetsIndexName},(function(t,n,r){var o=Si(n);vt(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Sa=function(t,e,n){var r=this,i=[],o=co(t);return e.forEach((function(e){var a=fi(e.path);i.push(o.put(new $i(n,a))),i.push(r.No.Da(t,n,e))})),mr.$n(i)},t.prototype.Ca=function(t,e,n){var r=this,i=co(t);return mr.forEach(e,(function(e){var o=fi(e.path);return mr.$n([i.delete([n,o]),r.No.Na(t,n,e)])}))},t.prototype.pa=function(t,e){var n=co(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Fa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=co(t),i=Lt();return r.rs({range:n,ss:!0},(function(t,e,n){var r=vi(t[1]),o=new A(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ho=function(t,e){var n=fi(e.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),i=0;return co(t).rs({index:$i.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return so(t).get(e).next((function(t){return t?Si(t):null}))},t}();function so(t){return fo.Qn(t,Yi.store)}function uo(t){return fo.Qn(t,Ji.store)}function co(t){return fo.Qn(t,$i.store)}var lo="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ho=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jo=e,r.xa=n,r}return r.__extends(e,t),e}(ri),fo=function(){function t(e,n,r,i,o,a,s,u,c,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=a,this.document=s,this.$a=c,this.ka=f,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!t.Ln())throw new h(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new yo(this,i),this.Wa=n+"main",this.serializer=new yi(u),this.ja=new br(this.Wa,10,new Vi(this.serializer)),this.Ka=new ao(this.No,this.serializer),this.Dr=new ro,this.vr=function(t,e){return new xi(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===f&&v("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(t,e){if(t instanceof ho)return br.Qn(t.jo,e);throw m()},t.prototype.start=function(){var t=this;return this.za().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,lo);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ka.Ia(e)}))})).then((function(e){t.Ma=new Br(e,t.$a)})).then((function(){t.Oa=!0})).catch((function(e){return t.ja&&t.ja.close(),Promise.reject(e)}))},t.prototype.Xa=function(t){var e=this;return this.Qa=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Ei?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.ja.Kn((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return vo(e).put(new eo(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ec(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.Qa(!1)})))}))})).next((function(){return t.nc(e)})).next((function(n){return t.isPrimary&&!n?t.sc(e).next((function(){return!1})):!!n&&t.ic(e).next((function(){return!0}))}))})).catch((function(e){if(Er(e))return d("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.Qa(e)})),t.isPrimary=e}))},t.prototype.ec=function(t){var e=this;return po(t).get(Bi.key).next((function(t){return mr.resolve(e.rc(t))}))},t.prototype.oc=function(t){return vo(t).delete(this.clientId)},t.prototype.ac=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,a=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Qn(e,eo.store);return n.ts().next((function(t){var e=a.uc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return mr.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Ga)for(n=0,i=e;n<i.length;n++)o=i[n],this.Ga.removeItem(this.hc(o.clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.za().then((function(){return t.ac()})).then((function(){return t.Ja()}))}))},t.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nc=function(t){var e=this;return this.ka?mr.resolve(!0):po(t).get(Bi.key).next((function(n){if(null!==n&&e.cc(n.leaseTimestampMs,5e3)&&!e.lc(n.ownerId)){if(e.rc(n)&&e.networkEnabled)return!0;if(!e.rc(n)){if(!n.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,lo);return!1}}return!(!e.networkEnabled||!e.inForeground)||vo(t).ts().next((function(t){return void 0===e.uc(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&d("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Di=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Bi.store,eo.store],(function(e){var n=new ho(e,Br.ai);return t.sc(n).next((function(){return t.oc(n)}))}))];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}}))}))},t.prototype.uc=function(t,e){var n=this;return t.filter((function(t){return n.cc(t.updateTimeMs,e)&&!n.lc(t.clientId)}))},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return vo(e).ts().next((function(e){return t.uc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return ki.xo(t,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r=this;d("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.ja.runTransaction(t,o,no,(function(o){return i=new ho(o,r.Ma?r.Ma.next():Br.ai),"readwrite-primary"===e?r.ec(i).next((function(t){return!!t||r.nc(i)})).next((function(e){if(!e)throw v("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.fn.Cs((function(){return r.Qa(!1)})),new h(l.FAILED_PRECONDITION,ni);return n(i)})).next((function(t){return r.ic(i).next((function(){return t}))})):r.Ac(i).next((function(){return n(i)}))})).then((function(t){return i.br(),t}))},t.prototype.Ac=function(t){var e=this;return po(t).get(Bi.key).next((function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new h(l.FAILED_PRECONDITION,lo)}))},t.prototype.ic=function(t){var e=new Bi(this.clientId,this.allowTabSynchronization,Date.now());return po(t).put(Bi.key,e)},t.Ln=function(){return br.Ln()},t.prototype.sc=function(t){var e=this,n=po(t);return n.get(Bi.key).next((function(t){return e.rc(t)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete(Bi.key)):mr.resolve()}))},t.prototype.cc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(v("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws((function(){return e.Di()}))},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return d("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return v("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){v("Failed to set zombie client id.",r)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},t.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function po(t){return fo.Qn(t,Bi.store)}function vo(t){return fo.Qn(t,eo.store)}var yo=function(){function t(t,e){this.db=t,this.wo=new hi(this,e)}return t.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Rc=function(t){var e=0;return this.Vo(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},t.prototype.Vo=function(t,e){return this.gc(t,(function(t,n){return e(n)}))},t.prototype.Da=function(t,e,n){return go(t,n)},t.prototype.Na=function(t,e,n){return go(t,n)},t.prototype.po=function(t,e,n){return this.db.Tc().po(t,e,n)},t.prototype.Go=function(t,e){return go(t,e)},t.prototype.Pc=function(t,e){return function(t,e){var n=!1;return Pi(t).os((function(r){return Ni(t,r,e).next((function(t){return t&&(n=!0),mr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.bo=function(t,e){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(t,(function(a,s){if(s<=e){var u=n.Pc(t,a).next((function(e){if(!e)return o++,r.Rr(t,a).next((function(){return r.Ar(a),co(t).delete([0,fi(a.path)])}))}));i.push(u)}})).next((function(){return mr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.xa);return this.db.Tc().ya(t,n)},t.prototype.yc=function(t,e){return go(t,e)},t.prototype.gc=function(t,e){var n,r=co(t),i=Br.ai;return r.rs({index:$i.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Br.ai&&e(new A(vi(n)),i),i=s,n=a):i=Br.ai})).next((function(){i!==Br.ai&&e(new A(vi(n)),i)}))},t.prototype.So=function(t){return this.db.Ec().aa(t)},t}();function go(t,e){return co(t).put(function(t,e){return new $i(0,fi(t.path),e)}(e,t.xa))}function mo(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var bo=function(){function t(t,e,n){this.persistence=t,this.Vc=e,this.bc=new It(Y),this.vc=new at((function(t){return dt(t)}),vt),this.Sc=ut.min(),this.Sr=t.mc(n),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new ii(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.vo(n,e.bc)}))},t}();function wo(t,e){var n=w(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Dc.ra({oa:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=mr.resolve();return o.forEach((function(t){a=a.next((function(){return r.Rr(e,t)})).next((function(e){var o=e,a=n.dr.get(t);b(null!==a),(!o||o.version.L(a)<0)&&(o=i.cr(t,o,n))&&r.Er(o,n._r)}))})),a.next((function(){return t.Sr.Wo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}function _o(t){var e=w(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ka.Ea(t)}))}function Eo(t,e){var n=w(t),r=e.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Dc.ra({oa:!0});i=n.bc;var a=[];e.zt.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.Ka.Ca(t,e.se,o).next((function(){return n.Ka.Sa(t,e.ee,o)})));var u=e.resumeToken;if(u.O()>0){var c=s.it(u,r).st(t.xa);i=i.ot(o,c),function(t,e,n){return b(e.resumeToken.O()>0),0===t.resumeToken.O()||e.nt.X()-t.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(s,c,e)&&a.push(n.Ka.ya(t,c))}}}));var s=Ct(),u=Lt();if(e.Yt.forEach((function(t,e){u=u.add(t)})),a.push(o.getEntries(t,u).next((function(i){e.Yt.forEach((function(u,c){var l=i.get(u);c instanceof Dn&&c.version.isEqual(ut.min())?(o.Ar(u,r),s=s.ot(u,c)):null==l||c.version.L(l.version)>0||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Er(c,r),s=s.ot(u,c)):d("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Jt.has(u)&&a.push(n.persistence.No.yc(t,u))}))}))),!r.isEqual(ut.min())){var c=n.Ka.Ea(t).next((function(e){return n.Ka.Aa(t,t.xa,r)}));a.push(c)}return mr.$n(a).next((function(){return o.apply(t)})).next((function(){return n.Cc.Mr(t,s)}))})).then((function(t){return n.bc=i,t}))}function Io(t,e){var n=w(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)}))}function So(t,e){var n=w(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ka.va(t,e).next((function(i){return i?(r=i,mr.resolve(r)):n.Ka.wa(t).next((function(i){return r=new bt(e,i,0,t.xa),n.Ka.Ra(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.bc.get(t.targetId);return(null===r||t.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(t.targetId,t),n.vc.set(e,t.targetId)),t}))}function To(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=w(t),o=i.bc.get(e),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,(function(t){return i.persistence.No.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!Er(s=r.sent()))throw s;return d("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.bc=i.bc.remove(e),i.vc.delete(o.target),[2]}}))}))}function ko(t,e,n){var r=w(t),i=ut.min(),o=Lt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=w(t),i=r.vc.get(n);return void 0!==i?mr.resolve(r.bc.get(i)):r.Ka.va(e,n)}(r,t,Hn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ka.Fa(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Vc.Lr(t,e,n?i:ut.min(),n?o:Lt())})).next((function(t){return{documents:t,Fc:o}}))}))}function No(t,e){var n=w(t),r=w(n.Ka),i=n.bc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function Ao(t){var e=w(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=w(t),i=Ct(),o=bi(n),a=Li(e),s=IDBKeyRange.lowerBound(o,!0);return a.rs({index:Qi.readTimeIndex,range:s},(function(t,e){var n=gi(r.serializer,e);i=i.ot(n.key,n),o=e.readTime})).next((function(){return{xc:i,readTime:wi(o)}}))}(e.Dc,t,e.Sc)})).then((function(t){var n=t.xc,r=t.readTime;return e.Sc=r,n}))}function Co(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return[2,(e=w(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Li(t),n=ut.min();return e.rs({index:Qi.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=wi(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Sc=t}))]}))}))}function Oo(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==l.FAILED_PRECONDITION||t.message!==ni)throw t;return d("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Po=function(){function t(){this.$c=new kt(xo.kc),this.Mc=new kt(xo.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(t,e){var n=new xo(t,e);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},t.prototype.Lc=function(t,e){var n=this;t.forEach((function(t){return n.Da(t,e)}))},t.prototype.Na=function(t,e){this.Bc(new xo(t,e))},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Na(t,e)}))},t.prototype.Uc=function(t){var e=this,n=new A(new T([])),r=new xo(n,t),i=new xo(n,t+1),o=[];return this.Mc.Ft([r,i],(function(t){e.Bc(t),o.push(t.key)})),o},t.prototype.Qc=function(){var t=this;this.$c.forEach((function(e){return t.Bc(e)}))},t.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},t.prototype.Wc=function(t){var e=new A(new T([])),n=new xo(e,t),r=new xo(e,t+1),i=Lt();return this.Mc.Ft([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ho=function(t){var e=new xo(t,0),n=this.$c.$t(e);return null!==n&&t.isEqual(n.key)},t}(),xo=function(){function t(t,e){this.key=t,this.jc=e}return t.kc=function(t,e){return A.i(t.key,e.key)||Y(t.jc,e.jc)},t.Oc=function(t,e){return Y(t.jc,e.jc)||A.i(t.key,e.key)},t}(),Ro=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},Do=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(t){this.Gc=t,t(qr.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),Lo=function(){function t(t){var e=this;this.Jc=null,this.currentUser=qr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then((function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Zc!==e?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(b("string"==typeof n.accessToken),new Ro(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return b(null===t||"string"==typeof t),new qr(t)},t}(),Mo=function(){function t(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=qr.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),jo=function(){function t(t,e){this.eu=t,this.nu=e}return t.prototype.getToken=function(){return Promise.resolve(new Mo(this.eu,this.nu))},t.prototype.Hc=function(t){t(qr.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),Fo=function(){function t(t,e,n,r,i,o){this.fn=t,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new gr(t,e)}return t.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.hu()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return t.fu()})))},t.prototype.du=function(t){this.wu(),this.stream.send(t)},t.prototype.fu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.uu()?[2,this.close(0)]:[2]}))}))},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===l.RESOURCE_EXHAUSTED?(v(e.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===l.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(e){t.ou===n&&t.Iu(e)}),(function(n){e((function(){var e=new h(l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Au(e)}))}))},t.prototype.Iu=function(t){var e=this,n=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu((function(){n((function(){return e.state=2,e.listener.gu()}))})),this.stream.Tu((function(t){n((function(){return e.Au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.hu=function(){var t=this;this.state=4,this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Au=function(t){return d("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Eu=function(t){var e=this;return function(n){e.fn.ws((function(){return e.ou===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Uo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return r.__extends(e,t),e.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:m()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Qe?(b(void 0===e||"string"==typeof e),Z.fromBase64String(e||"")):(b(void 0===e||e instanceof Uint8Array),Z.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?l.UNKNOWN:Et(t.code);return new h(e,t.message||"")}(a);n=new Ht(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var c=Ce(t,u.document.name),f=Te(u.document.updateTime),p=new Cn({mapValue:{fields:u.document.fields}}),d=new Rn(c,f,p,{}),v=u.targetIds||[],y=u.removedTargetIds||[];n=new zt(v,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;var g=e.documentDelete;g.document;var w=Ce(t,g.document),_=g.readTime?Te(g.readTime):ut.min(),E=new Dn(w,_),I=g.removedTargetIds||[];n=new zt([],I,E.key,E)}else if("documentRemove"in e){e.documentRemove;var S=e.documentRemove;S.document;var T=Ce(t,S.document),k=S.removedTargetIds||[];n=new zt([],k,T,null)}else{if(!("filter"in e))return m();e.filter;var N=e.filter;N.targetId;var A=N.count||0,C=new wt(A),O=N.targetId;n=new Wt(O,C)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ut.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ut.min():e.readTime?Te(e.readTime):ut.min()}(t);return this.listener.yu(e,n)},e.prototype.Vu=function(t){var e={};e.database=xe(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=yt(r)?{documents:je(t,r)}:{query:Fe(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=Ie(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return m()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.du(e)},e.prototype.pu=function(t){var e={};e.database=xe(this.serializer),e.removeTarget=t,this.du(e)},e}(Fo),Vo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.bu=!1,a}return r.__extends(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(t){return this.iu.Pu("Write",t)},e.prototype.onMessage=function(t){if(b(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=function(t,e){return t&&t.length>0?(b(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Te(t.updateTime):Te(e);n.isEqual(ut.min())&&(n=Te(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new fn(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Te(t.commitTime);return this.listener.Du(n,e)}return b(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var t={};t.database=xe(this.serializer),this.du(t)},e.prototype.Su=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Le(e.serializer,t)}))};this.du(n)},e}(Fo),qo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.iu=n,i.serializer=r,i.Fu=!1,i}return r.__extends(e,t),e.prototype.xu=function(){if(this.Fu)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.ku=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.terminate=function(){this.Fu=!1},e}((function(){})),Bo=function(){function t(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()})))},t.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},t.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},t.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(v(e),this.Lu=!1):d("OnlineStateTracker",e)},t.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t}(),zo=function(t,e,n,i,o){var a=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=o,this.Xu.Zu((function(t){n.ws((function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return Zo(this)?(d("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=w(t)).Yu.add(4),[4,Ho(e)];case 1:return n.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,Wo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.th=new Bo(n,i)};function Wo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:if(!Zo(t))return[3,4];e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ho(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Go(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=w(t),d("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,Ho(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}}))}))}function Ko(t,e){var n=w(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),Jo(n)?$o(n):da(n).uu()&&Xo(n,e))}function Qo(t,e){var n=w(t),r=da(n);n.Hu.delete(e),r.uu()&&Yo(n,e),0===n.Hu.size&&(r.uu()?r._u():Zo(n)&&n.th.set("Unknown"))}function Xo(t,e){t.eh.Ie(e.targetId),da(t).Vu(e)}function Yo(t,e){t.eh.Ie(e),da(t).pu(e)}function $o(t){t.eh=new Kt({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),da(t).start(),t.th.Bu()}function Jo(t){return Zo(t)&&!da(t).cu()&&t.Hu.size>0}function Zo(t){return 0===w(t).Yu.size}function ta(t){t.eh=void 0}function ea(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.Hu.forEach((function(e,n){Xo(t,e)})),[2]}))}))}function na(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return ta(t),Jo(t)?(t.th.Qu(e),$o(t)):t.th.set("Unknown"),[2]}))}))}function ra(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a;return r.__generator(this,(function(s){switch(s.label){case 0:if(t.th.set("Online"),!(e instanceof Ht&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?(a=o[i],t.Hu.has(a)?[4,t.Gu.nh(a,n)]:[3,3]):[3,5];case 2:r.sent(),t.Hu.delete(a),t.eh.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),d("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,ia(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof zt?t.eh.be(e):e instanceof Wt?t.eh.$e(e):t.eh.De(e),n.isEqual(ut.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,_o(t.ju)];case 8:return o=s.sent(),n.L(o)>=0?[4,function(t,e){var n=t.eh.Oe(e);return n.zt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Hu.get(r);i&&t.Hu.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Hu.get(e);if(n){t.Hu.set(e,n.it(Z.B,n.nt)),Yo(t,e);var r=new bt(n.target,e,1,n.sequenceNumber);Xo(t,r)}})),t.Gu.sh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,ia(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function ia(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){switch(o.label){case 0:if(!Er(e))throw e;return t.Yu.add(1),[4,Ho(t)];case 1:return o.sent(),t.th.set("Offline"),n||(n=function(){return _o(t.ju)}),t.cs.Cs((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Yu.delete(1),[4,Wo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function oa(t,e){return e().catch((function(n){return ia(t,n,e)}))}function aa(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:e=w(t),n=va(e),i=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Zo(t)&&t.zu.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Io(e.ju,i)];case 3:return null===(o=r.sent())?(0===e.zu.length&&n._u(),[3,7]):(i=o.batchId,function(t,e){t.zu.push(e);var n=va(t);n.uu()&&n.vu&&n.Su(e.mutations)}(e,o),[3,6]);case 4:return a=r.sent(),[4,ia(e,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return sa(e)&&ua(e),[2]}}))}))}function sa(t){return Zo(t)&&!va(t).cu()&&t.zu.length>0}function ua(t){va(t).start()}function ca(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return va(t).Nu(),[2]}))}))}function la(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){for(e=va(t),n=0,i=t.zu;n<i.length;n++)o=i[n],e.Su(o.mutations);return[2]}))}))}function ha(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return i=t.zu.shift(),o=ti.from(i,e,n),[4,oa(t,(function(){return t.Gu.ih(o)}))];case 1:return r.sent(),[4,aa(t)];case 2:return r.sent(),[2]}}))}))}function fa(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return e&&va(t).vu?[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return _t(i=e.code)&&i!==l.ABORTED?(n=t.zu.shift(),va(t).lu(),[4,oa(t,(function(){return t.Gu.rh(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,aa(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return sa(t)&&ua(t),[2]}}))}))}function pa(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),e?(n.Yu.delete(2),[4,Wo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,Ho(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function da(t){var e=this;return t.oh||(t.oh=function(t,e,n){var r=w(t);return r.xu(),new Uo(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:ea.bind(null,t),Tu:na.bind(null,t),yu:ra.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.oh.lu(),Jo(t)?$o(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:e.sent(),ta(t),e.label=3;case 3:return[2]}}))}))}))),t.oh}function va(t){var e=this;return t.ah||(t.ah=function(t,e,n){var r=w(t);return r.xu(),new Vo(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:ca.bind(null,t),Tu:fa.bind(null,t),Cu:la.bind(null,t),Du:ha.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.ah.lu(),[4,aa(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:e.sent(),t.zu.length>0&&(d("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),e.label=4;case 4:return[2]}}))}))}))),t.ah}var ya=function(t){this.key=t},ga=function(t){this.key=t},ma=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Lt(),this.Wt=Lt(),this._h=Zn(t),this.fh=new Ft(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.mh:new Ut,i=e?e.fh:this.fh,o=e?e.Wt:this.Wt,a=i,s=!1,u=Un(this.query)&&i.size===this.query.limit?i.last():null,c=Vn(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof Rn?e:null;h&&(h=Jn(n.query,h)?h:null);var f=!!l&&n.Wt.has(l.key),p=!!h&&(h.Je||n.Wt.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Th(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n._h(h,u)>0||c&&n._h(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Un(this.query)||Vn(this.query))for(;a.size>this.query.limit;){var l=Un(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fh:a,mh:r,Eh:s,Wt:o}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.yr=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Wt=t.Wt;var o=t.mh.Ut();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return m()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)})),this.Ih(n);var a=e?this.Ah():[],s=0===this.lh.size&&this.te?1:0,u=s!==this.hh;return this.hh=s,0!==o.length||u?{snapshot:new Vt(this.query,t.fh,i,o,t.Wt,0===s,u,!1),Rh:a}:{Rh:a}},t.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new Ut,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Lt(),this.fh.forEach((function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new ga(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new ya(t))})),n},t.prototype.Ph=function(t){this.uh=t.Fc,this.lh=Lt();var e=this.wh(t.documents);return this.yr(e,!0)},t.prototype.yh=function(){return Vt.Gt(this.query,this.fh,this.Wt,0===this.hh)},t}(),ba=function(t,e,n){this.query=t,this.targetId=e,this.view=n},wa=function(t){this.key=t,this.Vh=!1},_a=function(){function t(t,e,n,r,i,o){this.ju=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new at((function(t){return Yn(t)}),Xn),this.Fh=new Map,this.xh=[],this.$h=new It(A.i),this.kh=new Map,this.Mh=new Po,this.Oh={},this.Lh=new Map,this.Bh=oo.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function Ea(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=Qa(t),(a=n.Nh.get(e))?(i=a.targetId,n.Sh.Oi(i),o=a.view.yh(),[3,4]):[3,1];case 1:return[4,So(n.ju,Hn(e))];case 2:return s=r.sent(),u=n.Sh.Oi(s.targetId),i=s.targetId,[4,Ia(n,e,i,"current"===u)];case 3:o=r.sent(),n.Uh&&Ko(n.ph,s),r.label=4;case 4:return[2,o]}}))}))}function Ia(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,c,l;return r.__generator(this,(function(h){switch(h.label){case 0:return t.Qh=function(e,n,i){return function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=e.view.wh(n)).Eh?[4,ko(t.ju,e.query,!1).then((function(t){var n=t.documents;return e.view.wh(n,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return a=i&&i.zt.get(e.targetId),s=e.view.yr(o,t.Uh,a),[2,(Da(t,e.targetId,s.Rh),s.snapshot)]}}))}))}(t,e,n,i)},[4,ko(t.ju,e,!0)];case 1:return o=h.sent(),a=new ma(e,o.Fc),s=a.wh(o.documents),u=Bt.Zt(n,i&&"Offline"!==t.onlineState),c=a.yr(s,t.Uh,u),Da(t,n,c.Rh),l=new ba(e,n,a),[2,(t.Nh.set(e,l),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),c.snapshot)]}}))}))}function Sa(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i=n.Nh.get(e),(o=n.Fh.get(i.targetId)).length>1?[2,(n.Fh.set(i.targetId,o.filter((function(t){return!Xn(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(i.targetId),n.Sh.Fi(i.targetId)?[3,2]:[4,To(n.ju,i.targetId,!1).then((function(){n.Sh.Ui(i.targetId),Qo(n.ph,i.targetId),xa(n,i.targetId)})).catch(Oo)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return xa(n,i.targetId),[4,To(n.ju,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function Ta(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Eo(n.ju,e)];case 2:return i=r.sent(),e.zt.forEach((function(t,e){var r=n.kh.get(e);r&&(b(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?b(r.Vh):t.se.size>0&&(b(r.Vh),r.Vh=!1))})),[4,ja(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Oo(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ka(t,e,n){var r=w(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Qs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=w(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Qs(e)&&(r=!0)})),r&&Ur(n)}(r.bh,e),i.length&&r.Ch.yu(i),r.onlineState=e,r.Uh&&r.Sh.Ki(e)}}function Na(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=w(t)).Sh.Qi(e,"rejected",n),o=i.kh.get(e),(a=o&&o.key)?(s=(s=new It(A.i)).ot(a,new Dn(a,ut.min())),u=Lt().add(a),c=new qt(ut.min(),new Map,new kt(Y),s,u),[4,Ta(i,c)]):[3,2];case 1:return r.sent(),i.$h=i.$h.remove(a),i.kh.delete(e),Ma(i),[3,4];case 2:return[4,To(i.ju,e,!1).then((function(){return xa(i,e,n)})).catch(Oo)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Aa(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,wo(n.ju,e)];case 2:return o=r.sent(),Pa(n,i,null),Oa(n,i),n.Sh.ki(i,"acknowledged"),[4,ja(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Oo(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ca(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:i=w(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=w(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Sr.Oo(t,e).next((function(e){return b(null!==e),r=e.keys(),n.Sr.Wo(t,e)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}(i.ju,e)];case 2:return o=r.sent(),Pa(i,e,n),Oa(i,e),i.Sh.ki(e,"rejected",n),[4,ja(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Oo(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Oa(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function Pa(t,e,n){var r=w(t),i=r.Oh[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Oh[r.currentUser.ti()]=i}}function xa(t,e,n){void 0===n&&(n=null),t.Sh.Bi(e);for(var r=0,i=t.Fh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Wh(o,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach((function(e){t.Mh.Ho(e)||Ra(t,e)}))}function Ra(t,e){var n=t.$h.get(e);null!==n&&(Qo(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),Ma(t))}function Da(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ya?(t.Mh.Da(o.key,e),La(t,o)):o instanceof ga?(d("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Na(o.key,e),t.Mh.Ho(o.key)||Ra(t,o.key)):m()}}function La(t,e){var n=e.key;t.$h.get(n)||(d("SyncEngine","New document in limbo: "+n),t.xh.push(n),Ma(t))}function Ma(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new wa(e)),t.$h=t.$h.ot(e,n),Ko(t.ph,new bt(Hn(Fn(e.path)),n,2,Br.ai))}}function ja(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(u){switch(u.label){case 0:return i=w(t),o=[],a=[],s=[],i.Nh.m()?[3,3]:(i.Nh.forEach((function(t,r){s.push(i.Qh(r,e,n).then((function(t){if(t){i.Uh&&i.Sh.Qi(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=oi.zr(r.targetId,t);a.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),i.Ch.yu(o),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,h;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return mr.forEach(e,(function(e){return mr.forEach(e.Kr,(function(r){return n.persistence.No.Da(t,e.targetId,r)})).next((function(){return mr.forEach(e.Gr,(function(r){return n.persistence.No.Na(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!Er(i=r.sent()))throw i;return d("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=e;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.bc.get(u),l=c.nt,h=c.rt(l),n.bc=n.bc.ot(u,h));return[2]}}))}))}(i.ju,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Fa(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(o){switch(o.label){case 0:return(n=w(t)).currentUser.isEqual(e)?[3,3]:(d("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i=n.Sr,o=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.Sr.Uo(t).next((function(a){return r=a,i=n.persistence.mc(e),o=new ii(n.Dc,i,n.persistence.Ic()),i.Uo(t)})).next((function(e){for(var n=[],i=[],a=Lt(),s=0,u=r;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];i.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return o.kr(t,a).next((function(t){return{jh:t,Kh:n,Gh:i}}))}))}))];case 1:return a=r.sent(),[2,(n.Sr=i,n.Cc=o,n.Vc.Nc(n.Cc),a)]}}))}))}(n.ju,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.Lh.forEach((function(t){t.forEach((function(t){t.reject(new h(l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lh.clear()}(n),n.Sh.ji(e,i.Kh,i.Gh),[4,ja(n,i.jh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Ua(t,e){var n=w(t),r=n.kh.get(e);if(r&&r.Vh)return Lt().add(r.key);var i=Lt(),o=n.Fh.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Nh.get(u);i=i.kt(c.view.dh)}return i}function Va(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,ko((n=w(t)).ju,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ph(i),[2,(n.Uh&&Da(n,e.targetId,o.Rh),o)]}}))}))}function qa(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=w(t),r=w(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Lo(t,e).next((function(e){return e?n.Cc.kr(t,e):mr.resolve(null)}))}))}((o=w(t)).ju,e)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,aa(o.ph)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Pa(o,e,i||null),Oa(o,e),function(t,e){w(w(t).Sr).Ko(e)}(o.ju,e)):m(),r.label=4;case 4:return[4,ja(o,a)];case 5:return r.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Ba(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:return Qa(n=w(t)),Xa(n),!0!==e||!0===n.qh?[3,3]:(i=n.Sh.Ci(),[4,za(n,i.A())]);case 1:return o=r.sent(),n.qh=!0,[4,pa(n.ph,!0)];case 2:for(r.sent(),a=0,s=o;a<s.length;a++)u=s[a],Ko(n.ph,u);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(c=[],l=Promise.resolve(),n.Fh.forEach((function(t,e){n.Sh.qi(e)?c.push(e):l=l.then((function(){return xa(n,e),To(n.ju,e,!0)})),Qo(n.ph,e)})),[4,l]);case 4:return r.sent(),[4,za(n,c)];case 5:return r.sent(),function(t){var e=w(t);e.kh.forEach((function(t,n){Qo(e.ph,n)})),e.Mh.Qc(),e.kh=new Map,e.$h=new It(A.i)}(n),n.qh=!1,[4,pa(n.ph,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function za(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,h,f,p,d,v,y;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(t),i=[],o=[],a=0,s=e,r.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.Fh.get(u))&&0!==l.length?[4,So(n.ju,Hn(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(p=f[h],d=n.Nh.get(p),[4,Va(n,d)]):[3,6];case 4:(v=r.sent()).snapshot&&o.push(v.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,No(n.ju,u)];case 8:return y=r.sent(),[4,So(n.ju,y)];case 9:return c=r.sent(),[4,Ia(n,Wa(y),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.Ch.yu(o),i)]}}))}))}function Wa(t){return jn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ha(t){var e=w(t);return w(w(e.ju).persistence).pi()}function Ga(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=w(t)).qh?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ao(o.ju)];case 3:return a=r.sent(),s=qt.Xt(e,"current"===n),[4,ja(o,a,s)];case 4:return r.sent(),[3,8];case 5:return[4,To(o.ju,e,!0)];case 6:return r.sent(),xa(o,e,i),[3,8];case 7:m(),r.label=8;case 8:return[2]}}))}))}function Ka(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,p;return r.__generator(this,(function(v){switch(v.label){case 0:if(!(i=Qa(t)).qh)return[3,10];o=0,a=e,v.label=1;case 1:return o<a.length?(s=a[o],i.Fh.has(s)?(d("SyncEngine","Adding an already active target "+s),[3,5]):[4,No(i.ju,s)]):[3,6];case 2:return u=v.sent(),[4,So(i.ju,u)];case 3:return c=v.sent(),[4,Ia(i,Wa(u),c.targetId,!1)];case 4:v.sent(),Ko(i.ph,c),v.label=5;case 5:return o++,[3,1];case 6:l=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.Fh.has(t)?[4,To(i.ju,t,!1).then((function(){Qo(i.ph,t),xa(i,t)})).catch(Oo)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,v.label=7;case 7:return h<f.length?(p=f[h],[5,l(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Qa(t){var e=w(t);return e.ph.Gu.sh=Ta.bind(null,e),e.ph.Gu.qe=Ua.bind(null,e),e.ph.Gu.nh=Na.bind(null,e),e.Ch.yu=jr.bind(null,e.bh),e.Ch.Wh=Fr.bind(null,e.bh),e}function Xa(t){var e=w(t);return e.ph.Gu.ih=Aa.bind(null,e),e.ph.Gu.rh=Ca.bind(null,e),e}var Ya=function(){function t(){}return t.prototype.Nc=function(t){this.zh=t},t.prototype.Lr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.p())}(e)||n.isEqual(ut.min())?this.Hh(t,e):this.zh.kr(t,r).next((function(a){var s=i.Yh(e,a);return(Un(e)||Vn(e))&&i.Eh(e.an,s,r,n)?i.Hh(t,e):(p()<=o.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),$n(e)),i.zh.Lr(t,e,n).next((function(t){return s.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Yh=function(t,e){var n=new kt(Zn(t));return e.forEach((function(e,r){r instanceof Rn&&Jn(t,r)&&(n=n.add(r))})),n},t.prototype.Eh=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Hh=function(t,e){return p()<=o.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Using full collection scan to execute query:",$n(e)),this.zh.Lr(t,e,ut.min())},t}(),$a=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new kt(xo.kc)}return t.prototype.$o=function(t){return mr.resolve(0===this.Sr.length)},t.prototype.ko=function(t,e,n,r){var i=this.Jh;this.Jh++,this.Sr.length>0&&this.Sr[this.Sr.length-1];var o=new Zr(i,e,n,r);this.Sr.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.Xh=this.Xh.add(new xo(u.key,i)),this.Dr.Mo(t,u.key.path.h())}return mr.resolve(o)},t.prototype.Oo=function(t,e){return mr.resolve(this.Zh(e))},t.prototype.Bo=function(t,e){var n=e+1,r=this.tl(n),i=r<0?0:r;return mr.resolve(this.Sr.length>i?this.Sr[i]:null)},t.prototype.qo=function(){return mr.resolve(0===this.Sr.length?-1:this.Jh-1)},t.prototype.Uo=function(t){return mr.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new xo(e,0),i=new xo(e,Number.POSITIVE_INFINITY),o=[];return this.Xh.Ft([r,i],(function(t){var e=n.Zh(t.jc);o.push(e)})),mr.resolve(o)},t.prototype.Or=function(t,e){var n=this,r=new kt(Y);return e.forEach((function(t){var e=new xo(t,0),i=new xo(t,Number.POSITIVE_INFINITY);n.Xh.Ft([e,i],(function(t){r=r.add(t.jc)}))})),mr.resolve(this.el(r))},t.prototype.Wr=function(t,e){var n=e.path,r=n.length+1,i=n;A.F(i)||(i=i.child(""));var o=new xo(new A(i),0),a=new kt(Y);return this.Xh.xt((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(a=a.add(t.jc)),!0)}),o),mr.resolve(this.el(a))},t.prototype.el=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zh(t);null!==r&&n.push(r)})),n},t.prototype.Wo=function(t,e){var n=this;b(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xh;return mr.forEach(e.mutations,(function(i){var o=new xo(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)})).next((function(){n.Xh=r}))},t.prototype.Ko=function(t){},t.prototype.Ho=function(t,e){var n=new xo(e,0),r=this.Xh.$t(n);return mr.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return this.Sr.length,mr.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zh=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),Ja=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new It(A.i),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:a,readTime:n}),this.size+=a-o,this.Dr.Mo(t,r.path.h())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return mr.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)})),mr.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=xt(),i=new A(e.path.child("")),o=this.docs.ft(i);o.At();){var a=o.It(),s=a.key,u=a.value,c=u.ta,l=u.readTime;if(!e.path.T(s.path))break;l.L(n)<=0||c instanceof Rn&&Jn(e,c)&&(r=r.ot(c.key,c))}return mr.resolve(r)},t.prototype.il=function(t,e){return mr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ra=function(t){return new Za(this)},t.prototype.aa=function(t){return mr.resolve(this.size)},t}(),Za=function(t){function e(e){var n=this;return(n=t.call(this)||this).ca=e,n}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[];return this.wr.forEach((function(r,i){i?n.push(e.ca.Er(t,i,e.readTime)):e.ca.Ar(r)})),mr.$n(n)},e.prototype.gr=function(t,e){return this.ca.Rr(t,e)},e.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},e}(ei),ts=function(){function t(t){this.persistence=t,this.rl=new at((function(t){return dt(t)}),vt),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.ol=0,this.al=new Po,this.targetCount=0,this.cl=oo.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach((function(t,n){return e(n)})),mr.resolve()},t.prototype.Ea=function(t){return mr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(t){return mr.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),mr.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),mr.resolve()},t.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new oo(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,mr.resolve()},t.prototype.ya=function(t,e){return this.ga(e),mr.resolve()},t.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),this.targetCount-=1,mr.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.rl.delete(a),o.push(r.pa(t,s.targetId)),i++)})),mr.$n(o).next((function(){return i}))},t.prototype.ba=function(t){return mr.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return mr.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Lc(e,n),mr.resolve()},t.prototype.Ca=function(t,e,n){this.al.qc(e,n);var r=this.persistence.No,i=[];return r&&e.forEach((function(e){i.push(r.Go(t,e))})),mr.$n(i)},t.prototype.pa=function(t,e){return this.al.Uc(e),mr.resolve()},t.prototype.Fa=function(t,e){var n=this.al.Wc(e);return mr.resolve(n)},t.prototype.Ho=function(t,e){return mr.resolve(this.al.Ho(e))},t}(),es=function(){function t(t){var e=this;this.ul={},this.Ma=new Br(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new ts(this),this.Dr=new Fi,this.vr=function(t,n){return new Ja(t,(function(t){return e.No.hl(t)}))}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new $a(this.Dr,this.No),this.ul[t.ti()]=e),e},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new ns(this.Ma.next());return this.No.ll(),n(i).next((function(t){return r.No._l(i).next((function(){return t}))})).Fn().then((function(t){return i.br(),t}))},t.prototype.fl=function(t,e){return mr.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(t,e)}})))},t}(),ns=function(t){function e(e){var n=this;return(n=t.call(this)||this).xa=e,n}return r.__extends(e,t),e}(ri),rs=function(){function t(t){this.persistence=t,this.dl=new Po,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw m()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),mr.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),mr.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),mr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Uc(e.targetId).forEach((function(t){return n.Tl.add(t.toString())}));var r=this.persistence.Tc();return r.Fa(t,e.targetId).next((function(t){t.forEach((function(t){return n.Tl.add(t.toString())}))})).next((function(){return r.Va(t,e)}))},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.Ec().ra();return mr.forEach(this.Tl,(function(r){var i=A.D(r);return e.El(t,i).next((function(t){t||n.Ar(i)}))})).next((function(){return e.wl=null,n.apply(t)}))},t.prototype.yc=function(t,e){var n=this;return this.El(t,e).next((function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())}))},t.prototype.hl=function(t){return 0},t.prototype.El=function(t,e){var n=this;return mr.kn([function(){return mr.resolve(n.dl.Ho(e))},function(){return n.persistence.Tc().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),is=function(){function t(t){this.Il=t.Il,this.Al=t.Al}return t.prototype.gu=function(t){this.Rl=t},t.prototype.Tu=function(t){this.gl=t},t.prototype.onMessage=function(t){this.Pl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.Il(t)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(t){this.gl(t)},t.prototype.pl=function(t){this.Pl(t)},t}(),os={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},as=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.W=e.W,n}return r.__extends(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise((function(i,o){var a=new s.XhrIo;a.listenOnce(s.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=a.getResponseJson();d("Connection","XHR received:",JSON.stringify(e)),i(e);break;case s.ErrorCode.TIMEOUT:d("Connection",'RPC "'+t+'" timed out'),o(new h(l.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(d("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(l).indexOf(e)>=0?e:l.UNKNOWN}(r.status);o(new h(u,r.message))}else o(new h(l.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new h(l.UNAVAILABLE,"Connection failed."));break;default:m()}}finally{d("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);a.send(e,"POST",u,n,15)}))},e.prototype.Pu=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=s.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),c=!1,f=!1,p=new is({Il:function(t){f?d("Connection","Not sending because WebChannel is closed:",t):(c||(d("Connection","Opening WebChannel transport."),u.open(),c=!0),d("Connection","WebChannel sending:",t),u.send(t))},Al:function(){return u.close()}}),v=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return v(s.WebChannel.EventType.OPEN,(function(){f||d("Connection","WebChannel transport opened.")})),v(s.WebChannel.EventType.CLOSE,(function(){f||(f=!0,d("Connection","WebChannel transport closed"),p.Vl())})),v(s.WebChannel.EventType.ERROR,(function(t){f||(f=!0,y("Connection","WebChannel transport errored:",t),p.Vl(new h(l.UNAVAILABLE,"The operation could not be completed")))})),v(s.WebChannel.EventType.MESSAGE,(function(t){var e;if(!f){var n=t.data[0];b(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){d("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=gt[t];if(void 0!==e)return Et(e)}(o),s=i.message;void 0===a&&(a=l.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),f=!0,p.Vl(new h(a,s)),u.close()}else d("Connection","WebChannel received:",n),p.pl(n)}})),setTimeout((function(){p.yl()}),0),p},e}(function(){function t(t){this.bl=t,this.U=t.U;var e=t.ssl?"https":"http";this.vl=e+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(t,e,n,r){var i=this.Dl(t,e);d("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(t,i,o,n).then((function(t){return d("RestConnection","Received: ",t),t}),(function(e){throw y("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.ku=function(t,e,n,r){return this.$u(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var n in e.Kc)e.Kc.hasOwnProperty(n)&&(t[n]=e.Kc[n])},t.prototype.Dl=function(t,e){var n=os[t];return this.vl+"/v1/"+e+":"+n},t}()),ss=function(){function t(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.kl=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),us=function(){function t(){}return t.prototype.Zu=function(t){},t.prototype.Di=function(){},t}();function cs(t){return new me(t,!0)}var ls="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",hs=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}}))}))},t.prototype.Ul=function(t){return null},t.prototype.Ql=function(t){return e=this.persistence,n=new Ya,r=t.Wl,new bo(e,n,r);var e,n,r},t.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new h(l.FAILED_PRECONDITION,ls);return new es(rs.ml)},t.prototype.Ll=function(t){return new Jr},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new h(l.FAILED_PRECONDITION,ls)},t}(),fs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Kl.fi,this.Sh instanceof $r?(this.Sh.fi={er:qa.bind(null,n),nr:Ga.bind(null,n),sr:Ka.bind(null,n),pi:Ha.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Xa((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,Ba(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=Ar();if(!$r.Ln(e))throw new h(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=mo(t.bl.U,t.bl.persistenceKey);return new $r(e,t.cs,n,t.clientId,t.Wl)}return new Jr},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).Kl=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Co(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,e)];case 3:return n.sent(),[4,Xa(this.Kl.fi)];case 4:return n.sent(),[4,aa(this.Kl.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ul=function(t){var e=this.persistence.No.wo;return new li(e,t.cs)},e.prototype.Bl=function(t){var e=mo(t.bl.U,t.bl.persistenceKey),n=cs(t.bl.U);return new fo(t.persistenceSettings.synchronizeTabs,e,t.clientId,ci.ao(t.persistenceSettings.cacheSizeBytes),t.cs,Ar(),Cr(),n,this.Sh,t.persistenceSettings.ka)},e.prototype.Ll=function(t){return new Jr},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return br.Ln()?(e=t+"main",[4,br.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(mo(t,e))},e}(hs)),ps=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return ka(n.fi,t,1)},this.ph.Gu.Jl=Fa.bind(null,this.fi),[4,pa(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Hl=function(t){return new Dr},t.prototype.Gl=function(t){var e,n=cs(t.bl.U),r=(e=t.bl,new as(e));return function(t,e,n){return new qo(t,e,n)}(t.credentials,r,n)},t.prototype.zl=function(t){var e,n,r,i,o,a=this;return e=this.ju,n=this.Ku,r=t.cs,i=function(t){return ka(a.fi,t,0)},o=ss.Ln()?new ss:new us,new zo(e,n,r,i,o)},t.prototype.Yl=function(t){return function(t,e,n,r,i,o,a){var s=new _a(t,e,n,r,i,o);return a&&(s.qh=!0),s}(this.ju,this.ph,this.bh,this.Sh,t.Wl,t.Dh,!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return Go(this.ph)},t}(),ds=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),vs=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new h(l.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(R("FieldPath","string",e,t[e]),0===t[e].length)throw new h(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new N(t)},ys=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(N.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},e}(vs),gs=new RegExp("[~\\*/\\[\\]]"),ms=function(t){this.e_=t},bs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){if(2!==t.s_)throw 1===t.s_?t.i_(this.e_+"() can only appear at the top level of your update data"):t.i_(this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ms);function ws(t,e,n){return new xs({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var _s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){return new hn(t.path,new en)},e.prototype.isEqual=function(t){return t instanceof e},e}(ms),Es=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ws(this,t,!0),n=this.a_.map((function(t){return Fs(t,e)})),r=new nn(n);return new hn(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ms),Is=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ws(this,t,!0),n=this.a_.map((function(t){return Fs(t,e)})),r=new on(n);return new hn(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ms),Ss=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).c_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=new sn(t.serializer,_e(t.serializer,this.c_));return new hn(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ms),Ts=function(){function t(t,e){if(O("GeoPoint",arguments,2),R("GeoPoint","number",1,t),R("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new h(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new h(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(t){return Y(this.u_,t.u_)||Y(this.h_,t.h_)},t}(),ks=function(t){this.l_=t},Ns=/^__.*__$/,As=function(t,e,n){this.__=t,this.f_=e,this.d_=n},Cs=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[];return null!==this.We?n.push(new En(t,this.data,this.We,e)):n.push(new _n(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Sn(t,this.fieldTransforms)),n},t}(),Os=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[new En(t,this.data,this.We,e)];return this.fieldTransforms.length>0&&n.push(new Sn(t,this.fieldTransforms)),n},t}();function Ps(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw m()}}var xs=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.I_(t),r},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.m_(),r},t.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(t){return Ws(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(t){return void 0!==this.We.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(Ps(this.s_)&&Ns.test(t))throw this.i_('Document fields cannot begin and end with "__"')},t}(),Rs=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||cs(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new xs({s_:t,methodName:e,r_:n,path:N.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Ds(t,e,n,r,i,o){void 0===o&&(o={});var a=t.P_(o.merge||o.mergeFields?2:0,e,n,i);qs("Data must be an object, but it was:",a,r);var s,u,c=Us(r,a);if(o.merge)s=new ln(a.We),u=a.fieldTransforms;else if(o.mergeFields){for(var f=[],p=0,d=o.mergeFields;p<d.length;p++){var v=d[p],y=void 0;if(v instanceof vs)y=v.t_;else{if("string"!=typeof v)throw m();y=zs(e,v,n)}if(!a.contains(y))throw new h(l.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Hs(f,y)||f.push(y)}s=new ln(f),u=a.fieldTransforms.filter((function(t){return s.Ye(t.field)}))}else s=null,u=a.fieldTransforms;return new Cs(new Cn(c),s,u)}function Ls(t,e,n,r){var i=t.P_(1,e,n);qs("Data must be an object, but it was:",i,r);var o=[],a=new On;E(r,(function(t,r){var s=zs(e,t,n),u=i.A_(s);if(r instanceof bs||r instanceof ks&&r.l_ instanceof bs)o.push(s);else{var c=Fs(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new ln(o);return new Os(a.Xe(),s,i.fieldTransforms)}function Ms(t,e,n,r,i,o){var a=t.P_(1,e,n),s=[Bs(e,r,n)],u=[i];if(o.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Bs(e,o[c])),u.push(o[c+1]);for(var f=[],p=new On,d=s.length-1;d>=0;--d)if(!Hs(f,s[d])){var v=s[d],y=u[d],g=a.A_(v);if(y instanceof bs||y instanceof ks&&y.l_ instanceof bs)f.push(v);else{var m=Fs(y,g);null!=m&&(f.push(v),p.set(v,m))}}var b=new ln(f);return new Os(p.Xe(),b,a.fieldTransforms)}function js(t,e,n,r){return void 0===r&&(r=!1),Fs(n,t.P_(r?4:3,e))}function Fs(t,e){if(t instanceof ks&&(t=t.l_),Vs(t))return qs("Unsupported field value:",e,t),Us(t,e);if(t instanceof ms)return function(t,e){if(!Ps(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");var n=t.n_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Fs(o[i],e.R_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _e(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=st.fromDate(t);return{timestampValue:Ee(e.serializer,n)}}if(t instanceof st){var r=new st(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ee(e.serializer,r)}}if(t instanceof Ts)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:Ie(e.serializer,t.q)};if(t instanceof As){var i=e.U,o=t.__;if(!o.isEqual(i))throw e.i_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ke(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+q(t))}(t,e)}function Us(t,e){var n={};return I(t)?e.path&&e.path.length>0&&e.We.push(e.path):E(t,(function(t,r){var i=Fs(r,e.E_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Vs(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Ts||t instanceof tt||t instanceof As||t instanceof ms)}function qs(t,e,n){if(!Vs(n)||!V(n)){var r=q(n);throw"an object"===r?e.i_(t+" a custom object"):e.i_(t+" "+r)}}function Bs(t,e,n){if(e instanceof vs)return e.t_;if("string"==typeof e)return zs(t,e);throw Ws("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function zs(t,e,n){try{return function(t){if(t.search(gs)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ys.bind.apply(ys,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw Ws((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Ws(t,e,n,r,i){var o=r&&!r.m(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new h(l.INVALID_ARGUMENT,(s+=". ")+t+u)}function Hs(t,e){return t.some((function(t){return t.isEqual(e)}))}var Gs=function(){function t(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.S_(),this.mutations.length>0)throw new h(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i=xe(n.serializer)+"/documents",o={documents:e.map((function(t){return Ae(n.serializer,t)}))},[4,n.ku("BatchGetDocuments",i,o)];case 1:return a=r.sent(),s=new Map,a.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){b(!!e.found),e.found.name,e.found.updateTime;var n=Ce(t,e.found.name),r=Te(e.found.updateTime),i=new Cn({mapValue:{fields:e.found.fields}});return new Rn(n,r,i,{})}(t,e):"missing"in e?function(t,e){b(!!e.missing),b(!!e.readTime);var n=Ce(t,e.missing),r=Te(e.readTime);return new Dn(n,r)}(t,e):m()}(n.serializer,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());b(!!e),u.push(e)})),u)]}}))}))}(this.Ku,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof Dn||t instanceof Rn?n.D_(t):m()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},t.prototype.delete=function(t){this.write([new Nn(t,this.Ge(t))]),this.b_.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=A.D(n);e.mutations.push(new An(r,e.Ge(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i=xe(n.serializer)+"/documents",o={writes:e.map((function(t){return Le(n.serializer,t)}))},[4,n.$u("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},t.prototype.D_=function(t){var e;if(t instanceof Rn)e=t.version;else{if(!(t instanceof Dn))throw m();e=ut.min()}var n=this.y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new h(l.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?pn.updateTime(e):pn.ze()},t.prototype.C_=function(t){var e=this.y_.get(t.toString());if(!this.b_.has(t.toString())&&e){if(e.isEqual(ut.min()))throw new h(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pn.updateTime(e)}return pn.exists(!0)},t.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},t.prototype.S_=function(){},t}(),Ks=function(){function t(t,e,n,r){this.cs=t,this.Ku=e,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new gr(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var t=this;this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new Gs(this.Ku),(e=this.x_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.k_(t)}))}))})).catch((function(t){n.k_(t)})),[2]}))}))}))},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!ct(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.k_=function(t){var e=this;this.N_>0&&this.M_(t)?(this.N_-=1,this.cs.ws((function(){return e.F_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.M_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!_t(e)}return!1},t}(),Qs=function(){function t(t,e){this.credentials=t,this.cs=e,this.clientId=X.k(),this.O_=new yr}return t.prototype.start=function(t,e,n,i){var o=this;this.L_(),this.bl=t;var a=new yr,s=!1;return this.credentials.Hc((function(t){if(!s)return s=!0,d("FirestoreClient","Initializing. user=",t.uid),o.B_(e,n,i,t,a).then(o.O_.resolve,o.O_.reject);o.cs.Cs((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=w(t)).cs.xs(),d("RemoteStore","RemoteStore received new credentials"),i=Zo(n),n.Yu.add(3),[4,Ho(n)];case 1:return r.sent(),i&&n.th.set("Unknown"),[4,n.Gu.Jl(e)];case 2:return r.sent(),n.Yu.delete(3),[4,Wo(n)];case 3:return r.sent(),[2]}}))}))}(o.ph,t)}))})),this.cs.ws((function(){return o.O_.promise})),a.promise},t.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!0),function(t){var e=w(t);return e.Yu.delete(0),Wo(e)}(t.ph)}))},t.prototype.B_=function(t,e,n,i,o){return r.__awaiter(this,void 0,void 0,(function(){var a,s,u=this;return r.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),a={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:i,Dh:100,persistenceSettings:n},[4,t.initialize(a)];case 1:return c.sent(),[4,e.initialize(t,a)];case 2:return c.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=Ea.bind(null,this.fi),this.q_.js=Sa.bind(null,this.fi),this.persistence.Za((function(){return r.__awaiter(u,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(s=c.sent(),o.reject(s),!this.U_(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.B_(new hs,new ps,{jl:!1},i,o))];case 4:return[2]}}))}))},t.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===l.FAILED_PRECONDITION||t.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.L_=function(){if(this.cs.ps)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!1),function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=w(t)).Yu.add(0),[4,Ho(e)];case 1:return n.sent(),e.th.set("Offline"),[2]}}))}))}(t.ph)}))},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new yr;return this.cs.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Go(this.ph)];case 1:return r.sent(),[4,this.Sh.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=xr(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new yr;return this.cs.ws((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:Zo((n=w(t)).ph)||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=w(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Sr.qo(t)}))}(n.ju)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Lh.get(i)||[]).push(e),n.Lh.set(i,o),[3,4]);case 3:return a=r.sent(),s=xr(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}(t.fi,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.L_();var i=new ds(n),o=new Vr(t,i,e);return this.cs.ws((function(){return Lr(r.q_,o)})),function(){i.Zl(),r.cs.ws((function(){return Mr(r.q_,o)}))}},t.prototype.Q_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new yr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=w(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Cc.Cr(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof Rn?n.resolve(i):i instanceof Dn?n.resolve(null):n.reject(new h(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),a=xr(o,"Failed to get document '"+e+" from cache"),n.reject(a),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.W_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new yr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new ds({next:function(o){e.ws((function(){return Mr(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new h(l.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Vr(Fn(n.path),o,{includeMetadataChanges:!0,Xs:!0});return Lr(t,a)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.j_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new yr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ko(t,e,!0)];case 1:return i=r.sent(),o=new ma(e,i.Fc),a=o.wh(i.documents),s=o.yr(a,!1),n.resolve(s.snapshot),[3,3];case 2:return u=r.sent(),c=xr(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.K_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new yr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new ds({next:function(n){e.ws((function(){return Mr(t,a)})),n.fromCache&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Vr(n,o,{includeMetadataChanges:!0,Xs:!0});return Lr(t,a)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.L_();var n=new yr;return this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=Xa(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=w(t),i=st.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Lt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Cc.kr(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=mn(c,n.get(c.key));null!=l&&a.push(new En(c.key,l,Pn(l.proto.mapValue),pn.exists(!0)))}return r.Sr.ko(t,i,a,e)}))})).then((function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}}))}(i.ju,e)];case 2:return o=r.sent(),i.Sh.xi(o.batchId),function(t,e,n){var r=t.Oh[t.currentUser.ti()];r||(r=new It(Y)),r=r.ot(e,n),t.Oh[t.currentUser.ti()]=r}(i,o.batchId,n),[4,ja(i,o.wr)];case 3:return r.sent(),[4,aa(i.ph)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),s=xr(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}(e.fi,t,n)})),n.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(t){var e=this;this.L_();var n=new ds(t);return this.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){w(t).qs.add(e),e.next()}(this.q_,n)]}))}))})),function(){n.Zl(),e.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){w(t).qs.delete(e)}(this.q_,n)]}))}))}))}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.L_();var n=new yr;return this.cs.ws((function(){return new Ks(e.cs,e.Ku,t,n).run(),Promise.resolve()})),n.promise},t}();function Xs(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ys=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.H_=n,this.Y_=r,this.J_=i}return t.prototype.X_=function(t){switch(te(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(ce(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw m()}},t.prototype.if=function(t){var e=this,n={};return E(t.fields||{},(function(t,r){n[t]=e.X_(r)})),n},t.prototype.nf=function(t){return new Ts(ue(t.latitude),ue(t.longitude))},t.prototype.sf=function(t){var e=this;return(t.values||[]).map((function(t){return e.X_(t)}))},t.prototype.tf=function(t){switch(this.H_){case"previous":var e=$t(t);return null==e?null:this.X_(e);case"estimate":return this.Z_(Jt(t));default:return null}},t.prototype.Z_=function(t){var e=se(t),n=new st(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.ef=function(t){var e=T.g(t);b(Ye(e));var n=new ot(e.get(1),e.get(3)),r=new A(e.u(5));return n.isEqual(this.U)||v("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},t}(),$s=ci.ho,Js=function(){function t(t){var e,n,r,i,o;if(void 0===t.host){if(void 0!==t.ssl)throw new h(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else L("settings","non-empty string","host",t.host),this.host=t.host,M("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(z("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),M("settings","object","credentials",t.credentials),this.credentials=t.credentials,M("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),M("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?v("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&v("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,M("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=ci._o;else{if(t.cacheSizeBytes!==$s&&t.cacheSizeBytes<ci.lo)throw new h(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ci.lo);this.cacheSizeBytes=t.cacheSizeBytes}M("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i,M("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(o=t.experimentalAutoDetectLongPolling)&&void 0!==o&&o,function(t,e,n,r){if(!0===e&&!0===r)throw new h(l.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Zs=function(){function t(e,n,i,o){var a=this;if(void 0===i&&(i=new hs),void 0===o&&(o=new ps),this.rf=i,this.af=o,this.cf=null,this.uf=new Pr,this.INTERNAL={delete:function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.cf=s,this.__=t._f(s),this.ff=s.name,this.df=new Lo(n)}else{var u=e;if(!u.projectId)throw new h(l.INVALID_ARGUMENT,"Must provide projectId");this.__=new ot(u.projectId,u.database),this.ff="[DEFAULT]",this.df=new Do}this.wf=new Js({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Rs(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){O("Firestore.settings",arguments,1),R("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge;var e=new Js(t);if(this.lf&&!this.wf.isEqual(e))throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=e,void 0!==e.credentials&&(this.df=function(t){if(!t)return new Do;switch(t.type){case"gapi":var e=t.client;return b(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new jo(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new h(l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.lf)throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&v("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new h(l.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.lf&&!this.lf.z_)throw new h(l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new yr,[2,(this.uf.bs((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.hf(),Xs(t))return this.lf.G_(t);R("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.lf.G_(e)},t.prototype.hf=function(){return this.lf||this.Ef(new hs,new ps,{jl:!1}),this.lf},t.prototype.Af=function(){return new it(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(t,e,n){var r=this.Af();return this.lf=new Qs(this.df,this.uf),this.lf.start(r,t,e,n)},t._f=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new h(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new h(l.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new h(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return O("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,t),this.hf(),new du(T.g(t),this,null)},t.prototype.doc=function(t){return O("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,t),this.hf(),nu.Rf(T.g(t),this,null)},t.prototype.collectionGroup=function(t){if(O("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new fu(function(t){return new Mn(T.P(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return O("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,t),this.hf().transaction((function(n){return t(new tu(e,n))}))},t.prototype.batch=function(){return this.hf(),new eu(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(p()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;O("Firestore.setLogLevel",arguments,1),F("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,f.setLogLevel(e)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),tu=function(){function t(t,e){this.yf=t,this.Vf=e}return t.prototype.get=function(t){var e=this;O("Transaction.get",arguments,1);var n=mu("Transaction.get",t,this.yf);return this.Vf.v_([n.f_]).then((function(t){if(!t||1!==t.length)return m();var r=t[0];if(r instanceof Dn)return new iu(e.yf,n.f_,null,!1,!1,n.d_);if(r instanceof Rn)return new iu(e.yf,n.f_,r,!1,!1,n.d_);throw m()}))},t.prototype.set=function(t,e,n){x("Transaction.set",arguments,2,3);var r=mu("Transaction.set",t,this.yf);n=vu("Transaction.set",n);var i=wu(r.d_,e,n),o=Ds(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof ys?(P("Transaction.update",arguments,3),r=mu("Transaction.update",t,this.yf),i=Ms(this.yf.mf,"Transaction.update",r.f_,e,n,o)):(O("Transaction.update",arguments,2),r=mu("Transaction.update",t,this.yf),i=Ls(this.yf.mf,"Transaction.update",r.f_,e)),this.Vf.update(r.f_,i),this},t.prototype.delete=function(t){O("Transaction.delete",arguments,1);var e=mu("Transaction.delete",t,this.yf);return this.Vf.delete(e.f_),this},t}(),eu=function(){function t(t){this.yf=t,this.pf=[],this.bf=!1}return t.prototype.set=function(t,e,n){x("WriteBatch.set",arguments,2,3),this.vf();var r=mu("WriteBatch.set",t,this.yf);n=vu("WriteBatch.set",n);var i=wu(r.d_,e,n),o=Ds(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(o.w_(r.f_,pn.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.vf(),"string"==typeof e||e instanceof ys?(P("WriteBatch.update",arguments,3),r=mu("WriteBatch.update",t,this.yf),i=Ms(this.yf.mf,"WriteBatch.update",r.f_,e,n,o)):(O("WriteBatch.update",arguments,2),r=mu("WriteBatch.update",t,this.yf),i=Ls(this.yf.mf,"WriteBatch.update",r.f_,e)),this.pf=this.pf.concat(i.w_(r.f_,pn.exists(!0))),this},t.prototype.delete=function(t){O("WriteBatch.delete",arguments,1),this.vf();var e=mu("WriteBatch.delete",t,this.yf);return this.pf=this.pf.concat(new Nn(e.f_,pn.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new h(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),nu=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.__,e,r)||this).f_=e,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return r.__extends(e,t),e.Rf=function(t,n,r){if(t.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new A(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new du(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(O("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,t),!t)throw new h(l.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=T.g(t);return new du(this.f_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},e.prototype.set=function(t,e){x("DocumentReference.set",arguments,1,2),e=vu("DocumentReference.set",e);var n=wu(this.d_,t,e),r=Ds(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,e);return this.lf.write(r.w_(this.f_,pn.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof ys?(P("DocumentReference.update",arguments,2),n=Ms(this.firestore.mf,"DocumentReference.update",this.f_,t,e,r)):(O("DocumentReference.update",arguments,1),n=Ls(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(n.w_(this.f_,pn.exists(!0)))},e.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this.lf.write([new Nn(this.f_,pn.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];x("DocumentReference.onSnapshot",arguments,1,4);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Xs(i[s])||(z("DocumentReference.onSnapshot",a=i[s],["includeMetadataChanges"]),M("DocumentReference.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++);var u={includeMetadataChanges:a.includeMetadataChanges};if(Xs(i[s])){var c=i[s];i[s]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[s+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[s+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else R("DocumentReference.onSnapshot","function",s,i[s]),D("DocumentReference.onSnapshot","function",s+1,i[s+1]),D("DocumentReference.onSnapshot","function",s+2,i[s+2]);var l={next:function(t){i[s]&&i[s](r.Sf(t))},error:i[s+1],complete:i[s+2]};return this.lf.listen(Fn(this.f_.path),u,l)},e.prototype.get=function(t){var e=this;x("DocumentReference.get",arguments,0,1),gu("DocumentReference.get",t);var n=this.firestore.hf();return t&&"cache"===t.source?n.Q_(this.f_).then((function(t){return new iu(e.firestore,e.f_,t,!0,t instanceof Rn&&t.Je,e.d_)})):n.W_(this.f_,t).then((function(t){return e.Sf(t)}))},e.prototype.withConverter=function(t){return new e(this.f_,this.firestore,t)},e.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new iu(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},e}(As),ru=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),iu=function(){function t(t,e,n,r,i,o){this.yf=t,this.f_=e,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}return t.prototype.data=function(t){var e=this;if(x("DocumentSnapshot.data",arguments,0,1),t=yu("DocumentSnapshot.data",t),this.Df){if(this.d_){var n=new ou(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,t)}return new Ys(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(t){return new nu(t,e.yf,null)}),(function(t){return new rt(t)})).X_(this.Df.rn())}},t.prototype.get=function(t,e){var n=this;if(x("DocumentSnapshot.get",arguments,1,2),e=yu("DocumentSnapshot.get",e),this.Df){var r=this.Df.data().field(Bs("DocumentSnapshot.get",t,this.f_));if(null!==r)return new Ys(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(t){return new nu(t,n.yf,n.d_)}),(function(t){return new rt(t)})).X_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new nu(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new ru(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(null===this.Df?null===e.Df:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(iu);function au(t,e,n,r,i,o,a){var s;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new h(l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){cu(a,o);for(var u=[],c=0,f=a;c<f.length;c++){var p=f[c];u.push(uu(r,t,p))}s={arrayValue:{values:u}}}else s=uu(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||cu(a,o),s=js(n,e,a,"in"===o||"not-in"===o);var d=tr.create(i,o,s);return function(t,e){if(e.hn()){var n=Bn(t);if(null!==n&&!n.isEqual(e.field))throw new h(l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=qn(t);null!==r&&lu(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new h(l.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new h(l.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}function su(t,e,n){if(null!==t.startAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new pr(e,n);return function(t,e){if(null===qn(t)){var n=Bn(t);null!==n&&lu(t,n,e.field)}}(t,r),r}function uu(t,e,n){if("string"==typeof n){if(""===n)throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zn(e)&&-1!==n.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(T.g(n));if(!A.F(r))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return le(t,new A(r))}if(n instanceof As)return le(t,n.f_);throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(n)+".")}function cu(t,e){if(!Array.isArray(t)||0===t.length)throw new h(l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function lu(t,e,n){if(!n.isEqual(e))throw new h(l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function hu(t){if(Vn(t)&&0===t.on.length)throw new h(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fu=function(){function t(t,e,n){this.Ff=t,this.firestore=e,this.d_=n}return t.prototype.where=function(e,n,r){O("Query.where",arguments,3),B("Query.where",3,r);var i=F("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=Bs("Query.where",e),a=au(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new Mn(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Ff,a),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var r;if(x("Query.orderBy",arguments,1,2),D("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new h(l.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Bs("Query.orderBy",e),o=su(this.Ff,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new Mn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Ff,o),this.firestore,this.d_)},t.prototype.limit=function(e){return O("Query.limit",arguments,1),R("Query.limit","number",1,e),H("Query.limit",1,e),new t(Gn(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return O("Query.limitToLast",arguments,1),R("Query.limitToLast","number",1,e),H("Query.limitToLast",1,e),new t(Gn(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAt",arguments,1);var i=this.xf("Query.startAt",e,n,!0);return new t(Kn(this.Ff,i),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",e,n,!1);return new t(Kn(this.Ff,i),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",e,n,!0);return new t(Qn(this.Ff,i),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endAt",arguments,1);var i=this.xf("Query.endAt",e,n,!1);return new t(Qn(this.Ff,i),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","Query",1,e);return this.firestore===e.firestore&&Xn(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(t,e,n,i){if(B(t,1,e),e instanceof iu)return O(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new h(l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Wn(t);a<s.length;a++){var u=s[a];if(u.field.p())o.push(le(e,r.key));else{var c=r.field(u.field);if(Yt(c))throw new h(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var f=u.field.R();throw new h(l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(c)}}return new cr(o,i)}(this.Ff,this.firestore.__,t,e.Df,i);var o=[e].concat(n);return function(t,e,n,r,i,o){var a=t.on;if(i.length>a.length)throw new h(l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.p()){if("string"!=typeof c)throw new h(l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!zn(t)&&-1!==c.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var f=t.path.child(T.g(c));if(!A.F(f))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var p=new A(f);s.push(le(e,p))}else{var d=js(n,r,c);s.push(d)}}return new cr(s,o)}(this.Ff,this.firestore.__,this.firestore.mf,t,o,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];x("Query.onSnapshot",arguments,1,4);var a={},s=0;if("object"!=typeof i[s]||Xs(i[s])||(z("Query.onSnapshot",a=i[s],["includeMetadataChanges"]),M("Query.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++),Xs(i[s])){var u=i[s];i[s]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[s+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else R("Query.onSnapshot","function",s,i[s]),D("Query.onSnapshot","function",s+1,i[s+1]),D("Query.onSnapshot","function",s+2,i[s+2]);var c={next:function(t){i[s]&&i[s](new pu(r.firestore,r.Ff,t,r.d_))},error:i[s+1],complete:i[s+2]};return hu(this.Ff),this.firestore.hf().listen(this.Ff,a,c)},t.prototype.get=function(t){var e=this;x("Query.get",arguments,0,1),gu("Query.get",t),hu(this.Ff);var n=this.firestore.hf();return(t&&"cache"===t.source?n.j_(this.Ff):n.K_(this.Ff,t)).then((function(t){return new pu(e.firestore,e.Ff,t,e.d_)}))},t}(),pu=function(){function t(t,e,n,r){this.yf=t,this.$f=e,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new ru(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;x("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach((function(r){t.call(e,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new fu(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(z("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),M("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.kf.Kt)throw new h(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===e||(this.Mf=function(t,e,n){if(t.Qt.m()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Wt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Qt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),o=-1,a=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(a=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:bu(e.type),doc:r,oldIndex:o,newIndex:a}}))}(this.kf,e,this.Lf.bind(this)),this.Of=e),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&Xn(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(t,e,n){return new ou(this.yf,t.key,t,e,n,this.d_)},t}(),du=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Fn(e),n,r)||this).Bf=e,e.length%2!=1)throw new h(l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new nu(new A(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){x("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=X.k()),R("CollectionReference.doc","non-empty string",1,t);var e=T.g(t);return nu.Rf(this.Ff.path.child(e),this.firestore,this.d_)},e.prototype.add=function(t){O("CollectionReference.add",arguments,1);var e=this.d_?this.d_.toFirestore(t):t;R("CollectionReference.add","object",1,e);var n=this.doc();return new nu(n.f_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Bf,this.firestore,t)},e}(fu);function vu(t,e){if(void 0===e)return{merge:!1};if(z(t,e,["merge","mergeFields"]),M(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+q(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof ys}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new h(l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function yu(t,e){return void 0===e?{}:(z(t,e,["serverTimestamps"]),j(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function gu(t,e){D(t,"object",1,e),e&&(z(t,e,["source"]),j(t,0,"source",e.source,["default","server","cache"]))}function mu(t,e,n){if(e instanceof As){if(e.firestore!==n)throw new h(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw W(t,"DocumentReference",1,e)}function bu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return m()}}function wu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.serverTimestamp=function(){C("FieldValue.serverTimestamp",arguments);var t=new _s("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){C("FieldValue.delete",arguments);var t=new bs("deleteField");return t.e_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];P("FieldValue.arrayUnion",arguments,1);var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("arrayUnion()",arguments,1),new Es("arrayUnion",t)}.apply(void 0,t);return r.e_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];P("FieldValue.arrayRemove",arguments,1);var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("arrayRemove()",arguments,1),new Is("arrayRemove",t)}.apply(void 0,t);return r.e_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){R("FieldValue.increment","number",1,t),O("FieldValue.increment",arguments,1);var n=function(t){return new Ss("increment",t)}(t);return n.e_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)},e}(ks),Eu={Firestore:Zs,GeoPoint:Ts,Timestamp:st,Blob:rt,Transaction:tu,WriteBatch:eu,DocumentReference:nu,DocumentSnapshot:iu,Query:fu,QueryDocumentSnapshot:ou,QuerySnapshot:pu,CollectionReference:du,FieldPath:ys,FieldValue:_u,setLogLevel:Zs.setLogLevel,CACHE_SIZE_UNLIMITED:$s};function Iu(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){var n=new ps,r=new fs(n);return new Zs(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Eu)))}(t),t.registerVersion("@firebase/firestore","1.18.0")}Iu(c.default)},508:function(t,e,n){"use strict";n.r(e),n.d(e,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return _},__await:function(){return m},__awaiter:function(){return l},__classPrivateFieldGet:function(){return T},__classPrivateFieldSet:function(){return k},__createBinding:function(){return f},__decorate:function(){return s},__exportStar:function(){return p},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return S},__importStar:function(){return I},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return y},__spreadArrays:function(){return g},__values:function(){return d}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},9386:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(e),n.d(e,{LogLevel:function(){return o},Logger:function(){return h},setLogLevel:function(){return f},setUserLogHandler:function(){return p}});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){a.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},9164:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2874),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function p(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}var d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?y(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function y(t,e){return t.replace(g,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function m(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(c(o[0])||""),n=m(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}};var w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var _=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function I(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}var S=144e5;e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=v,e.FirebaseError=d,e.MAX_VALUE_MILLIS=S,e.RANDOM_FACTOR=.5,e.Sha1=w,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(S,r+i)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new _(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=I,e.getUA=f,e.isAdmin=function(t){var e=b(t).claims;return"object"===typeof e&&!0===e.admin},e.isBrowser=function(){return"object"===typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=p,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(I(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(I(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(I(t,e,r)+"must be a valid firebase namespace.")}},2874:function(t,e,n){"use strict";n.r(e),n.d(e,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return _},__await:function(){return m},__awaiter:function(){return l},__classPrivateFieldGet:function(){return T},__classPrivateFieldSet:function(){return k},__createBinding:function(){return f},__decorate:function(){return s},__exportStar:function(){return p},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return S},__importStar:function(){return I},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return y},__spreadArrays:function(){return g},__values:function(){return d}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},2055:function(t,e,n){"use strict";n.r(e),n.d(e,{ErrorCode:function(){return nr},EventType:function(){return rr},WebChannel:function(){return ir},XhrIo:function(){return or},createWebChannelTransport:function(){return er}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},s=s||{},u=a||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),d=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now;function w(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,p)&&t[p]||(t[p]=++d)})(this)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var N,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function C(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var P=u.navigator;if(P){var x=P.userAgent;if(x){N=x;break t}}N=""}function R(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function D(t){var e={};for(var n in t)e[n]=t[n];return e}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=c;var F,U=C(N,"Opera"),V=C(N,"Trident")||C(N,"MSIE"),q=C(N,"Edge"),B=q||V,z=C(N,"Gecko")&&!(C(N.toLowerCase(),"webkit")&&!C(N,"Edge"))&&!(C(N,"Trident")||C(N,"MSIE"))&&!C(N,"Edge"),W=C(N.toLowerCase(),"webkit")&&!C(N,"Edge");function H(){var t=u.document;return t?t.documentMode:void 0}t:{var G="",K=function(){var t=N;return z?/rv:([^\);]+)(\)|;)/.exec(t):q?/Edge\/([\d\.]+)/.exec(t):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):W?/WebKit\/(\S+)/.exec(t):U?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(K&&(G=K?K[1]:""),V){var Q=H();if(null!=Q&&Q>parseFloat(G)){F=String(Q);break t}}F=G}var X,Y={};function $(t){return function(t,e){var n=Y;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=A(String(F)).split("."),r=A(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=O(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||O(0==a[2].length,0==s[2].length)||O(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&V){var J=H();X=J||(parseInt(F,10)||void 0)}else X=void 0;var Z=X,tt=!V||9<=Number(Z),et=V&&!$("9"),nt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function rt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function it(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(z){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}rt.prototype.b=function(){this.defaultPrevented=!0},w(it,rt);var ot={2:"touch",3:"pen",4:"mouse"};it.prototype.b=function(){it.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,et)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var at="closure_listenable_"+(1e6*Math.random()|0),st=0;function ut(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++st,this.Y=this.Z=!1}function ct(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function lt(t){this.src=t,this.a={},this.b=0}function ht(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ct(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}lt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ft(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ut(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),dt={};function vt(t,e,n,r,i){if(r&&r.once)return gt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=Tt(n),t&&t[at]?t.va(e,n,f(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i;if(a&&!tt)return null;var s=It(t);if(s||(t[pt]=s=new lt(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Et,e=tt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)gt(t,e[o],n,r,i);return null}return n=Tt(n),t&&t[at]?t.wa(e,n,f(r)?!!r.capture:!!r,i):yt(t,e,n,!0,r,i)}function mt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)mt(t,e[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=Tt(n),t&&t[at]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=ft(o=t.a[e],n,r,i))&&(ct(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=It(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ft(e,n,r,i)),(n=-1<t?e[t]:null)&&bt(n))}function bt(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[at])ht(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=It(e))?(ht(n,t),0==n.b&&(n.src=null,e[pt]=null)):ct(t)}}}function wt(t){return t in dt?dt[t]:dt[t]="on"+t}function _t(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&bt(t),n.call(r,e)}function Et(t,e){if(t.Y)return!0;if(!tt){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return _t(t,e=new it(e,this))}return _t(t,new it(e,this))}function It(t){return(t=t[pt])instanceof lt?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(t){return"function"==l(t)?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function kt(){_.call(this),this.c=new lt(this),this.J=this,this.C=null}function Nt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&ht(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}w(kt,_),kt.prototype[at]=!0,(o=kt.prototype).addEventListener=function(t,e,n,r){vt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){mt(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"===typeof t)t=new rt(t,n);else if(t instanceof rt)t.target=t.target||n;else{var i=t;M(t=new rt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Nt(a,r,!0,t)&&i}if(i=Nt(a=t.a=n,r,!0,t)&&i,i=Nt(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Nt(a=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(kt.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ct(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var At=u.JSON.stringify;function Ct(){this.b=this.a=null}var Ot,Pt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Rt}),(function(t){t.reset()}),100);function xt(){var t=jt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Dt(t){u.setTimeout((function(){throw t}),0)}function Lt(t,e){Ot||function(){var t=u.Promise.resolve(void 0);Ot=function(){t.then(Ft)}}(),Mt||(Ot(),Mt=!0),jt.add(t,e)}Ct.prototype.add=function(t,e){var n=Pt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Mt=!1,jt=new Ct;function Ft(){for(var t;t=xt();){try{t.a.call(t.b)}catch(n){Dt(n)}var e=Pt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Mt=!1}function Ut(t,e){kt.call(this),this.b=t||1,this.a=e||u,this.f=g(this.Ya,this),this.g=b()}function Vt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function qt(t,e,n){if("function"==l(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Bt(t){t.a=qt((function(){t.a=null,t.c&&(t.c=!1,Bt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}w(Ut,kt),(o=Ut.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=b()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Vt(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=b())},o.G=function(){Ut.S.G.call(this),Vt(this),delete this.a};var zt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Bt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_);function Wt(t){_.call(this),this.b=t,this.a={}}w(Wt,_);var Ht=[];function Gt(t,e,n,r){Array.isArray(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Kt(t){R(t.a,(function(t,e){this.a.hasOwnProperty(e)&&bt(t)}),t),t.a={}}function Qt(){this.a=!0}function Xt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return At(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Wt.prototype.G=function(){Wt.S.G.call(this),Kt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qt.prototype.info=function(){};var Yt=null;function $t(){return Yt=Yt||new kt}function Jt(t){rt.call(this,"serverreachability",t)}function Zt(t){var e=$t();e.dispatchEvent(new Jt(e,t))}function te(t){rt.call(this,"statevent",t)}function ee(t){var e=$t();e.dispatchEvent(new te(e,t))}function ne(t){rt.call(this,"timingevent",t)}function re(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}w(Jt,rt),w(te,rt),w(ne,rt);var ie={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},oe={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ae(){}function se(t){var e;return(e=t.a)||(e=t.a={}),e}function ue(){}ae.prototype.a=null;var ce,le={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function he(){rt.call(this,"d")}function fe(){rt.call(this,"c")}function pe(){}function de(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Wt(this),this.P=ve,t=B?125:void 0,this.R=new Ut(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}w(he,rt),w(fe,rt),w(pe,ae),ce=new pe;var ve=45e3,ye={},ge={};function me(t,e,n){t.H=1,t.i=Ve(De(e)),t.j=n,t.I=!0,be(t,null)}function be(t,e){t.u=b(),Ee(t),t.l=De(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Ze(n.b,"t",r),t.D=0,t.a=Qn(t.g,t.g.C?e:null),0<t.O&&(t.F=new zt(g(t.Ca,t,t.a),t.O)),Gt(t.J,t.a,"readystatechange",t.Wa),e=t.B?D(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Zt(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function we(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=_e(t,n);if(i==ge){4==e&&(t.h=4,ee(14),r=!1),Xt(t.c,t.f,null,"[Incomplete Response]");break}if(i==ye){t.h=4,ee(15),Xt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Xt(t.c,t.f,i,null),Ne(t,i)}4==e&&0==n.length&&(t.h=1,ee(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vn(e),e.F=!0)):(Xt(t.c,t.f,n,"[Invalid Chunked Response]"),ke(t),Te(t))}function _e(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ge:(n=Number(e.substring(n,r)),isNaN(n)?ye:(r+=1)+n>e.length?ge:(e=e.substr(r,n),t.D=r+n,e))}function Ee(t){t.U=b()+t.P,Ie(t,t.P)}function Ie(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=re(g(t.Ua,t),e)}function Se(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function Te(t){0==t.g.v||t.A||zn(t.g,t)}function ke(t){Se(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Vt(t.R),Kt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ne(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||sn(n.b,t)))if(n.I=t.N,!t.C&&sn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Bn(n),Pn(n)}Un(n),ee(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=re(g(n.Ra,n),6e3));if(1>=an(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else Hn(n,11)}else if((t.C||n.a==t)&&Bn(n),!k(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(C(l,"spdy")||C(l,"quic")||C(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(un(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ue(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=b()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=Kn(u,u.C?u.ga:null,u.fa),p.C){cn(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(Se(d),Ee(d)),u.a=p}else Fn(u);0<n.g.length&&Dn(n)}else"stop"!=i[0]&&"close"!=i[0]||Hn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hn(n,7):On(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Zt(4)}catch(y){}}function Ae(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"===typeof t)I(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ce(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ce)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Oe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=de.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==kn(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=kn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!B&&!this.a.$())){this.A||4!=e||7==n||Zt(8==n||0>=r?3:2),Se(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,ee(12),ke(this),Te(this);break t}Xt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ne(this,u)}this.I?(we(this,e,o),B&&this.b&&3==e&&(Gt(this.J,this.R,"tick",this.Va),this.R.start())):(Xt(this.c,this.f,o,null),Ne(this,o)),4==e&&ke(this),this.b&&!this.A&&(4==e?zn(this.g,this):(this.b=!1,Ee(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ee(12)):(this.h=0,ee(13)),ke(this),Te(this)}}}catch(c){}},o.Va=function(){if(this.a){var t=kn(this.a),e=this.a.$();this.D<e.length&&(Se(this),we(this,t,e),this.b&&4!=t&&Ee(this))}},o.cancel=function(){this.A=!0,ke(this)},o.Ua=function(){this.o=null;var t=b();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Zt(3),ee(17)),ke(this),this.h=2,Te(this)):Ie(this,this.U-t)},(o=Ce.prototype).K=function(){Oe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Oe(this),this.a.concat()},o.get=function(t,e){return Pe(this.b,t)?this.b[t]:e},o.set=function(t,e){Pe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Re){this.a=void 0!==e?e:t.a,Le(this,t.f),this.j=t.j,Me(this,t.c),je(this,t.h),this.g=t.g,e=t.b;var n=new Xe;n.c=e.c,e.a&&(n.a=new Ce(e.a),n.b=e.b),Fe(this,n),this.i=t.i}else t&&(n=String(t).match(xe))?(this.a=!!e,Le(this,n[1]||"",!0),this.j=qe(n[2]||""),Me(this,n[3]||"",!0),je(this,n[4]),this.g=qe(n[5]||"",!0),Fe(this,n[6]||"",!0),this.i=qe(n[7]||"")):(this.a=!!e,this.b=new Xe(null,this.a))}function De(t){return new Re(t)}function Le(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.c=n?qe(e,!0):e}function je(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Fe(t,e,n){e instanceof Xe?(t.b=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($e(this,e),Ze(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Be(e,Ke)),t.b=new Xe(e,t.a))}function Ue(t,e,n){t.b.set(e,n)}function Ve(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Be(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Re.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Be(e,We,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Be(e,We,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Be(n,"/"==n.charAt(0)?Ge:He,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Be(n,Qe)),t.join("")};var We=/[#\/\?@]/g,He=/[#\?:]/g,Ge=/[#\?]/g,Ke=/[#\?@]/g,Qe=/#/g;function Xe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Ce,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $e(t,e){Ye(t),e=tn(t,e),Pe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Oe(t)))}function Je(t,e){return Ye(t),e=tn(t,e),Pe(t.a.b,e)}function Ze(t,e,n){$e(t,e),0<n.length&&(t.c=null,t.a.set(tn(t,e),T(n)),t.b+=n.length)}function tn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function en(t,e){this.b=t,this.a=e}function nn(t){this.g=t||rn,u.PerformanceNavigationTiming?t=0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=Xe.prototype).add=function(t,e){Ye(this),this.c=null,t=tn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){Ye(this),this.a.forEach((function(n,r){I(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){Ye(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){Ye(this);var e=[];if("string"===typeof t)Je(this,t)&&(e=S(e,this.a.get(tn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},o.set=function(t,e){return Ye(this),this.c=null,Je(this,t=tn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var rn=10;function on(t){return!!t.b||!!t.a&&t.a.size>=t.f}function an(t){return t.b?1:t.a?t.a.size:0}function sn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function un(t,e){t.a?t.a.add(e):t.b=e}function cn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ln(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return T(t.c)}function hn(){}function fn(){this.a=new hn}function pn(t,e,n){var r=n||"";try{Ae(t,(function(t,n){var i=t;f(t)&&(i=At(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}nn.prototype.cancel=function(){var t,e;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},hn.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var vn=u.JSON.parse;function yn(t){kt.call(this),this.headers=new Ce,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=gn,this.D=this.F=!1}w(yn,kt);var gn="",mn=/^https?$/i,bn=["POST","PUT"];function wn(t){return"content-type"==t.toLowerCase()}function _n(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,En(t),Sn(t)}function En(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function In(t){if(t.b&&"undefined"!=typeof s&&(!t.s[1]||4!=kn(t)||2!=t.X()))if(t.l&&4==kn(t))qt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==kn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(xe)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!mn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<kn(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",En(t)}}finally{Sn(t)}}}function Sn(t,e){if(t.a){Tn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Tn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function kn(t){return t.a?t.a.readyState:0}function Nn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return R(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Ue(t,e,n))}function An(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Cn(t){this.pa=0,this.g=[],this.c=new Qt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=An("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=An("baseRetryDelayMs",5e3,t),this.Ma=An("retryDelaySeedMs",1e4,t),this.Ja=An("forwardChannelMaxRetries",2,t),this.ma=An("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new nn(t&&t.concurrentRequestLimit),this.ka=new fn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function On(t){if(xn(t),3==t.v){var e=t.R++,n=De(t.B);Ue(n,"SID",t.J),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Mn(t,n),(e=new de(t,t.c,e,void 0)).H=2,e.i=Ve(De(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=Qn(e.g,null),e.a.ba(e.i)),e.u=b(),Ee(e)}Gn(t)}function Pn(t){t.a&&(Vn(t),t.a.cancel(),t.a=null)}function xn(t){Pn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Bn(t),t.b.cancel(),t.h&&("number"===typeof t.h&&u.clearTimeout(t.h),t.h=null)}function Rn(t,e){t.g.push(new en(t.La++,e)),3==t.v&&Dn(t)}function Dn(t){on(t.b)||t.h||(t.h=!0,Lt(t.Ba,t),t.u=0)}function Ln(t,e){var n;n=e?e.f:t.R++;var r=De(t.B);Ue(r,"SID",t.J),Ue(r,"RID",n),Ue(r,"AID",t.P),Mn(t,r),t.i&&t.l&&Nn(r,t.i,t.l),n=new de(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=jn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),un(t.b,n),me(n,r,e)}function Mn(t,e){t.f&&Ae({},(function(t,n){Ue(e,n,t)}))}function jn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?g(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{pn(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Fn(t){t.a||t.j||(t.U=1,Lt(t.Aa,t),t.o=0)}function Un(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=re(g(t.Aa,t),Wn(t,t.o)),t.o++,!0)}function Vn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function qn(t){t.a=new de(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=De(t.la);Ue(e,"RID","rpc"),Ue(e,"SID",t.J),Ue(e,"CI",t.H?"0":"1"),Ue(e,"AID",t.P),Mn(t,e),Ue(e,"TYPE","xmlhttp"),t.i&&t.l&&Nn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ve(De(e)),n.j=null,n.I=!0,be(n,t)}function Bn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function zn(t,e){var n=null;if(t.a==e){Bn(t),Vn(t),t.a=null;var r=2}else{if(!sn(t.b,e))return;n=e.s,cn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=b()-e.u;var i=t.u;(r=$t()).dispatchEvent(new ne(r,n,e,i)),Dn(t)}else Fn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(an(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja))&&(t.h=re(g(t.Ba,t,e),Wn(t,t.u)),t.u++,!0))}(t,e)||2==r&&Un(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Hn(t,5);break;case 4:Hn(t,10);break;case 3:Hn(t,6);break;default:Hn(t,2)}}function Wn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Hn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=g(t.Xa,t);n||(n=new Re("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Le(n,"https"),Ve(n)),function(t,e){var n=new Qt;if(u.Image){var r=new Image;r.onload=m(dn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=m(dn,n,r,"TestLoadImage: error",!1,e),r.onabort=m(dn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=m(dn,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ee(2);t.v=0,t.f&&t.f.ra(e),Gn(t),xn(t)}function Gn(t){t.v=0,t.I=-1,t.f&&(0==ln(t.b).length&&0==t.g.length||(t.b.c.length=0,T(t.g),t.g.length=0),t.f.qa())}function Kn(t,e,n){var r=function(t){return t instanceof Re?De(t):new Re(t,void 0)}(n);if(""!=r.c)e&&Me(r,e+"."+r.c),je(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new Re(null,void 0);return t&&Le(i,t),e&&Me(i,e),n&&je(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&R(t.W,(function(t,e){Ue(r,e,t)})),e=t.A,n=t.na,e&&n&&Ue(r,e,n),Ue(r,"VER",t.ha),Mn(t,r),r}function Qn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yn(t.Ka)).F=t.C,e}function Xn(){}function Yn(){if(V&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function $n(t,e){kt.call(this),this.a=new Cn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new tr(this)}function Jn(t){he.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Zn(){fe.call(this),this.status=1}function tr(t){this.a=t}(o=yn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?se(this.H):se(ce),this.a.onreadystatechange=g(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void _n(this,o)}t=n||"";var i=new Ce(this.headers);r&&Ae(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=wn,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=E(bn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Tn(this),0<this.o&&((this.D=function(t){return V&&$(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.xa,this)):this.m=qt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){_n(this,o)}},o.xa=function(){"undefined"!=typeof s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Sn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Sn(this,!0)),yn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?In(this):this.Ta())},o.Ta=function(){In(this)},o.X=function(){try{return 2<kn(this)?this.a.status:-1}catch(t){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(o=Cn.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new de(this,this.c,t,void 0),r=this.l;if(this.O&&(r?M(r=D(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=jn(this,n,e),Ue(i=De(this.B),"RID",t),Ue(i,"CVER",22),this.A&&Ue(i,"X-HTTP-Session-Id",this.A),Mn(this,i),this.i&&r&&Nn(i,this.i,r),un(this.b,n),this.Ga&&Ue(i,"TYPE","init"),this.da?(Ue(i,"$req",e),Ue(i,"SID","null"),n.V=!0,me(n,i,null)):me(n,i,e),this.v=2}}else 3==this.v&&(t?Ln(this,t):0==this.g.length||on(this.b)||Ln(this))},o.Aa=function(){if(this.j=null,qn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=re(g(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Pn(this),qn(this))},o.Ra=function(){null!=this.m&&(this.m=null,Pn(this),Un(this),ee(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),ee(2)):(this.c.info("Failed to ping google.com"),ee(1))},(o=Xn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Yn.prototype.a=function(t,e){return new $n(t,e)},w($n,kt),(o=$n.prototype).addEventListener=function(t,e,n,r){$n.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){$n.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;ee(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Kn(t,null,t.fa),Dn(t)},o.close=function(){On(this.a)},o.Pa=function(t){if("string"===typeof t){var e={};e.__data__=t,Rn(this.a,e)}else this.g?((e={}).__data__=At(t),Rn(this.a,e)):Rn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,On(this.a),delete this.a,$n.S.G.call(this)},w(Jn,he),w(Zn,fe),w(tr,Xn),tr.prototype.ta=function(){this.a.dispatchEvent("a")},tr.prototype.sa=function(t){this.a.dispatchEvent(new Jn(t))},tr.prototype.ra=function(t){this.a.dispatchEvent(new Zn(t))},tr.prototype.qa=function(){this.a.dispatchEvent("b")},Yn.prototype.createWebChannel=Yn.prototype.a,$n.prototype.send=$n.prototype.Pa,$n.prototype.open=$n.prototype.Oa,$n.prototype.close=$n.prototype.close,ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,oe.COMPLETE="complete",ue.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",kt.prototype.listen=kt.prototype.va,yn.prototype.listenOnce=yn.prototype.wa,yn.prototype.getLastError=yn.prototype.Qa,yn.prototype.getLastErrorCode=yn.prototype.ua,yn.prototype.getStatus=yn.prototype.X,yn.prototype.getResponseJson=yn.prototype.Na,yn.prototype.getResponseText=yn.prototype.$,yn.prototype.send=yn.prototype.ba;var er=function(){return new Yn},nr=ie,rr=oe,ir=ue,or=yn,ar={createWebChannelTransport:er,ErrorCode:nr,EventType:rr,WebChannel:ir,XhrIo:or};e.default=ar},1694:function(t,e){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&t.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&t.push(s);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},2244:function(t,e,n){var r=n(7447),i=n(8051).each;function o(t,e){this.query=t,this.isUnconditional=e,this.handlers=[],this.mql=window.matchMedia(t);var n=this;this.listener=function(t){n.mql=t.currentTarget||t,n.assess()},this.mql.addListener(this.listener)}o.prototype={constuctor:o,addHandler:function(t){var e=new r(t);this.handlers.push(e),this.matches()&&e.on()},removeHandler:function(t){var e=this.handlers;i(e,(function(n,r){if(n.equals(t))return n.destroy(),!e.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(t){t.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var t=this.matches()?"on":"off";i(this.handlers,(function(e){e[t]()}))}},t.exports=o},4e3:function(t,e,n){var r=n(2244),i=n(8051),o=i.each,a=i.isFunction,s=i.isArray;function u(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}u.prototype={constructor:u,register:function(t,e,n){var i=this.queries,u=n&&this.browserIsIncapable;return i[t]||(i[t]=new r(t,u)),a(e)&&(e={match:e}),s(e)||(e=[e]),o(e,(function(e){a(e)&&(e={match:e}),i[t].addHandler(e)})),this},unregister:function(t,e){var n=this.queries[t];return n&&(e?n.removeHandler(e):(n.clear(),delete this.queries[t])),this}},t.exports=u},7447:function(t){function e(t){this.options=t,!t.deferSetup&&this.setup()}e.prototype={constructor:e,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},t.exports=e},8051:function(t){t.exports={isFunction:function(t){return"function"===typeof t},isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},each:function(t,e){for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);}}},8153:function(t,e,n){var r=n(4e3);t.exports=new r},2451:function(t,e,n){t.exports=function(){"use strict";function t(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function e(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return d&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(v&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(y&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(p&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(g&&v&&b(t))this._bodyArrayBuffer=u(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g||!ArrayBuffer.prototype.isPrototypeOf(t)&&!w(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t,e,n=o(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,n=a(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t,e){var n,r=(e=e||{}).body;if(t instanceof l){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=(t=(n=e.method||this.method||"GET").toUpperCase(),-1<_.indexOf(t)?t:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function h(t){var e=new FormData;return t.trim().split("&").forEach((function(t){var n;t&&(t=(n=t.split("=")).shift().replace(/\+/g," "),n=n.join("=").replace(/\+/g," "),e.append(decodeURIComponent(t),decodeURIComponent(n)))})),e}function f(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}var p,d,v,y,g,m,b,w,_,E;(ft="undefined"!=typeof self?self:void 0).fetch||(p="URLSearchParams"in ft,d="Symbol"in ft&&"iterator"in Symbol,v="FileReader"in ft&&"Blob"in ft&&function(){try{return new Blob,!0}catch(r){return!1}}(),y="FormData"in ft,(g="ArrayBuffer"in ft)&&(m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},w=ArrayBuffer.isView||function(t){return t&&-1<m.indexOf(Object.prototype.toString.call(t))}),i.prototype.append=function(n,r){n=t(n),r=e(r);var i=this.map[n];this.map[n]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(n,r){this.map[t(n)]=e(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),r(t)},i.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),r(t)},i.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),r(t)},d&&(i.prototype[Symbol.iterator]=i.prototype.entries),_=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],l.prototype.clone=function(){return new l(this,{body:this._bodyInit})},c.call(l.prototype),c.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},f.error=function(){var t=new f(null,{status:0,statusText:""});return t.type="error",t},E=[301,302,303,307,308],f.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new f(null,{status:e,headers:{location:t}})},ft.Headers=i,ft.Request=l,ft.Response=f,ft.fetch=function(t,e){return new Promise((function(n,r){var o=new l(t,e),a=new XMLHttpRequest;a.onload=function(){var t,e={status:a.status,statusText:a.statusText,headers:(r=a.getAllResponseHeaders()||"",t=new i,r.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":");(e=n.shift().trim())&&(n=n.join(":").trim(),t.append(e,n))})),t)};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new f(r,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&v&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),a.send(void 0===o._bodyInit?null:o._bodyInit)}))},ft.fetch.polyfill=!0);var I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function S(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}function T(t){try{return!!t()}catch(t){return!0}}function k(t){return"object"==typeof t?null!==t:"function"==typeof t}function N(t){return V?U.createElement(t):{}}function A(t){if(!k(t))throw TypeError(String(t)+" is not an object");return t}function C(t,e){if(!k(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!k(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!k(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!k(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function O(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function P(t,e){try{W(M,t,e)}catch(r){M[t]=e}return e}function x(t,e){return K.call(t,e)}function R(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Q+X).toString(36)}function D(t){return x(J,t)||(Y&&x(Z,t)?J[t]=Z[t]:J[t]=tt("Symbol."+t)),J[t]}var L=function(t){return t&&t.Math==Math&&t},M=L("object"==typeof globalThis&&globalThis)||L("object"==typeof window&&window)||L("object"==typeof self&&self)||L("object"==typeof I&&I)||Function("return this")(),j=!1,F=!T((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),U=M.document,V=k(U)&&k(U.createElement),q=!F&&!T((function(){return 7!=Object.defineProperty(N("div"),"a",{get:function(){return 7}}).a})),B=Object.defineProperty,z={f:F?B:function(t,e,n){if(A(t),e=C(e,!0),A(n),q)try{return B(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},W=F?function(t,e,n){return z.f(t,e,O(1,n))}:function(t,e,n){return t[e]=n,t},H=M[Et="__core-js_shared__"]||P(Et,{}),G=S((function(t){(t.exports=function(t,e){return H[t]||(H[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),K={}.hasOwnProperty,Q=0,X=Math.random(),Y=!!Object.getOwnPropertySymbols&&!T((function(){return!String(Symbol())})),$=Y&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,J=G("wks"),Z=M.Symbol,tt=$?Z:Z&&Z.withoutSetter||R;(Lt={})[D("toStringTag")]="z";var et="[object z]"===String(Lt),nt=Function.toString;"function"!=typeof H.inspectSource&&(H.inspectSource=function(t){return nt.call(t)});var rt,it,ot,at,st,ut,ct,lt,ht=H.inspectSource,ft="function"==typeof(Mt=M.WeakMap)&&/native code/.test(ht(Mt)),pt=G("keys"),dt=(L=function(t){return pt[t]||(pt[t]=R(t))},{});function vt(t){return mt.call(t).slice(8,-1)}I=M.WeakMap,ct=ft?(rt=new I,it=rt.get,ot=rt.has,at=rt.set,st=function(t,e){return at.call(rt,t,e),e},ut=function(t){return it.call(rt,t)||{}},function(t){return ot.call(rt,t)}):(lt=L("state"),dt[lt]=!0,st=function(t,e){return W(t,lt,e),e},ut=function(t){return x(t,lt)?t[lt]:{}},function(t){return x(t,lt)});var yt={set:st,get:ut,has:ct,enforce:function(t){return ct(t)?ut(t):st(t,{})},getterFor:function(t){return function(e){var n;if(!k(e)||(n=ut(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},gt=S((function(t){var e=yt.get,n=yt.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable;o=!!o&&!!o.noTargetGet,"function"==typeof i&&("string"!=typeof e||x(i,"name")||W(i,"name",e),n(i).source=r.join("string"==typeof e?e:"")),t!==M?(a?!o&&t[e]&&(s=!0):delete t[e],s?t[e]=i:W(t,e,i)):s?t[e]=i:P(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||ht(this)}))})),mt={}.toString,bt=D("toStringTag"),wt="Arguments"==vt(function(){return arguments}()),_t=et?vt:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),bt))?t:wt?vt(e):"Object"==(t=vt(e))&&"function"==typeof e.callee?"Arguments":t},Et=et?{}.toString:function(){return"[object "+_t(this)+"]"};function It(t){return isNaN(t=+t)?0:(0<t?Dt:Rt)(t)}function St(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function Tt(t){return Vt(St(t))}function kt(t){return"function"==typeof t?t:void 0}function Nt(t,e){return arguments.length<2?kt(zt[t])||kt(M[t]):zt[t]&&zt[t][e]||M[t]&&M[t][e]}function At(t){return 0<t?Wt(It(t),9007199254740991):0}function Ct(t,e){var n,r=Tt(t),i=0,o=[];for(n in r)!x(dt,n)&&x(r,n)&&o.push(n);for(;e.length>i;)x(r,n=e[i++])&&(~Kt(o,n)||o.push(n));return o}function Ot(t,e){for(var n=Jt(e),r=z.f,i=Bt.f,o=0;o<n.length;o++){var a=n[o];x(t,a)||r(t,a,i(e,a))}}function Pt(t,e){var n,r,i,o=t.target,a=t.global,s=t.stat,u=a?M:s?M[o]||P(o,{}):(M[o]||{}).prototype;if(u)for(n in e){if(r=e[n],i=t.noTargetGet?(i=oe(u,n))&&i.value:u[n],!ie(a?n:o+(s?".":"#")+n,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;Ot(r,i)}(t.sham||i&&i.sham)&&W(r,"sham",!0),gt(u,n,r,t)}}function xt(t){return Object(St(t))}et||gt(Object.prototype,"toString",Et,{unsafe:!0});var Rt=Math.ceil,Dt=Math.floor,Lt=function(t){return function(e,n){var r,i=String(St(e)),o=It(n);return e=i.length,o<0||e<=o?t?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===e||(r=i.charCodeAt(o+1))<56320||57343<r?t?i.charAt(o):n:t?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}},Mt={codeAt:Lt(!1),charAt:Lt(!0)},jt=(ft={}.propertyIsEnumerable,Object.getOwnPropertyDescriptor),Ft={f:jt&&!ft.call({1:2},1)?function(t){return!!(t=jt(this,t))&&t.enumerable}:ft},Ut="".split,Vt=T((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==vt(t)?Ut.call(t,""):Object(t)}:Object,qt=Object.getOwnPropertyDescriptor,Bt={f:F?qt:function(t,e){if(t=Tt(t),e=C(e,!0),q)try{return qt(t,e)}catch(t){}if(x(t,e))return O(!Ft.f.call(t,e),t[e])}},zt=M,Wt=Math.min,Ht=Math.max,Gt=Math.min,Kt=(I=function(t){return function(e,n,r){var i,o=Tt(e),a=At(o.length),s=function(t,e){return(t=It(t))<0?Ht(t+e,0):Gt(t,e)}(r,a);if(t&&n!=n){for(;s<a;)if((i=o[s++])!=i)return!0}else for(;s<a;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},I(!0),I(!1)),Qt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Xt=Qt.concat("length","prototype"),Yt={f:Object.getOwnPropertyNames||function(t){return Ct(t,Xt)}},$t={f:Object.getOwnPropertySymbols},Jt=Nt("Reflect","ownKeys")||function(t){var e=Yt.f(A(t)),n=$t.f;return n?e.concat(n(t)):e},Zt=/#|\.prototype\./,te=(et=function(t,e){return(t=ee[te(t)])==re||t!=ne&&("function"==typeof e?T(e):!!e)},et.normalize=function(t){return String(t).replace(Zt,".").toLowerCase()}),ee=et.data={},ne=et.NATIVE="N",re=et.POLYFILL="P",ie=et,oe=Bt.f,ae=(Et=!T((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),L("IE_PROTO")),se=Object.prototype,ue=Et?Object.getPrototypeOf:function(t){return x(t=xt(t),ae)?t[ae]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?se:null};function ce(){}function le(t){return"<script>"+t+"</"+ye+">"}Lt=D("iterator"),ft=!1,[].keys&&("next"in(In=[].keys())?(Tn=ue(ue(In)))!==Object.prototype&&(Nn=Tn):ft=!0),null==Nn&&(Nn={}),x(Nn,Lt)||W(Nn,Lt,(function(){return this})),I={IteratorPrototype:Nn,BUGGY_SAFARI_ITERATORS:ft};var he,fe=Object.keys||function(t){return Ct(t,Qt)},pe=F?Object.defineProperties:function(t,e){A(t);for(var n,r=fe(e),i=r.length,o=0;o<i;)z.f(t,n=r[o++],e[n]);return t},de=Nt("document","documentElement"),ve="prototype",ye="script",ge=L("IE_PROTO"),me=function(){try{he=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t;me=he?function(t){t.write(le("")),t.close();var e=t.parentWindow.Object;return t=null,e}(he):((t=N("iframe")).style.display="none",de.appendChild(t),t.src=String("javascript:"),(t=t.contentWindow.document).open(),t.write(le("document.F=Object")),t.close(),t.F);for(var e=Qt.length;e--;)delete me[ve][Qt[e]];return me()};function be(t,e,n){t&&!x(t=n?t:t.prototype,Te)&&Se(t,Te,{configurable:!0,value:e})}function we(){return this}function _e(){return this}function Ee(t,e,n,r,i,o,a){function s(t){if(t===i&&d)return d;if(!Oe&&t in f)return f[t];switch(t){case"keys":case xe:case Re:return function(){return new n(this,t)}}return function(){return new n(this)}}!function(t,e,n){e+=" Iterator",t.prototype=Ie(Ne,{next:O(1,n)}),be(t,e,!1),ke[e]=we}(n,e,r);var u,c,l=e+" Iterator",h=!1,f=t.prototype,p=f[Pe]||f["@@iterator"]||i&&f[i],d=!Oe&&p||s(i);if((r="Array"==e&&f.entries||p)&&(t=ue(r.call(new t)),Ce!==Object.prototype&&t.next&&(ue(t)!==Ce&&(Ae?Ae(t,Ce):"function"!=typeof t[Pe]&&W(t,Pe,_e)),be(t,l,!0))),i==xe&&p&&p.name!==xe&&(h=!0,d=function(){return p.call(this)}),f[Pe]!==d&&W(f,Pe,d),ke[e]=d,i)if(u={values:s(xe),keys:o?d:s("keys"),entries:s(Re)},a)for(c in u)!Oe&&!h&&c in f||gt(f,c,u[c]);else Pt({target:e,proto:!0,forced:Oe||h},u);return u}dt[ge]=!0;var Ie=Object.create||function(t,e){var n;return null!==t?(ce[ve]=A(t),n=new ce,ce[ve]=null,n[ge]=t):n=me(),void 0===e?n:pe(n,e)},Se=z.f,Te=D("toStringTag"),ke={},Ne=I.IteratorPrototype,Ae=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(n){}return function(n,r){return A(n),function(t){if(!k(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Ce=I.IteratorPrototype,Oe=I.BUGGY_SAFARI_ITERATORS,Pe=D("iterator"),xe="values",Re="entries",De=Mt.charAt,Le="String Iterator",Me=yt.set,je=yt.getterFor(Le);Ee(String,"String",(function(t){Me(this,{type:Le,string:String(t),index:0})}),(function(){var t=je(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=De(e,n),t.index+=n.length,{value:n,done:!1})}));var Fe={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ue=D("unscopables"),Ve=Array.prototype;null==Ve[Ue]&&z.f(Ve,Ue,{configurable:!0,value:Ie(null)}),et=function(t){Ve[Ue][t]=!0};var qe="Array Iterator",Be=yt.set,ze=yt.getterFor(qe),We=Ee(Array,"Array",(function(t,e){Be(this,{type:qe,target:Tt(t),index:0,kind:e})}),(function(){var t=ze(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");ke.Arguments=ke.Array,et("keys"),et("values"),et("entries");var He,Ge=D("iterator"),Ke=D("toStringTag"),Qe=We.values;for(He in Fe){var Xe=M[He],Ye=Xe&&Xe.prototype;if(Ye){if(Ye[Ge]!==Qe)try{W(Ye,Ge,Qe)}catch(is){Ye[Ge]=Qe}if(Ye[Ke]||W(Ye,Ke,He),Fe[He])for(var $e in We)if(Ye[$e]!==We[$e])try{W(Ye,$e,We[$e])}catch(is){Ye[$e]=We[$e]}}}function Je(t,e,n){for(var r in e)gt(t,r,e[r],n);return t}function Ze(t){var e=Nt(t);t=z.f,F&&e&&!e[un]&&t(e,un,{configurable:!0,get:function(){return this}})}function tn(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function en(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}function nn(t){return void 0!==t&&(ke.Array===t||ln[cn]===t)}function rn(t,e,n){if(tn(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}function on(t){if(null!=t)return t[hn]||t["@@iterator"]||ke[_t(t)]}function an(t,e,n,r){try{return r?e(A(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&A(i.call(t)),e}}var sn=M.Promise,un=D("species"),cn=D("iterator"),ln=Array.prototype,hn=D("iterator"),fn=S((function(t){function e(t,e){this.stopped=t,this.result=e}(t.exports=function(t,n,r,i,o){var a,s,u,c,l,h,f=rn(n,r,i?2:1);if(o)a=t;else{if("function"!=typeof(o=on(t)))throw TypeError("Target is not iterable");if(nn(o)){for(s=0,u=At(t.length);s<u;s++)if((c=i?f(A(h=t[s])[0],h[1]):f(t[s]))&&c instanceof e)return c;return new e(!1)}a=o.call(t)}for(l=a.next;!(h=l.call(a)).done;)if("object"==typeof(c=an(a,f,h.value,i))&&c&&c instanceof e)return c;return new e(!1)}).stop=function(t){return new e(!0,t)}})),pn=D("iterator"),dn=!1;try{var vn=0,yn={next:function(){return{done:!!vn++}},return:function(){dn=!0}};yn[pn]=function(){return this},Array.from(yn,(function(){throw 2}))}catch(is){}function gn(t,e){if(!e&&!dn)return!1;var n=!1;try{var r={};r[pn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}function mn(t,e){var n;return void 0===(t=A(t).constructor)||null==(n=A(t)[En])?e:tn(n)}function bn(t){var e;On.hasOwnProperty(t)&&(e=On[t],delete On[t],e())}function wn(t){return function(){bn(t)}}var _n,En=D("species"),In=(Et=Nt("navigator","userAgent")||"",/(iphone|ipod|ipad).*applewebkit/i.test(Et)),Sn=M.location,Tn=M.setImmediate,kn=(Lt=M.clearImmediate,M.process),Nn=M.MessageChannel,An=M.Dispatch,Cn=0,On={},Pn="onreadystatechange";ft=function(t){bn(t.data)},I=function(t){M.postMessage(t+"",Sn.protocol+"//"+Sn.host)},Tn&&Lt||(Tn=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return On[++Cn]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},_n(Cn),Cn},Lt=function(t){delete On[t]},"process"==vt(kn)?_n=function(t){kn.nextTick(wn(t))}:An&&An.now?_n=function(t){An.now(wn(t))}:Nn&&!In?(Nn=(Mt=new Nn).port2,Mt.port1.onmessage=ft,_n=rn(Nn.postMessage,Nn,1)):!M.addEventListener||"function"!=typeof postMessage||M.importScripts||T(I)||"file:"===Sn.protocol?_n=Pn in N("script")?function(t){de.appendChild(N("script"))[Pn]=function(){de.removeChild(this),bn(t)}}:function(t){setTimeout(wn(t),0)}:(_n=I,M.addEventListener("message",ft,!1))),I={set:Tn,clear:Lt},ft=Bt.f;var xn,Rn,Dn,Ln,Mn,jn,Fn,Un,Vn=I.set,qn=(Tn=M.MutationObserver||M.WebKitMutationObserver,M.process),Bn=(Lt=M.Promise,"process"==vt(qn));function zn(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=tn(e),this.reject=tn(n)}function Wn(t,e){return A(t),k(e)&&e.constructor===t?e:((0,(t=Kn.f(t)).resolve)(e),t.promise)}function Hn(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}(ft=(ft=ft(M,"queueMicrotask"))&&ft.value)||(xn=function(){var t,e;for(Bn&&(t=qn.domain)&&t.exit();Rn;){e=Rn.fn,Rn=Rn.next;try{e()}catch(t){throw Rn?Ln():Dn=void 0,t}}Dn=void 0,t&&t.enter()},Ln=Bn?function(){qn.nextTick(xn)}:Tn&&!In?(Mn=!0,jn=document.createTextNode(""),new Tn(xn).observe(jn,{characterData:!0}),function(){jn.data=Mn=!Mn}):Lt&&Lt.resolve?(Fn=Lt.resolve(void 0),Un=Fn.then,function(){Un.call(Fn,xn)}):function(){Vn.call(M,xn)});var Gn=ft||function(t){t={fn:t,next:void 0},Dn&&(Dn.next=t),Rn||(Rn=t,Ln()),Dn=t},Kn={f:function(t){return new zn(t)}};function Qn(t){var e;return!(!k(t)||"function"!=typeof(e=t.then))&&e}function Xn(t,e,n){var r;e.notified||(e.notified=!0,r=e.reactions,Gn((function(){for(var i=e.value,o=1==e.state,a=0;r.length>a;){var s,u,c,l=r[a++],h=o?l.ok:l.fail,f=l.resolve,p=l.reject,d=l.domain;try{h?(o||(2===e.rejection&&Er(t,e),e.rejection=1),!0===h?s=i:(d&&d.enter(),s=h(i),d&&(d.exit(),c=!0)),s===l.promise?p(hr("Promise-chain cycle")):(u=Qn(s))?u.call(s,f,p):f(s)):p(i)}catch(i){d&&!c&&d.exit(),p(i)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&wr(t,e)})))}function Yn(t,e,n){var r;mr?((r=fr.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),M.dispatchEvent(r)):r={promise:e,reason:n},(e=M["on"+t])?e(r):t===br&&function(t,e){var n=M.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function $n(t,e,n,r){return function(i){t(e,n,i,r)}}function Jn(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Xn(t,e,!0))}ft=(Lt=M.process)&&Lt.versions,(Lt=ft&&ft.v8)?Dr=(Rr=Lt.split("."))[0]+Rr[1]:Et&&(!(Rr=Et.match(/Edge\/(\d+)/))||74<=Rr[1])&&(Rr=Et.match(/Chrome\/(\d+)/))&&(Dr=Rr[1]);var Zn,tr,er,nr,rr=Dr&&+Dr,ir=I.set,or=D("species"),ar="Promise",sr=yt.get,ur=yt.set,cr=yt.getterFor(ar),lr=sn,hr=M.TypeError,fr=M.document,pr=M.process,dr=Nt("fetch"),vr=Kn.f,yr=vr,gr="process"==vt(pr),mr=!!(fr&&fr.createEvent&&M.dispatchEvent),br="unhandledrejection",wr=(ft=ie(ar,(function(){if(ht(lr)===String(lr)){if(66===rr)return!0;if(!gr&&"function"!=typeof PromiseRejectionEvent)return!0}if(51<=rr&&/native code/.test(lr))return!1;function t(t){t((function(){}),(function(){}))}var e=lr.resolve(1);return(e.constructor={})[or]=t,!(e.then((function(){}))instanceof t)})),Lt=ft||!gn((function(t){lr.all(t).catch((function(){}))})),function(t,e){ir.call(M,(function(){var n,r=e.value;if(_r(e)&&(n=Hn((function(){gr?pr.emit("unhandledRejection",r,t):Yn(br,t,r)})),e.rejection=gr||_r(e)?2:1,n.error))throw n.value}))}),_r=function(t){return 1!==t.rejection&&!t.parent},Er=function(t,e){ir.call(M,(function(){gr?pr.emit("rejectionHandled",t):Yn("rejectionhandled",t,e.value)}))},Ir=function t(e,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(e===r)throw hr("Promise can't be resolved itself");var o=Qn(r);o?Gn((function(){var i={done:!1};try{o.call(r,$n(t,e,i,n),$n(Jn,e,i,n))}catch(r){Jn(e,i,r,n)}})):(n.value=r,n.state=1,Xn(e,n,!1))}catch(r){Jn(e,{done:!1},r,n)}}};ft&&(lr=function(t){en(this,lr,ar),tn(t),Zn.call(this);var e=sr(this);try{t($n(Ir,this,e),$n(Jn,this,e))}catch(t){Jn(this,e,t)}},(Zn=function(){ur(this,{type:ar,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Je(lr.prototype,{then:function(t,e){var n=cr(this),r=vr(mn(this,lr));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=gr?pr.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Xn(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),tr=function(){var t=new Zn,e=sr(t);this.promise=t,this.resolve=$n(Ir,t,e),this.reject=$n(Jn,t,e)},Kn.f=vr=function(t){return t===lr||t===er?new tr:yr(t)},"function"==typeof sn&&(nr=sn.prototype.then,gt(sn.prototype,"then",(function(t,e){var n=this;return new lr((function(t,e){nr.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof dr&&Pt({global:!0,enumerable:!0,forced:!0},{fetch:function(){return Wn(lr,dr.apply(M,arguments))}}))),Pt({global:!0,wrap:!0,forced:ft},{Promise:lr}),be(lr,ar,!1),Ze(ar),er=Nt(ar),Pt({target:ar,stat:!0,forced:ft},{reject:function(t){var e=vr(this);return e.reject.call(void 0,t),e.promise}}),Pt({target:ar,stat:!0,forced:ft},{resolve:function(t){return Wn(this,t)}}),Pt({target:ar,stat:!0,forced:Lt},{all:function(t){var e=this,n=vr(e),r=n.resolve,i=n.reject,o=Hn((function(){var n=tn(e.resolve),o=[],a=0,s=1;fn(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=vr(e),r=n.reject,i=Hn((function(){var i=tn(e.resolve);fn(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),Pt({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=Kn.f(e),r=n.resolve,i=n.reject,o=Hn((function(){var n=tn(e.resolve),i=[],o=0,a=1;fn(t,(function(t){var s=o++,u=!1;i.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){u||(u=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}}),Pt({target:"Promise",proto:!0,real:!0,forced:Et=!!sn&&T((function(){sn.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=mn(this,Nt("Promise")),n="function"==typeof t;return this.then(n?function(n){return Wn(e,t()).then((function(){return n}))}:t,n?function(n){return Wn(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof sn||sn.prototype.finally||gt(sn.prototype,"finally",Nt("Promise").prototype.finally),zt.Promise;var Sr=yt.set,Tr=yt.getterFor("AggregateError"),kr=function t(e,n){var r=this;if(!(r instanceof t))return new t(e,n);Ae&&(r=Ae(new Error(n),ue(r)));var i=[];return fn(e,i.push,i),F?Sr(r,{errors:i,type:"AggregateError"}):r.errors=i,void 0!==n&&W(r,"message",String(n)),r};kr.prototype=Ie(Error.prototype,{constructor:O(5,kr),message:O(5,""),name:O(5,"AggregateError")}),F&&z.f(kr.prototype,"errors",{get:function(){return Tr(this).errors},configurable:!0}),Pt({global:!0},{AggregateError:kr}),Pt({target:"Promise",stat:!0},{try:function(t){var e=Kn.f(this);return((t=Hn(t)).error?e.reject:e.resolve)(t.value),e.promise}});var Nr="No one promise resolved";function Ar(t,e){var n;return Or(t)&&("function"==typeof(n=t.constructor)&&(n===Array||Or(n.prototype))||k(n)&&null===(n=n[Pr]))&&(n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function Cr(t){throw t}Pt({target:"Promise",stat:!0},{any:function(t){var e=this,n=Kn.f(e),r=n.resolve,i=n.reject,o=Hn((function(){var n=tn(e.resolve),o=[],a=0,s=1,u=!1;fn(t,(function(t){var c=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||u||(u=!0,r(t))}),(function(t){l||u||(l=!0,o[c]=t,--s||i(new(Nt("AggregateError"))(o,Nr)))}))})),--s||i(new(Nt("AggregateError"))(o,Nr))}));return o.error&&i(o.value),n.promise}});var Or=Array.isArray||function(t){return"Array"==vt(t)},Pr=D("species"),xr=[].push,Rr=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=5==t||o;return function(s,u,c,l){for(var h,f,p=xt(s),d=Vt(p),v=rn(u,c,3),y=At(d.length),g=0,m=(l=l||Ar,e?l(s,y):n?l(s,0):void 0);g<y;g++)if((a||g in d)&&(f=v(h=d[g],g,p),t))if(e)m[g]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:xr.call(m,h)}else if(i)return!1;return o?-1:r||i?i:m}},Dr={forEach:Rr(0),map:Rr(1),filter:Rr(2),some:Rr(3),every:Rr(4),find:Rr(5),findIndex:Rr(6)},Lr=Object.defineProperty,Mr={},jr=(I=function(t,e){if(x(Mr,t))return Mr[t];var n=[][t],r=!!x(e=e||{},"ACCESSORS")&&e.ACCESSORS,i=x(e,0)?e[0]:Cr,o=x(e,1)?e[1]:void 0;return Mr[t]=!!n&&!T((function(){if(r&&!F)return 1;var t={length:-1};r?Lr(t,1,{enumerable:!0,get:Cr}):t[1]=1,n.call(t,i,o)}))},Dr.find),Fr=!0;Lt=I(ft="find"),ft in[]&&Array(1)[ft]((function(){Fr=!1})),Pt({target:"Array",proto:!0,forced:Fr||!Lt},{find:function(t,e){return jr(this,t,1<arguments.length?e:void 0)}}),et(ft);var Ur=Function.call,Vr=(Et=function(t,e,n){return rn(Ur,M[t].prototype[e],n)},Et("Array","find"),Dr.findIndex),qr=!0;function Br(t,e,n){(e=C(e))in t?z.f(t,e,O(0,n)):t[e]=n}Lt=I(Rr="findIndex"),Rr in[]&&Array(1)[Rr]((function(){qr=!1})),Pt({target:"Array",proto:!0,forced:qr||!Lt},{findIndex:function(t,e){return Vr(this,t,1<arguments.length?e:void 0)}}),et(Rr),Et("Array","findIndex"),ft=!gn((function(t){Array.from(t)})),Pt({target:"Array",stat:!0,forced:ft},{from:function(t,e,n){var r,i,o,a,s,u=xt(t),c="function"==typeof this?this:Array,l=1<(t=arguments.length)?e:void 0,h=void 0!==l,f=(e=on(u),0);if(h&&(l=rn(l,2<t?n:void 0,2)),null==e||c==Array&&nn(e))for(i=new c(r=At(u.length));f<r;f++)Br(i,f,h?l(u[f],f):u[f]);else for(s=(a=e.call(u)).next,i=new c;!(o=s.call(a)).done;f++)Br(i,f,h?an(a,l,[o.value,f],!0):o.value);return i.length=f,i}}),zt.Array.from;var zr,Wr,Hr=Dr.some;function Gr(t){return k(t)&&x(ti,_t(t))}Lt=!!(Wr=[].some)&&T((function(){Wr.call(null,zr||function(){throw 1},1)})),et=I("some"),Pt({target:"Array",proto:!0,forced:!Lt||!et},{some:function(t,e){return Hr(this,t,1<arguments.length?e:void 0)}}),Et("Array","some"),Rr="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,ft=z.f;var Kr,Qr=M.Int8Array,Xr=Qr&&Qr.prototype,Yr=(Lt=(I=M.Uint8ClampedArray)&&I.prototype,Qr&&ue(Qr)),$r=Xr&&ue(Xr),Jr=((et=Object.prototype).isPrototypeOf,I=D("toStringTag"),R("TYPED_ARRAY_TAG")),Zr=Rr&&!!Ae&&"Opera"!==_t(M.opera),ti=(Rr=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(Kr in ti)M[Kr]||(Zr=!1);if((!Zr||"function"!=typeof Yr||Yr===Function.prototype)&&(Yr=function(){throw TypeError("Incorrect invocation")},Zr))for(Kr in ti)M[Kr]&&Ae(M[Kr],Yr);if((!Zr||!$r||$r===et)&&($r=Yr.prototype,Zr))for(Kr in ti)M[Kr]&&Ae(M[Kr].prototype,$r);if(Zr&&ue(Lt)!==$r&&Ae(Lt,$r),F&&!x($r,I))for(Kr in Rr=!0,ft($r,I,{get:function(){return k(this)?this[Jr]:void 0}}),ti)M[Kr]&&W(M[Kr],Jr,Kr);Lt=function(t){if(Gr(t))return t;throw TypeError("Target is not a typed array")},ft=function(t,e,n){if(F){if(n)for(var r in ti){var i=M[r];i&&x(i.prototype,t)&&delete i.prototype[t]}$r[t]&&!n||gt($r,t,!n&&Zr&&Xr[t]||e)}},I=D("iterator"),Rr=M.Uint8Array;var ei=We.values,ni=We.keys,ri=We.entries,ii=Lt;Lt=ft,Rr=!!(ft=Rr&&Rr.prototype[I])&&("values"==ft.name||null==ft.name),ft=function(){return ei.call(ii(this))},Lt("entries",(function(){return ri.call(ii(this))})),Lt("keys",(function(){return ni.call(ii(this))})),Lt("values",ft,!Rr),Lt(I,ft,!Rr);var oi=Object.assign,ai=Object.defineProperty;ft=!oi||T((function(){if(F&&1!==oi({b:1},oi(ai({},"a",{enumerable:!0,get:function(){ai(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=oi({},t)[n]||fe(oi({},e)).join("")!=r}))?function(t){for(var e=xt(t),n=arguments.length,r=1,i=$t.f,o=Ft.f;r<n;)for(var a,s=Vt(arguments[r++]),u=i?fe(s).concat(i(s)):fe(s),c=u.length,l=0;l<c;)a=u[l++],F&&!o.call(s,a)||(e[a]=s[a]);return e}:oi,Pt({target:"Object",stat:!0,forced:Object.assign!==ft},{assign:ft}),zt.Object.assign;var si=Ft.f,ui=(Rr=function(t){return function(e){for(var n,r=Tt(e),i=fe(r),o=i.length,a=0,s=[];a<o;)n=i[a++],F&&!si.call(r,n)||s.push(t?[n,r[n]]:r[n]);return s}},(ft={entries:Rr(!0),values:Rr(!1)}).entries);Pt({target:"Object",stat:!0},{entries:function(t){return ui(t)}}),zt.Object.entries;var ci=ft.values;function li(t){if(k(e=t)&&(void 0!==(n=e[hi])?n:"RegExp"==vt(e)))throw TypeError("The method doesn't accept regular expressions");var e,n;return t}Pt({target:"Object",stat:!0},{values:function(t){return ci(t)}}),zt.Object.values;var hi=D("match"),fi=D("match");Rr=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[fi]=!1,"/./"[t](e)}catch(r){}}return!1},Pt({target:"String",proto:!0,forced:!Rr("includes")},{includes:function(t,e){return!!~String(St(this)).indexOf(li(t),1<arguments.length?e:void 0)}}),Et("String","includes"),ft=Bt.f;var pi,di="".startsWith,vi=Math.min;Rr=Rr("startsWith"),Pt({target:"String",proto:!0,forced:!(pi=!(Rr||!(pi=ft(String.prototype,"startsWith"))||pi.writable))&&!Rr},{startsWith:function(t,e){var n=String(St(this));return li(t),e=At(vi(1<arguments.length?e:void 0,n.length)),t=String(t),di?di.call(n,t,e):n.slice(e,e+t.length)===t}}),Et("String","startsWith"),Pt({target:"String",proto:!0},{repeat:"".repeat||function(t){var e=String(St(this)),n="",r=It(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}}),Et("String","repeat");var yi,gi=D("species"),mi=D("isConcatSpreadable"),bi=9007199254740991,wi="Maximum allowed index exceeded";function _i(t){var e=zt.Symbol||(zt.Symbol={});x(e,t)||Ai(e,t,{value:Ni.f(t)})}function Ei(t,e){var n=Bi[t]=Ie(Mi[xi]);return Ri(n,{type:Pi,tag:t,description:e}),F||(n.description=e),n}function Ii(t,e){A(t);var n=Tt(e);return e=fe(n).concat($i(n)),Ci(e,(function(e){F&&!Yi.call(n,e)||Xi(t,e,n[e])})),t}Rr=51<=rr||!T((function(){var t=[];return t[mi]=!1,t.concat()[0]!==t})),yi="concat",Et=51<=rr||!T((function(){var t=[];return(t.constructor={})[gi]=function(){return{foo:1}},1!==t[yi](Boolean).foo})),Pt({target:"Array",proto:!0,forced:!Rr||!Et},{concat:function(){for(var t,e,n,r=xt(this),i=Ar(r,0),o=0,a=-1,s=arguments.length;a<s;a++)if(function(t){if(!k(t))return!1;var e=t[mi];return void 0!==e?!!e:Or(t)}(n=-1===a?r:arguments[a])){if(e=At(n.length),bi<o+e)throw TypeError(wi);for(t=0;t<e;t++,o++)t in n&&Br(i,o,n[t])}else{if(bi<=o)throw TypeError(wi);Br(i,o++,n)}return i.length=o,i}});var Si=Yt.f,Ti={}.toString,ki="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ni=(Et={f:function(t){return ki&&"[object Window]"==Ti.call(t)?function(t){try{return Si(t)}catch(t){return ki.slice()}}(t):Si(Tt(t))}},{f:D}),Ai=z.f,Ci=Dr.forEach,Oi=L("hidden"),Pi="Symbol",xi="prototype",Ri=(Dr=D("toPrimitive"),yt.set),Di=yt.getterFor(Pi),Li=Object[xi],Mi=M.Symbol,ji=Nt("JSON","stringify"),Fi=Bt.f,Ui=z.f,Vi=Et.f,qi=Ft.f,Bi=G("symbols"),zi=G("op-symbols"),Wi=G("string-to-symbol-registry"),Hi=G("symbol-to-string-registry"),Gi=(L=G("wks"),!(G=M.QObject)||!G[xi]||!G[xi].findChild),Ki=F&&T((function(){return 7!=Ie(Ui({},"a",{get:function(){return Ui(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Fi(Li,e);r&&delete Li[e],Ui(t,e,n),r&&t!==Li&&Ui(Li,e,r)}:Ui,Qi=$?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Mi},Xi=function t(e,n,r){return e===Li&&t(zi,n,r),A(e),n=C(n,!0),A(r),x(Bi,n)?(r.enumerable?(x(e,Oi)&&e[Oi][n]&&(e[Oi][n]=!1),r=Ie(r,{enumerable:O(0,!1)})):(x(e,Oi)||Ui(e,Oi,O(1,{})),e[Oi][n]=!0),Ki(e,n,r)):Ui(e,n,r)},Yi=function(t){var e=C(t,!0);return t=qi.call(this,e),!(this===Li&&x(Bi,e)&&!x(zi,e))&&(!(t||!x(this,e)||!x(Bi,e)||x(this,Oi)&&this[Oi][e])||t)},$i=(G=function(t,e){var n=Tt(t);if(t=C(e,!0),n!==Li||!x(Bi,t)||x(zi,t))return!(e=Fi(n,t))||!x(Bi,t)||x(n,Oi)&&n[Oi][t]||(e.enumerable=!0),e},$=function(t){t=Vi(Tt(t));var e=[];return Ci(t,(function(t){x(Bi,t)||x(dt,t)||e.push(t)})),e},function(t){var e=t===Li,n=(t=Vi(e?zi:Tt(t)),[]);return Ci(t,(function(t){!x(Bi,t)||e&&!x(Li,t)||n.push(Bi[t])})),n});Y||(gt((Mi=function(t){if(this instanceof Mi)throw TypeError("Symbol is not a constructor");var e=R(t=arguments.length&&void 0!==t?String(t):void 0),n=function t(n){this===Li&&t.call(zi,n),x(this,Oi)&&x(this[Oi],e)&&(this[Oi][e]=!1),Ki(this,e,O(1,n))};return F&&Gi&&Ki(Li,e,{configurable:!0,set:n}),Ei(e,t)})[xi],"toString",(function(){return Di(this).tag})),gt(Mi,"withoutSetter",(function(t){return Ei(R(t),t)})),Ft.f=Yi,z.f=Xi,Bt.f=G,Yt.f=Et.f=$,$t.f=$i,Ni.f=function(t){return Ei(D(t),t)},F&&(Ui(Mi[xi],"description",{configurable:!0,get:function(){return Di(this).description}}),gt(Li,"propertyIsEnumerable",Yi,{unsafe:!0}))),Pt({global:!0,wrap:!0,forced:!Y,sham:!Y},{Symbol:Mi}),Ci(fe(L),(function(t){_i(t)})),Pt({target:Pi,stat:!0,forced:!Y},{for:function(t){var e=String(t);return x(Wi,e)?Wi[e]:(t=Mi(e),Wi[e]=t,Hi[t]=e,t)},keyFor:function(t){if(!Qi(t))throw TypeError(t+" is not a symbol");if(x(Hi,t))return Hi[t]},useSetter:function(){Gi=!0},useSimple:function(){Gi=!1}}),Pt({target:"Object",stat:!0,forced:!Y,sham:!F},{create:function(t,e){return void 0===e?Ie(t):Ii(Ie(t),e)},defineProperty:Xi,defineProperties:Ii,getOwnPropertyDescriptor:G}),Pt({target:"Object",stat:!0,forced:!Y},{getOwnPropertyNames:$,getOwnPropertySymbols:$i}),Pt({target:"Object",stat:!0,forced:T((function(){$t.f(1)}))},{getOwnPropertySymbols:function(t){return $t.f(xt(t))}}),ji&&(lo=!Y||T((function(){var t=Mi();return"[null]"!=ji([t])||"{}"!=ji({a:t})||"{}"!=ji(Object(t))})),Pt({target:"JSON",stat:!0,forced:lo},{stringify:function(t,e){for(var n,r=[t],i=1;i<arguments.length;)r.push(arguments[i++]);if((k(n=e)||void 0!==t)&&!Qi(t))return Or(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Qi(e))return e}),r[1]=e,ji.apply(null,r)}})),Mi[xi][Dr]||W(Mi[xi],Dr,Mi[xi].valueOf),be(Mi,Pi),dt[Oi]=!0,_i("asyncIterator"),G=z.f;var Ji,Zi,to,eo,no,ro=M.Symbol;!F||"function"!=typeof ro||"description"in ro.prototype&&void 0===ro().description||(Ji={},Ot(Zi=function(t){var e=arguments.length<1||void 0===t?void 0:String(t);return t=this instanceof Zi?new ro(e):void 0===e?ro():ro(e),""===e&&(Ji[t]=!0),t},ro),(po=Zi.prototype=ro.prototype).constructor=Zi,to=po.toString,eo="Symbol(test)"==String(ro("test")),no=/^Symbol\((.*)\)[^)]+$/,G(po,"description",{configurable:!0,get:function(){var t=k(this)?this.valueOf():this,e=to.call(t);return x(Ji,t)?"":""===(e=eo?e.slice(7,-1):e.replace(no,"$1"))?void 0:e}}),Pt({global:!0,forced:!0},{Symbol:Zi})),_i("hasInstance"),_i("isConcatSpreadable"),_i("iterator"),_i("match"),_i("matchAll"),_i("replace"),_i("search"),_i("species"),_i("split"),_i("toPrimitive"),_i("toStringTag"),_i("unscopables"),be(Math,"Math",!0),be(M.JSON,"JSON",!0),zt.Symbol,_i("asyncDispose"),_i("dispose"),_i("observable"),_i("patternMatch"),_i("replaceAll"),Ni.f("iterator");var io=!T((function(){return Object.isExtensible(Object.preventExtensions({}))})),oo=S((function(t){function e(t){n(t,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var n=z.f,r=R("meta"),i=0,o=Object.isExtensible||function(){return!0},a=t.exports={REQUIRED:!1,fastKey:function(t,n){if(!k(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!x(t,r)){if(!o(t))return"F";if(!n)return"E";e(t)}return t[r].objectID},getWeakData:function(t,n){if(!x(t,r)){if(!o(t))return!0;if(!n)return!1;e(t)}return t[r].weakData},onFreeze:function(t){return io&&a.REQUIRED&&o(t)&&!x(t,r)&&e(t),t}};dt[r]=!0})),ao=($=function(t,e,n){function r(t){var e=p[t];gt(p,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(l&&!k(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return l&&!k(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(l&&!k(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})}var i,o,a,s,u,c=-1!==t.indexOf("Map"),l=-1!==t.indexOf("Weak"),h=c?"set":"add",f=M[t],p=f&&f.prototype,d=f,v={};return ie(t,"function"!=typeof f||!(l||p.forEach&&!T((function(){(new f).entries().next()}))))?(d=n.getConstructor(e,t,c,h),oo.REQUIRED=!0):ie(t,!0)&&(o=(i=new d)[h](l?{}:-0,1)!=i,a=T((function(){i.has(1)})),s=gn((function(t){new f(t)})),u=!l&&T((function(){for(var t=new f,e=5;e--;)t[h](e,e);return!t.has(-0)})),s||(((d=e((function(e,n){en(e,d,t);var r,i,o,a=(a=new f,r=e,e=d,Ae&&"function"==typeof(i=r.constructor)&&i!==e&&k(o=i.prototype)&&o!==e.prototype&&Ae(a,o),a);return null!=n&&fn(n,a[h],a,c),a}))).prototype=p).constructor=d),(a||u)&&(r("delete"),r("has"),c&&r("get")),(u||o)&&r(h),l&&p.clear&&delete p.clear),v[t]=d,Pt({global:!0,forced:d!=f},v),be(d,t),l||n.setStrong(d,t,c),d},z.f),so=oo.fastKey,uo=yt.set,co=yt.getterFor,lo={getConstructor:function(t,e,n,r){function i(t,e,n){var r,i=a(t),o=s(t,e);return o?o.value=n:(i.last=o={index:r=so(e,!0),key:e,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),F?i.size++:t.size++,"F"!==r&&(i.index[r]=o)),t}var o=t((function(t,i){en(t,o,e),uo(t,{type:e,index:Ie(null),first:void 0,last:void 0,size:0}),F||(t.size=0),null!=i&&fn(i,t[r],t,n)})),a=co(e),s=function(t,e){var n,r=a(t);if("F"!==(t=so(e)))return r.index[t];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Je(o.prototype,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,F?t.size=0:this.size=0},delete:function(t){var e,n=a(this),r=s(this,t);return r&&(e=r.next,t=r.previous,delete n.index[r.index],r.removed=!0,t&&(t.next=e),e&&(e.previous=t),n.first==r&&(n.first=e),n.last==r&&(n.last=t),F?n.size--:this.size--),!!r},forEach:function(t,e){for(var n,r=a(this),i=rn(t,1<arguments.length?e:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!s(this,t)}}),Je(o.prototype,n?{get:function(t){return(t=s(this,t))&&t.value},set:function(t,e){return i(this,0===t?0:t,e)}}:{add:function(t){return i(this,t=0===t?0:t,t)}}),F&&ao(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",i=co(e),o=co(r);Ee(t,e,(function(t,e){uo(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}}),n?"entries":"values",!n,!0),Ze(e)}};function ho(){for(var t,e=A(this),n=tn(e.delete),r=!0,i=0,o=arguments.length;i<o;i++)t=n.call(e,arguments[i]),r=r&&t;return!!r}function fo(t){return Map.prototype.entries.call(t)}$("Map",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),lo),zt.Map,Dr=function(t,e,n){var r,i,o,a=arguments.length,s=1<a?e:void 0;return tn(this),(e=void 0!==s)&&tn(s),null==t?new this:(r=[],e?(i=0,o=rn(s,2<a?n:void 0,2),fn(t,(function(t){r.push(o(t,i++))}))):fn(t,r.push,r),new this(r))},Pt({target:"Map",stat:!0},{from:Dr}),G=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)},Pt({target:"Map",stat:!0},{of:G}),Pt({target:"Map",proto:!0,real:!0,forced:j},{deleteAll:function(){return ho.apply(this,arguments)}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{every:function(t,e){var n=A(this),r=fo(n),i=rn(t,1<arguments.length?e:void 0,3);return!fn(r,(function(t,e){if(!i(e,t,n))return fn.stop()}),void 0,!0,!0).stopped}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{filter:function(t,e){var n=A(this),r=fo(n),i=rn(t,1<arguments.length?e:void 0,3),o=new(mn(n,Nt("Map"))),a=tn(o.set);return fn(r,(function(t,e){i(e,t,n)&&a.call(o,t,e)}),void 0,!0,!0),o}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{find:function(t,e){var n=A(this),r=fo(n),i=rn(t,1<arguments.length?e:void 0,3);return fn(r,(function(t,e){if(i(e,t,n))return fn.stop(e)}),void 0,!0,!0).result}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{findKey:function(t,e){var n=A(this),r=fo(n),i=rn(t,1<arguments.length?e:void 0,3);return fn(r,(function(t,e){if(i(e,t,n))return fn.stop(t)}),void 0,!0,!0).result}}),Pt({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;tn(e);var r=tn(n.has),i=tn(n.get),o=tn(n.set);return fn(t,(function(t){var a=e(t);r.call(n,a)?i.call(n,a).push(t):o.call(n,a,[t])})),n}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{includes:function(t){return fn(fo(A(this)),(function(e,n){if((r=n)===(n=t)||r!=r&&n!=n)return fn.stop();var r}),void 0,!0,!0).stopped}}),Pt({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;tn(e);var r=tn(n.set);return fn(t,(function(t){r.call(n,e(t),t)})),n}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{keyOf:function(t){return fn(fo(A(this)),(function(e,n){if(n===t)return fn.stop(e)}),void 0,!0,!0).result}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{mapKeys:function(t,e){var n=A(this),r=fo(n),i=rn(t,1<arguments.length?e:void 0,3),o=new(mn(n,Nt("Map"))),a=tn(o.set);return fn(r,(function(t,e){a.call(o,i(e,t,n),e)}),void 0,!0,!0),o}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{mapValues:function(t,e){var n=A(this),r=fo(n),i=rn(t,1<arguments.length?e:void 0,3),o=new(mn(n,Nt("Map"))),a=tn(o.set);return fn(r,(function(t,e){a.call(o,t,i(e,t,n))}),void 0,!0,!0),o}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{merge:function(){for(var t=A(this),e=tn(t.set),n=0;n<arguments.length;)fn(arguments[n++],e,t,!0);return t}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{reduce:function(t,e){var n=A(this),r=fo(n),i=arguments.length<2,o=i?void 0:e;if(tn(t),fn(r,(function(e,r){o=i?(i=!1,r):t(o,r,e,n)}),void 0,!0,!0),i)throw TypeError("Reduce of empty map with no initial value");return o}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{some:function(t,e){var n=A(this),r=fo(n),i=rn(t,1<arguments.length?e:void 0,3);return fn(r,(function(t,e){if(i(e,t,n))return fn.stop()}),void 0,!0,!0).stopped}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{update:function(t,e,n){var r=A(this),i=arguments.length;tn(e);var o=r.has(t);if(!o&&i<3)throw TypeError("Updating absent value");return n=o?r.get(t):tn(2<i?n:void 0)(t,r),r.set(t,e(n,t,r)),r}});var po=function(t,e,n){var r,i=A(this);if(n=2<arguments.length?n:void 0,"function"!=typeof e&&"function"!=typeof n)throw TypeError("At least one callback required");return i.has(t)?(r=i.get(t),"function"==typeof e&&(r=e(r),i.set(t,r))):"function"==typeof n&&(r=n(),i.set(t,r)),r};function vo(t){return Set.prototype.values.call(t)}Pt({target:"Map",proto:!0,real:!0,forced:j},{upsert:po}),Pt({target:"Map",proto:!0,real:!0,forced:j},{updateOrInsert:po}),$("Set",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),lo),zt.Set,Pt({target:"Set",stat:!0},{from:Dr}),Pt({target:"Set",stat:!0},{of:G}),Pt({target:"Set",proto:!0,real:!0,forced:j},{addAll:function(){return function(){for(var t=A(this),e=tn(t.add),n=0,r=arguments.length;n<r;n++)e.call(t,arguments[n]);return t}.apply(this,arguments)}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{deleteAll:function(){return ho.apply(this,arguments)}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{every:function(t,e){var n=A(this),r=vo(n),i=rn(t,1<arguments.length?e:void 0,3);return!fn(r,(function(t){if(!i(t,t,n))return fn.stop()}),void 0,!1,!0).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{difference:function(t){var e=A(this),n=new(mn(e,Nt("Set")))(e),r=tn(n.delete);return fn(t,(function(t){r.call(n,t)})),n}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{filter:function(t,e){var n=A(this),r=vo(n),i=rn(t,1<arguments.length?e:void 0,3),o=new(mn(n,Nt("Set"))),a=tn(o.add);return fn(r,(function(t){i(t,t,n)&&a.call(o,t)}),void 0,!1,!0),o}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{find:function(t,e){var n=A(this),r=vo(n),i=rn(t,1<arguments.length?e:void 0,3);return fn(r,(function(t){if(i(t,t,n))return fn.stop(t)}),void 0,!1,!0).result}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{intersection:function(t){var e=A(this),n=new(mn(e,Nt("Set"))),r=tn(e.has),i=tn(n.add);return fn(t,(function(t){r.call(e,t)&&i.call(n,t)})),n}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{isDisjointFrom:function(t){var e=A(this),n=tn(e.has);return!fn(t,(function(t){if(!0===n.call(e,t))return fn.stop()})).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{isSubsetOf:function(t){var e=function(t){var e=on(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return A(e.call(t))}(this),n=A(t),r=n.has;return"function"!=typeof r&&(n=new(Nt("Set"))(t),r=tn(n.has)),!fn(e,(function(t){if(!1===r.call(n,t))return fn.stop()}),void 0,!1,!0).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{isSupersetOf:function(t){var e=A(this),n=tn(e.has);return!fn(t,(function(t){if(!1===n.call(e,t))return fn.stop()})).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{join:function(t){var e=vo(n=A(this)),n=void 0===t?",":String(t);return fn(e,(t=[]).push,t,!1,!0),t.join(n)}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{map:function(t,e){var n=A(this),r=vo(n),i=rn(t,1<arguments.length?e:void 0,3),o=new(mn(n,Nt("Set"))),a=tn(o.add);return fn(r,(function(t){a.call(o,i(t,t,n))}),void 0,!1,!0),o}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{reduce:function(t,e){var n=A(this),r=vo(n),i=arguments.length<2,o=i?void 0:e;if(tn(t),fn(r,(function(e){o=i?(i=!1,e):t(o,e,e,n)}),void 0,!1,!0),i)throw TypeError("Reduce of empty set with no initial value");return o}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{some:function(t,e){var n=A(this),r=vo(n),i=rn(t,1<arguments.length?e:void 0,3);return fn(r,(function(t){if(i(t,t,n))return fn.stop()}),void 0,!1,!0).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{symmetricDifference:function(t){var e=A(this),n=new(mn(e,Nt("Set")))(e),r=tn(n.delete),i=tn(n.add);return fn(t,(function(t){r.call(n,t)||i.call(n,t)})),n}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{union:function(t){var e=new(mn(e=A(this),Nt("Set")))(e);return fn(t,tn(e.add),e),e}});var yo=Math.floor;Pt({target:"Number",stat:!0},{isInteger:function(t){return!k(t)&&isFinite(t)&&yo(t)===t}}),zt.Number.isInteger,Pt({target:"Number",stat:!0},{isNaN:function(t){return t!=t}}),zt.Number.isNaN;var go=function(t,e){return(go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function mo(t,e){function n(){this.constructor=t}go(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var bo=function(){return(bo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function wo(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function _o(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Eo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Io(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function So(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Io(arguments[e]));return t}function To(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function ko(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function No(t){try{return Po.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}var Ao={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Co=function(t,e){if(!t)throw Oo(e)},Oo=function(t){return new Error("Firebase Database ("+Ao.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},Po={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=o>>2,l=(o=(3&o)<<4|s>>4,s=(15&s)<<2|(l=u?t[i+2]:0)>>6,63&l);u||(l=64,a||(s=64)),r.push(n[c],n[o],n[s],n[l])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ko(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i,o,a,s=t[n++];s<128?e[r++]=String.fromCharCode(s):191<s&&s<224?(o=t[n++],e[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(o=t[n++],a=t[n++],e[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();o=o<<2|a>>4,r.push(o),64!==s&&(a=a<<4&240|s>>2,r.push(a),64!==u&&(u|=s<<6&192,r.push(u)))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function xo(t){return Ro(void 0,t)}function Ro(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=Ro(t[n],e[n]));return t}var Do=(Lo.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},Lo);function Lo(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}function Mo(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function jo(){return"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mo())}function Fo(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Uo(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Vo(){return!0===Ao.NODE_ADMIN}function qo(){return"indexedDB"in self&&null!=indexedDB}function Bo(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function zo(){return!(!navigator||!navigator.cookieEnabled)}var Wo,Ho="FirebaseError",Go=(mo(Ko,Wo=Error),Ko);function Ko(t,e){return(e=Wo.call(this,e)||this).code=t,e.name=Ho,Object.setPrototypeOf(e,Ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,Qo.prototype.create),e}var Qo=(Xo.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r,i=e[0]||{},o=this.service+"/"+t,a=(t=(t=this.errors[t])?(r=i,t.replace(Yo,(function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"}))):"Error",t=this.serviceName+": "+t+" ("+o+").",new Go(o,t)),s=0,u=Object.keys(i);s<u.length;s++){var c=u[s];"_"!==c.slice(-1)&&(c in a&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),a[c]=i[c])}return a},Xo);function Xo(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var Yo=/\{\$([^}]+)}/g;function $o(t){return JSON.parse(t)}function Jo(t){return JSON.stringify(t)}function Zo(t){var e={},n={},r={},i="";try{var o=t.split(".");e=$o(No(o[0])||""),n=$o(No(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}}function ta(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ea(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function na(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ra(t,e,n){var r,i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}var ia=(oa.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},oa.prototype.compress_=function(t,e){e=e||0;var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)a=r<40?r<20?(o=l^u&(c^l),1518500249):(o=u^c^l,1859775393):r<60?(o=u&c|l&(u|c),2400959708):(o=u^c^l,3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},oa.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},oa.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},oa);function oa(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}function aa(t,e){return(e=new sa(t,e)).subscribe.bind(e)}var sa=(ua.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},ua.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},ua.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},ua.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=ca),void 0===r.error&&(r.error=ca),void 0===r.complete&&(r.complete=ca),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),n},ua.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ua.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},ua.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},ua.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},ua);function ua(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}function ca(){}function la(t,e,n,r){var i;if(r<e?i="at least "+e:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function ha(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return(t+=" failed: ")+r+" argument "}function fa(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(ha(t,e,r)+"must be a valid function.")}function pa(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(ha(t,e,r)+"must be a valid context object.")}function da(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:55296<=r&&r<=56319?(e+=4,n++):e+=3}return e}var va=1e3,ya=2,ga=144e5,ma=.5;function ba(t,e,n){return void 0===e&&(e=va),void 0===n&&(n=ya),n=e*Math.pow(n,t),t=Math.round(ma*n*(Math.random()-.5)*2),Math.min(ga,n+t)}var wa=(_a.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},_a.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},_a.prototype.setServiceProps=function(t){return this.serviceProps=t,this},_a);function _a(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var Ea="[DEFAULT]",Ia=(Sa.prototype.get=function(t){void 0===t&&(t=Ea);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Do;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},Sa.prototype.getImmediate=function(t){var e=bo({identifier:Ea,optional:!1},t),n=(t=e.identifier,e.optional),r=this.normalizeInstanceIdentifier(t);try{var i=this.getOrInitializeService(r);if(i)return i;if(n)return null;throw Error("Service "+this.name+" is not available")}catch(t){if(n)return null;throw t}},Sa.prototype.getComponent=function(){return this.component},Sa.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if("EAGER"===(this.component=t).instantiationMode)try{this.getOrInitializeService(Ea)}catch(t){}try{for(var r=Eo(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Io(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},Sa.prototype.clearInstance=function(t){void 0===t&&(t=Ea),this.instancesDeferred.delete(t),this.instances.delete(t)},Sa.prototype.delete=function(){return wo(this,void 0,void 0,(function(){var t;return _o(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(So(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},Sa.prototype.isComponentSet=function(){return null!=this.component},Sa.prototype.getOrInitializeService=function(t){var e,n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,(e=t)===Ea?void 0:e),this.instances.set(t,n)),n||null},Sa.prototype.normalizeInstanceIdentifier=function(t){return!this.component||this.component.multipleInstances?t:Ea},Sa);function Sa(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}var Ta=(ka.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},ka.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},ka.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Ia(t,this);return this.providers.set(t,e),e},ka.prototype.getProviders=function(){return Array.from(this.providers.values())},ka);function ka(t){this.name=t,this.providers=new Map}function Na(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Aa,Ca=[];function Oa(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Ra[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Na(["["+i+"]  "+t.name+":"],n))}}(Dr=Aa=Aa||{})[Dr.DEBUG=0]="DEBUG",Dr[Dr.VERBOSE=1]="VERBOSE",Dr[Dr.INFO=2]="INFO",Dr[Dr.WARN=3]="WARN",Dr[Dr.ERROR=4]="ERROR",Dr[Dr.SILENT=5]="SILENT";var Pa={debug:Aa.DEBUG,verbose:Aa.VERBOSE,info:Aa.INFO,warn:Aa.WARN,error:Aa.ERROR,silent:Aa.SILENT},xa=Aa.INFO,Ra=((G={})[Aa.DEBUG]="log",G[Aa.VERBOSE]="log",G[Aa.INFO]="info",G[Aa.WARN]="warn",G[Aa.ERROR]="error",G),Da=(Object.defineProperty(La.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Aa))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),La.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Pa[t]:t},Object.defineProperty(La.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(La.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),La.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Na([this,Aa.DEBUG],t)),this._logHandler.apply(this,Na([this,Aa.DEBUG],t))},La.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Na([this,Aa.VERBOSE],t)),this._logHandler.apply(this,Na([this,Aa.VERBOSE],t))},La.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Na([this,Aa.INFO],t)),this._logHandler.apply(this,Na([this,Aa.INFO],t))},La.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Na([this,Aa.WARN],t)),this._logHandler.apply(this,Na([this,Aa.WARN],t))},La.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Na([this,Aa.ERROR],t)),this._logHandler.apply(this,Na([this,Aa.ERROR],t))},La);function La(t){this.name=t,this._logLevel=xa,this._logHandler=Oa,this._userLogHandler=null,Ca.push(this)}function Ma(t){Ca.forEach((function(e){e.setLogLevel(t)}))}(j={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",j["bad-app-name"]="Illegal App name: '{$appName}",j["duplicate-app"]="Firebase App named '{$appName}' already exists",j["app-deleted"]="Firebase App named '{$appName}' already deleted",j["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",j["invalid-log-argument"]="First argument to `onLog` must be null or a function.";var ja=new Qo("app","Firebase",Dr=j),Fa="@firebase/app",Ua="[DEFAULT]",Va=((G={})[Fa]="fire-core",G["@firebase/analytics"]="fire-analytics",G["@firebase/auth"]="fire-auth",G["@firebase/database"]="fire-rtdb",G["@firebase/functions"]="fire-fn",G["@firebase/installations"]="fire-iid",G["@firebase/messaging"]="fire-fcm",G["@firebase/performance"]="fire-perf",G["@firebase/remote-config"]="fire-rc",G["@firebase/storage"]="fire-gcs",G["@firebase/firestore"]="fire-fst",G["fire-js"]="fire-js",G["firebase-wrapper"]="fire-js-all",G),qa=new Da("@firebase/app"),Ba=(Object.defineProperty(za.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(za.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(za.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),za.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},za.prototype._getService=function(t,e){return void 0===e&&(e=Ua),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},za.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=Ua),this.container.getProvider(t).clearInstance(e)},za.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(r){qa.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,r)}},za.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},za.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ja.create("app-deleted",{appName:this.name_})},za);function za(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=xo(t),this.container=new Ta(e.name),this._addComponent(new wa("app",(function(){return o}),"PUBLIC"));try{for(var a=Eo(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var u=s.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}Ba.prototype.name&&Ba.prototype.options||Ba.prototype.delete||console.log("dc");var Wa="7.24.0";function Ha(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;if(void 0===o.name&&(o.name=Ua),"string"!=typeof(i=o.name)||!i)throw ja.create("bad-app-name",{appName:String(i)});if(ta(e,i))throw ja.create("duplicate-app",{appName:i});return o=new t(n,o,r),e[i]=o},app:i,registerVersion:function(t,e,n){var r=null!==(i=Va[t])&&void 0!==i?i:t;n&&(r+="-"+n);var i=r.match(/\s|\//);if(t=e.match(/\s|\//),i||t)return n=['Unable to register library "'+r+'" with version "'+e+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&t&&n.push("and"),t&&n.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void qa.warn(n.join(" "));o(new wa(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:Ma,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw ja.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=0,r=Ca;n<r.length;n++)!function(n){var r=null;e&&e.level&&(r=Pa[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Aa[n].toLowerCase(),message:a,args:i,type:e.name})}}(r[n])}(t,e)},apps:null,SDK_VERSION:Wa,INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!ta(e,t=t||Ua))throw ja.create("no-app",{appName:t});return e[t]}function o(o){var a,s,u,c=o.name;if(n.has(c))return qa.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===o.type?r[c]:null;n.set(c,o),"PUBLIC"===o.type&&(u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[c])throw ja.create("invalid-app-argument",{appName:c});return t[c]()},void 0!==o.serviceProps&&Ro(u,o.serviceProps),r[c]=u,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,c).apply(this,o.multipleInstances?t:[])});try{for(var l=Eo(Object.keys(e)),h=l.next();!h.done;h=l.next()){var f=h.value;e[f]._addComponent(o)}}catch(s){a={error:s}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return"PUBLIC"===o.type?r[c]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}j=function t(){var e=Ha(Ba);return e.INTERNAL=bo(bo({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Ro(e,t)},createSubscribe:aa,ErrorFactory:Qo,deepExtend:Ro}),e}();var Ga=(Ka.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){return function(t){return"VERSION"===(null==(t=t.getComponent())?void 0:t.type)}(t)?(t=t.getImmediate()).library+"/"+t.version:null})).filter((function(t){return t})).join(" ")},Ka);function Ka(t){this.container=t}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(qa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(yu=self.firebase.SDK_VERSION)&&0<=yu.indexOf("LITE")&&qa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var Qa=j.initializeApp;j.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return}}()&&qa.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Qa.apply(void 0,t)};var Xa,Ya,$a=j;(Xa=$a).INTERNAL.registerComponent(new wa("platform-logger",(function(t){return new Ga(t)}),"PRIVATE")),Xa.registerVersion(Fa,"0.6.11",Ya),Xa.registerVersion("fire-js",""),$a.registerVersion("firebase","7.24.0","app"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){var e;null==this.a&&(this.a=[],(e=this).c((function(){e.g()}))),this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(e){o(e)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Pa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){for(var i=[],a=0;i.push(void 0),a++,o(r.value).Pa(function(e){return function(n){i[e]=n,0==--a&&t(i)}}(i.length-1),e),!(r=n.next()).done;);}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:g).apply(null,arguments)}function b(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=T+t,this.message=e||k[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new E(e.substring(T.length),t.message,t.serverResponse):null}_(E,Error),E.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.w()};var S,T="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function C(t){if(t)try{return t.$goog_Thenable}catch(t){return}}function O(t){var e;Error.captureStackTrace?Error.captureStackTrace(this,O):(e=Error().stack)&&(this.stack=e),t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function x(t){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function D(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}S=A("__EID__")?"__EID__":void 0,_(O,Error),O.prototype.name="CustomError",_(P,O),P.prototype.name="AssertionError",R.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var M=new R((function(){return new j}),(function(t){t.reset()}));function j(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},V=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n,r=t.length,i=[],o=0,a="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in a&&(n=a[s],e.call(void 0,n,s,t)&&(i[o++]=n));return i},q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},B=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function z(t,e){return 0<=F(t,e)}function W(t,e){var n;return(n=0<=(e=F(t,e)))&&Array.prototype.splice.call(t,e,1),n}function H(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function G(){return Array.prototype.concat.apply([],arguments)}function K(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Q,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Y=/&/g,$=/</g,J=/>/g,Z=/"/g,tt=/'/g,et=/\x00/g,nt=/[\x00&<>"']/;function rt(t,e){return-1!=t.indexOf(e)}function it(t,e){return t<e?-1:e<t?1:0}var ot=a.navigator;function at(t){return rt(Q,t)}function st(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ut(t){for(var e in t)return;return 1}function ct(t){var e,n={};for(e in t)n[e]=t[e];return n}Q=ot&&(ot=ot.userAgent)?ot:"";var lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<lt.length;i++)e=lt[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function ft(t,e){t:{try{var n;if((n=(n=(n=t&&t.ownerDocument)&&(n.defaultView||n.parentWindow))||a).Element&&n.Location){var r=n;break t}}catch(t){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(p(t))try{var i=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){i="<object could not be stringified>"}else i=void 0===t?"undefined":null===t?"null":typeof t;x("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,i)}}function pt(t,e){this.a=t===yt&&e||"",this.b=vt}function dt(t){return t instanceof pt&&t.constructor===pt&&t.b===vt?t.a:(x("expected object of type Const, got '"+t+"'"),"type_error:Const")}pt.prototype.sa=!0,pt.prototype.ra=function(){return this.a},pt.prototype.toString=function(){return"Const{"+this.a+"}"};var vt={},yt={},gt=new pt(yt,"");function mt(t,e){this.a=t===St&&e||"",this.b=It}function bt(t){return t instanceof mt&&t.constructor===mt&&t.b===It?t.a:(x("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function wt(t,e){var n=dt(t);if(!Et.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(_t,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof pt?dt(t):encodeURIComponent(String(t))})),new mt(St,t)}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a.toString()},mt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _t=/%{(\w+)}/g,Et=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,It={},St={};function Tt(t,e){this.a=t===Ot&&e||"",this.b=Ct}function kt(t){return t instanceof Tt&&t.constructor===Tt&&t.b===Ct?t.a:(x("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Tt.prototype.sa=!0,Tt.prototype.ra=function(){return this.a.toString()},Tt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function At(t){return t instanceof Tt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new Tt(Ot,t))}var Ct={},Ot={};function Pt(){this.a="",this.b=Rt}function xt(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Rt?t.a:(x("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}Pt.prototype.sa=!0,Pt.prototype.ra=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Rt={};function Dt(t){var e=new Pt;return e.a=t,e}Dt("<!DOCTYPE html>");var Lt=Dt("");function Mt(t){for(var e=t.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<e.length;)n+=e.shift()+r.shift();return n+e.join("%s")}function jt(t){return nt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Y,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace($,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(J,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Z,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(tt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(et,"&#0;"))),t}function Ft(t){return Ft[" "](t),t}Dt("<br>"),Ft[" "]=c;var Ut,Vt=at("Opera"),qt=at("Trident")||at("MSIE"),Bt=at("Edge"),zt=Bt||qt,Wt=at("Gecko")&&!(rt(Q.toLowerCase(),"webkit")&&!at("Edge"))&&!(at("Trident")||at("MSIE"))&&!at("Edge"),Ht=rt(Q.toLowerCase(),"webkit")&&!at("Edge");function Gt(){var t=a.document;return t?t.documentMode:void 0}var Kt="",Qt=(Qt=Q,Wt?/rv:([^\);]+)(\)|;)/.exec(Qt):Bt?/Edge\/([\d\.]+)/.exec(Qt):qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Qt):Ht?/WebKit\/(\S+)/.exec(Qt):Vt?/(?:Version)[ \/]?(\S+)/.exec(Qt):void 0);Qt&&(Kt=Qt?Qt[1]:""),Ut=qt&&null!=(Qt=Gt())&&Qt>parseFloat(Kt)?String(Qt):Kt;var Xt,Yt={};function $t(t){return e=t,n=function(){for(var e=0,n=X(String(Ut)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=it(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||it(0==a[2].length,0==s[2].length)||it(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e},r=Yt,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n(e);var e,n,r}Xt=a.document&&qt?Gt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var Jt=!qt||9<=Number(Xt);function Zt(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function te(t,e){st(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:re.hasOwnProperty(n)?t.setAttribute(re[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ee,ne,re={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ie(){var t,e=arguments,n=document,r=String(e[0]),i=e[1];return!Jt&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',jt(i.name),'"'),i.type&&(r.push(' type="',jt(i.type),'"'),ht(t={},i),delete t.type,i=t),r.push(">"),r=r.join("")),r=oe(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):te(r,i)),2<e.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||p(o)&&0<o.nodeType?r(o):U(function(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}(o)?K(o):o,r)}}(n,r,e),r}function oe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ae(t){a.setTimeout((function(){throw t}),0)}function se(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!at("Presto")&&(t=function(){var t,e,n=oe(document,"IFRAME");n.style.display="none",t=n,e=new mt(St,dt(gt)),ft(t,"HTMLIFrameElement"),t.src=bt(e).toString(),document.documentElement.appendChild(n);var r=n.contentWindow;(n=r.document).open(),n.write(xt(Lt)),n.close();var i="callImmediate"+Math.random(),o="file:"==r.location.protocol?"*":r.location.protocol+"//"+r.location.host;n=m((function(t){"*"!=o&&t.origin!=o||t.data!=i||this.port1.onmessage()}),this),r.addEventListener("message",n,!1),this.port1={},this.port2={postMessage:function(){r.postMessage(i,o)}}}),void 0===t||at("Trident")||at("MSIE"))return function(t){a.setTimeout(t,0)};var e=new t,n={},r=n;return e.port1.onmessage=function(){var t;void 0!==n.next&&(t=(n=n.next).Fb,n.Fb=null,t())},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}function ue(t,e){ne||function(){var t;ne=a.Promise&&a.Promise.resolve?(t=a.Promise.resolve(void 0),function(){t.then(he)}):function(){var t=he;!f(a.setImmediate)||a.Window&&a.Window.prototype&&!at("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ee=ee||se())(t):a.setImmediate(t)}}(),ce||(ne(),ce=!0),le.add(t,e)}var ce=!1,le=new L;function he(){for(var t,e,n;n=e=void 0,n=null,(e=le).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){ae(t)}D(M,t)}ce=!1}function fe(t,e){if(this.a=pe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){Te(n,de,t)}),(function(t){if(!(t instanceof xe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Te(n,ve,t)}))}catch(t){Te(this,ve,t)}}var pe=0,de=2,ve=3;function ye(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ye.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ge=new R((function(){return new ye}),(function(t){t.reset()}));function me(t,e,n){var r=ge.get();return r.g=t,r.b=e,r.f=n,r}function be(t){if(t instanceof fe)return t;var e=new fe(c);return Te(e,de,t),e}function we(t){return new fe((function(e,n){n(t)}))}function _e(t,e,n){ke(t,e,n,null)||ue(b(e,t))}function Ee(t){return new fe((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)_e(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function Ie(t,e){t.b||t.a!=de&&t.a!=ve||Ne(t),t.f?t.f.next=e:t.b=e,t.f=e}function Se(t,e,n,r){var i=me(null,null,null);return i.a=new fe((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(n){o(n)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof xe?o(e):t(i)}catch(e){o(e)}}:o})),Ie(i.a.c=t,i),i.a}function Te(t,e,n){var r,i;t.a==pe&&(t===n&&(e=ve,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ke(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Ne(t),e!=ve||n instanceof xe||(i=n,(r=t).g=!0,ue((function(){r.g&&Pe.call(null,i)})))))}function ke(t,e,n,r){if(t instanceof fe)return Ie(t,me(e||c,n||null,r)),1;if(C(t))return t.then(e,n,r),1;if(p(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),1}catch(t){return n.call(r,t),1}}function Ne(t){t.h||(t.h=!0,ue(t.fc,t))}function Ae(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ce(t,e,n,r){if(n==ve&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Oe(e,n,r);else try{e.c?e.g.call(e.f):Oe(e,n,r)}catch(t){Pe.call(null,t)}D(ge,e)}function Oe(t,e,n){e==de?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}fe.prototype.then=function(t,e,n){return Se(this,f(t)?t:null,f(e)?e:null,n)},fe.prototype.$goog_Thenable=!0,(t=fe.prototype).na=function(t,e){return(t=me(t,t,e)).c=!0,Ie(this,t),this},t.s=function(t,e){return Se(this,null,t,e)},t.cancel=function(t){var e;this.a==pe&&(e=new xe(t),ue((function(){!function t(e,n){if(e.a==pe)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==pe&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Ae(r),Ce(r,o,ve,n)))}e.c=null}else Te(e,ve,n)}(this,e)}),this))},t.Zc=function(t){this.a=pe,Te(this,de,t)},t.$c=function(t){this.a=pe,Te(this,ve,t)},t.fc=function(){for(var t;t=Ae(this);)Ce(this,t,this.a,this.i);this.h=!1};var Pe=ae;function xe(t){O.call(this,t)}function Re(){this.xa=this.xa,this.oa=this.oa}_(xe,O);var De=0;function Le(t){t.xa||(t.xa=!0,t.Da(),0==De)||Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++v)}Re.prototype.xa=!(xe.prototype.name="cancel"),Re.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Me=Object.freeze||function(t){return t},je=!qt||9<=Number(Xt),Fe=qt&&!$t("9"),Ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(t){}return t}();function Ve(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function qe(t,e){if(Ve.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Wt){t:{try{Ft(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Be[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}Ve.prototype.preventDefault=function(){this.defaultPrevented=!0},_(qe,Ve);var Be=Me({2:"touch",3:"pen",4:"mouse"});qe.prototype.preventDefault=function(){qe.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Fe)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},qe.prototype.g=function(){return this.a};var ze="closure_listenable_"+(1e6*Math.random()|0),We=0;function He(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++We,this.va=this.Oa=!1}function Ge(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function Ke(t){this.src=t,this.a={},this.b=0}function Qe(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Ge(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Xe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}Ke.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Xe(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):((e=new He(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var Ye="closure_lm_"+(1e6*Math.random()|0),$e={};function Je(t,e,n,r,i){if(r&&r.once)tn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)Je(t,e[o],n,r,i);else n=ln(n),t&&t[ze]?fn(t,e,n,p(r)?!!r.capture:!!r,i):Ze(t,e,n,!1,r,i)}function Ze(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a,s,u=p(i)?!!i.capture:!!i,c=un(t);if(c||(t[Ye]=c=new Ke(t)),!(n=c.add(e,n,r,u,o)).proxy)if(a=sn,r=s=je?function(t){return a.call(s.src,s.listener,t)}:function(t){if(!(t=a.call(s.src,s.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)Ue||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function tn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)tn(t,e[o],n,r,i);else n=ln(n),t&&t[ze]?pn(t,e,n,p(r)?!!r.capture:!!r,i):Ze(t,e,n,!0,r,i)}function en(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)en(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=ln(n),t&&t[ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=Xe(o=t.a[e],n,r,i))&&(Ge(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):(t=t&&un(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Xe(e,n,r,i)),(n=-1<t?e[t]:null)&&nn(n))}function nn(t){var e,n,r;"number"!=typeof t&&t&&!t.va&&((e=t.src)&&e[ze]?Qe(e.v,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=un(e))?(Qe(n,t),0==n.b&&(n.src=null,e[Ye]=null)):Ge(t)))}function rn(t){return t in $e?$e[t]:$e[t]="on"+t}function on(t,e,n,r){var i=!0;if((t=un(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=an(o,r),i=i&&!1!==o)}return i}function an(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&nn(t),n.call(r,e)}function sn(t,e){if(t.va)return!0;if(je)return an(t,new qe(e,this));if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new qe(r=e,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=on(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=on(r[i],t,!1,e),n=n&&o}return n}function un(t){return(t=t[Ye])instanceof Ke?t:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ln(t){return f(t)?t:(t[cn]||(t[cn]=function(e){return t.handleEvent(e)}),t[cn])}function hn(){Re.call(this),this.v=new Ke(this),(this.$b=this).fb=null}function fn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function pn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function dn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.va&&u.capture==n&&(a=u.listener,s=u.Ua||u.src,u.Oa&&Qe(t.v,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}function vn(t,e,n){if(f(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function yn(t){var e=null;return new fe((function(n,r){-1==(e=vn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw a.clearTimeout(e),t}))}function gn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function mn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function bn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof bn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function wn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];_n(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)_n(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function _n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(hn,Re),hn.prototype[ze]=!0,hn.prototype.addEventListener=function(t,e,n,r){Je(this,t,e,n,r)},hn.prototype.removeEventListener=function(t,e,n,r){en(this,t,e,n,r)},hn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t?t=new Ve(t,n):t instanceof Ve?t.target=t.target||n:(a=t,ht(t=new Ve(r,n),a)),a=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.b=e[i],a=dn(o,r,!0,t)&&a;if(a=dn(o=t.b=n,r,!0,t)&&a,a=dn(o,r,!1,t)&&a,e)for(i=0;i<e.length;i++)a=dn(o=t.b=e[i],r,!1,t)&&a;return a},hn.prototype.Da=function(){if(hn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ge(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=bn.prototype).V=function(){wn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return wn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return _n(this.b,t)?this.b[t]:e},t.set=function(t,e){_n(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var En=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function In(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof In?(this.i=void 0!==e?e:t.i,Sn(this,t.f),this.l=t.l,this.a=t.a,Tn(this,t.g),this.c=t.c,kn(this,Hn(t.b)),this.h=t.h):t&&(n=String(t).match(En))?(this.i=!!e,Sn(this,n[1]||"",!0),this.l=Pn(n[2]||""),this.a=Pn(n[3]||"",!0),Tn(this,n[4]),this.c=Pn(n[5]||"",!0),kn(this,n[6]||"",!0),this.h=Pn(n[7]||"")):(this.i=!!e,this.b=new Un(null,this.i))}function Sn(t,e,n){t.f=n?Pn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Tn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.g=e}else t.g=null}function kn(t,e,n){var r,i;e instanceof Un?(t.b=e,r=t.b,(i=t.i)&&!r.f&&(Vn(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Bn(this,e),Wn(this,n,t))}),r)),r.f=i):(n||(e=xn(e,jn)),t.b=new Un(e,t.i))}function Nn(t,e,n){t.b.set(e,n)}function An(t,e){return t.b.get(e)}function Cn(t){return t instanceof In?new In(t):new In(t,void 0)}function On(t,e,n,r){var i=new In(null,void 0);return t&&Sn(i,t),e&&(i.a=e),n&&Tn(i,n),r&&(i.c=r),i}function Pn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Rn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Rn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}In.prototype.toString=function(){var t=[],e=this.f;e&&t.push(xn(e,Dn,!0),":");var n=this.a;return!n&&"file"!=e||(t.push("//"),(e=this.l)&&t.push(xn(e,Dn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(xn(n,"/"==n.charAt(0)?Mn:Ln,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",xn(n,Fn)),t.join("")},In.prototype.resolve=function(t){var e=new In(this),n=!!t.f;n?Sn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r,i=t.c;if(n)Tn(e,t.g);else if(n=!!t.c)if("/"!=i.charAt(0)&&(this.a&&!this.c?i="/"+i:-1!=(r=e.c.lastIndexOf("/"))&&(i=e.c.substr(0,r+1)+i)),".."==(r=i)||"."==r)i="";else if(rt(r,"./")||rt(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r;return n?e.c=i:n=""!==t.b.toString(),n?kn(e,Hn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Dn=/[#\/\?@]/g,Ln=/[#\?:]/g,Mn=/[#\?]/g,jn=/[#\?@]/g,Fn=/#/g;function Un(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Vn(t){t.a||(t.a=new bn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function qn(t){var e=mn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Un(null,void 0);t=gn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Wn(n,i,o):n.add(i,o)}return n}function Bn(t,e){Vn(t),e=Gn(t,e),_n(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,_n((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&wn(t)))}function zn(t,e){return Vn(t),e=Gn(t,e),_n(t.a.b,e)}function Wn(t,e,n){Bn(t,e),0<n.length&&(t.c=null,t.a.set(Gn(t,e),K(n)),t.b+=n.length)}function Hn(t){var e=new Un;return e.c=t.c,t.a&&(e.a=new bn(t.a),e.b=t.b),e}function Gn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Kn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),$n(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":$n(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,t,e),e.join("")}function Qn(){}(t=Un.prototype).add=function(t,e){Vn(this),this.c=null,t=Gn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Vn(this),this.a.forEach((function(n,r){U(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Vn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Vn(this);var e=[];if("string"==typeof t)zn(this,t)&&(e=G(e,this.a.get(Gn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},t.set=function(t,e){return Vn(this),this.c=null,zn(this,t=Gn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.V(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.c=t.join("&")};var Xn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Yn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function $n(t,e){e.push('"',t.replace(Yn,(function(t){var e=Xn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Xn[t]=e),e})),'"')}function Jn(){var t=gr();return qt&&Xt&&11==Xt||/Edge\/\d+/.test(t)}function Zn(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function tr(t,e){e=e||a.window;var n="about:blank";t&&(n=kt(At(t))),e.location.href=n}function er(t){return!!((t=(t||gr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function nr(t){t=t||a.window;try{t.close()}catch(t){}}function rr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=gr().toLowerCase(),r&&(e.target=r,rt(n,"crios/")&&(e.target="_blank")),dr(gr())==fr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Tt?n:At(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((at("iPhone")&&!at("iPod")&&!at("iPad")||at("iPad")||at("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ft(a=oe(document,"A"),"HTMLAnchorElement"),e instanceof Tt||e instanceof Tt||(e="object"==typeof e&&e.sa?e.ra():String(e),Nt.test(e)||(e="about:invalid#zClosurez"),e=new Tt(Ot,e)),a.href=kt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=kt(e),a&&(zt&&rt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Dt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jt(t)+'">'),r=a.document)&&(r.write(xt(t)),r.close())):(a=r.open(kt(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var ir=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,or=/^[^@]+@[^@]+$/;function ar(){var t=null;return new fe((function(e){"complete"==a.document.readyState?e():(t=function(){e()},tn(window,"load",t))})).s((function(e){throw en(window,"load",t),e}))}function sr(t){return t=t||gr(),!("file:"!==Er()&&"ionic:"!==Er()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ur(){var t=a.window;try{return t&&t!=t.top}catch(t){return}}function cr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function lr(){return $a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":$a.INTERNAL.hasOwnProperty("node")?"Node":cr()?"Worker":"Browser"}function hr(){var t=lr();return"ReactNative"===t||"Node"===t}var fr="Firefox",pr="Chrome";function dr(t){var e=t.toLowerCase();return rt(e,"opera/")||rt(e,"opr/")||rt(e,"opios/")?"Opera":rt(e,"iemobile")?"IEMobile":rt(e,"msie")||rt(e,"trident/")?"IE":rt(e,"edge/")?"Edge":rt(e,"firefox/")?fr:rt(e,"silk/")?"Silk":rt(e,"blackberry")?"Blackberry":rt(e,"webos")?"Webos":!rt(e,"safari/")||rt(e,"chrome/")||rt(e,"crios/")||rt(e,"android")?!rt(e,"chrome/")&&!rt(e,"crios/")||rt(e,"edge/")?rt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":pr:"Safari"}var vr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function yr(t,e){e=e||[];var n,r=[],i={};for(n in vr)i[vr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=lr())?r=dr(i=gr()):"Worker"===r&&(r=dr(i=gr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function gr(){return a.navigator&&a.navigator.userAgent||""}function mr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function br(){try{var t=a.localStorage,e=Nr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Jn()||!!a.indexedDB}catch(t){return cr()&&!!a.indexedDB}return!1}function wr(){return(_r()||"chrome-extension:"===Er()||sr())&&!hr()&&br()&&!cr()}function _r(){return"http:"===Er()||"https:"===Er()}function Er(){return a.location&&a.location.protocol||null}function Ir(t){return!er(t=t||gr())&&dr(t)!=fr}function Sr(t){return void 0===t?null:Kn(t)}function Tr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function kr(t){if(null!==t)return JSON.parse(t)}function Nr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ar(t){return"Safari"!=dr(t=t||gr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Cr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Or(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=gr(),e=lr(),this.b=er(t)||"ReactNative"===e}function Pr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function xr(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function Rr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Dr(){return mr("fireauth.oauthhelper",a)||mr("fireauth.iframe",a)}Or.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!_r()&&"chrome-extension:"!==Er()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Lr,Mr={};function jr(t){Mr[t]||(Mr[t]=!0,xr(t))}try{var Fr={};Object.defineProperty(Fr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Fr,"abcd",{configurable:!0,enumerable:!0,value:2}),Lr=2==Fr.abcd}catch(t){Lr=!1}function Ur(t,e,n){Lr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Vr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ur(t,n,e[n])}function qr(t){var e={};return Vr(e,t),e}function Br(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ur(e,n,Br(t[n]));return e}function zr(t){var e=t&&(t[Qr]?"phone":null);if(!(e&&t&&t[Kr]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Ur(this,"uid",t[Kr]),Ur(this,"displayName",t[Hr]||null);var n=null;t[Gr]&&(n=new Date(t[Gr]).toUTCString()),Ur(this,"enrollmentTime",n),Ur(this,"factorId",e)}function Wr(t){try{var e=new Xr(t)}catch(t){e=null}return e}zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Hr="displayName",Gr="enrolledAt",Kr="mfaEnrollmentId",Qr="phoneInfo";function Xr(t){zr.call(this,t),Ur(this,"phoneNumber",t[Qr])}function Yr(t){var e={},n=t[ti],r=t[ni],i=t[ri];if(t=Wr(t[ei]),!i||i!=Jr&&i!=Zr&&!n||i==Zr&&!r||i==$r&&!t)throw Error("Invalid checkActionCode response!");i==Zr?(e[oi]=n||null,e[si]=n||null,e[ii]=r):(e[oi]=r||null,e[si]=r||null,e[ii]=n||null),e[ai]=t||null,Ur(this,ci,i),Ur(this,ui,Br(e))}_(Xr,zr),Xr.prototype.w=function(){var t=Xr.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var $r="REVERT_SECOND_FACTOR_ADDITION",Jr="EMAIL_SIGNIN",Zr="VERIFY_AND_CHANGE_EMAIL",ti="email",ei="mfaInfo",ni="newEmail",ri="requestType",ii="email",oi="fromEmail",ai="multiFactorInfo",si="previousEmail",ui="data",ci="operation";function li(t){var e=An(t=Cn(t),hi)||null,n=An(t,fi)||null,r=(r=An(t,vi)||null)&&gi[r]||null;if(!e||!n||!r)throw new E("argument-error",hi+", "+fi+"and "+vi+" are required in a valid action code URL.");Vr(this,{apiKey:e,operation:r,code:n,continueUrl:An(t,pi)||null,languageCode:An(t,di)||null,tenantId:An(t,yi)||null})}var hi="apiKey",fi="oobCode",pi="continueUrl",di="languageCode",vi="mode",yi="tenantId",gi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:$r,signIn:Jr,verifyAndChangeEmail:Zr,verifyEmail:"VERIFY_EMAIL"};function mi(t){try{return new li(t)}catch(t){return null}}function bi(t){var e=t[Si];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");if(this.h=e,this.b=this.a=null,this.g=!1,(r=t[wi])&&"object"==typeof r){e=r[Ni];var n=r[Ti],r=r[ki];if("string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new E("argument-error",Ti+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new E("argument-error",ki+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==e)throw new E("argument-error",Ni+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new E("missing-android-pkg-name")}}else if(void 0!==r)throw new E("argument-error",wi+" property must be a non null object when specified.");if(this.f=null,(e=t[Ii])&&"object"==typeof e){if("string"==typeof(e=e[Ai])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Ai+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Ii+" property must be a non null object when specified.");if(void 0!==(e=t[Ei])&&"boolean"!=typeof e)throw new E("argument-error",Ei+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[_i])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",_i+" property must be a non empty string when specified.");this.i=t||null}var wi="android",_i="dynamicLinkDomain",Ei="handleCodeInApp",Ii="iOS",Si="url",Ti="installApp",ki="minimumVersion",Ni="packageName",Ai="bundleId";function Ci(t){var e,n={};for(e in n.continueUrl=t.h,n.canHandleCodeInApp=t.c,(n.androidPackageName=t.a)&&(n.androidMinimumVersion=t.b,n.androidInstallApp=t.g),n.iOSBundleId=t.f,n.dynamicLinkDomain=t.i,n)null===n[e]&&delete n[e];return n}var Oi=null;function Pi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Oi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Oi){Oi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Oi[o]&&(Oi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function xi(t){var e=Di(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Ri(t){try{return new xi(t)}catch(t){return null}}function Di(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Pi(t))}catch(t){}return null}xi.prototype.S=function(){return this.f},xi.prototype.i=function(){return this.b},xi.prototype.toString=function(){return this.g};var Li="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Mi=["client_id","response_type","scope","redirect_uri","state"],ji={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Mi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Mi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Mi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Li},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Fi(t){for(var e in ji)if(ji[e].fa==t)return ji[e];return null}function Ui(t){var e={};e["facebook.com"]=Wi,e["google.com"]=Gi,e["github.com"]=Hi,e["twitter.com"]=Ki;var n=t&&t[qi];try{if(n)return new(e[n]?e[n]:zi)(t);if(void 0!==t[Vi])return new Bi(t)}catch(t){}return null}var Vi="idToken",qi="providerId";function Bi(t){var e,n=t[qi];if(n||!t[Vi]||(e=Ri(t[Vi]))&&e.a&&(n=e.a),!n)throw Error("Invalid additional user info!");"anonymous"!=n&&"custom"!=n||(n=null),e=!1,void 0!==t.isNewUser?e=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(e=!0),Ur(this,"providerId",n),Ur(this,"isNewUser",e)}function zi(t){Bi.call(this,t),Ur(this,"profile",Br((t=kr(t.rawUserInfo||"{}"))||{}))}function Wi(t){if(zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Hi(t){if(zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ur(this,"username",this.profile&&this.profile.login||null)}function Gi(t){if(zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ki(t){if(zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ur(this,"username",t.screenName||null)}function Qi(t){var e=An(r=Cn(t),"link"),n=An(Cn(e),"link"),r=An(r,"deep_link_id");return An(Cn(r),"link")||r||n||e||t}function Xi(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Yi:$i}_(zi,Bi),_(Wi,zi),_(Hi,zi),_(Gi,zi),_(Ki,zi);var Yi="enroll",$i="signin";function Ji(){}function Zi(t,e){return t.then((function(t){if(t[Ba]){var n=Ri(t[Ba]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==T+"user-not-found"?new E("user-mismatch"):t}))}function to(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Ur(this,"providerId",t),Ur(this,"signInMethod",t)}function eo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function no(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new to(t.providerId,t.pendingToken)}catch(t){}return null}function ro(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ur(this,"idToken",e.idToken),e.accessToken&&Ur(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ur(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Ur(this,"accessToken",e.oauthToken),Ur(this,"secret",e.oauthTokenSecret)}Ur(this,"providerId",t),Ur(this,"signInMethod",n)}function io(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function oo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ro(t.providerId,e,t.signInMethod)}catch(t){}}return null}function ao(t,e){this.Pc=e||[],Vr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Fi(t)||{}).Ja||null,this.nb=null}function so(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');ao.call(this,t,[])}function uo(t){ao.call(this,t,Mi),this.a=[]}function co(){uo.call(this,"facebook.com")}function lo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new co).credential({accessToken:e})}function ho(){uo.call(this,"github.com")}function fo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new ho).credential({accessToken:e})}function po(){uo.call(this,"google.com"),this.Ca("profile")}function vo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new po).credential({idToken:n,accessToken:e})}function yo(){ao.call(this,"twitter.com",Li)}function go(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ro("twitter.com",n,"twitter.com")}function mo(t,e,n){this.a=t,this.f=e,Ur(this,"providerId","password"),Ur(this,"signInMethod",n===wo.EMAIL_LINK_SIGN_IN_METHOD?wo.EMAIL_LINK_SIGN_IN_METHOD:wo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function bo(t){return t&&t.email&&t.password?new mo(t.email,t.password,t.signInMethod):null}function wo(){Vr(this,{providerId:"password",isOAuthProvider:!1})}function _o(t,e){if(!(e=Eo(e)))throw new E("argument-error","Invalid email link!");return new mo(t,e.code,wo.EMAIL_LINK_SIGN_IN_METHOD)}function Eo(t){return(t=mi(t=Qi(t)))&&t.operation===Jr?t:null}function Io(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new E("internal-error");this.a=t,Ur(this,"providerId","phone"),this.fa="phone",Ur(this,"signInMethod","phone")}function So(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Io(e)}return null}function To(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function ko(t){try{this.a=t||$a.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vr(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Io({cb:t,bb:e})}function Ao(t){if(t.temporaryProof&&t.phoneNumber)return new Io({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return vo(o,n);case"facebook.com":return lo(n);case"github.com":return fo(n);case"twitter.com":return go(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new to(e,a):new ro(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new uo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Co(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Oo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Po(t){return(t=t||{}).type?new Oo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function xo(){this.b=null,this.a=[]}Xi.prototype.Ha=function(){return this.a?be(this.a):be(this.b)},Xi.prototype.w=function(){return this.type==Yi?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Ji.prototype.ja=function(){},Ji.prototype.b=function(){},Ji.prototype.c=function(){},Ji.prototype.w=function(){},to.prototype.ja=function(t){return hs(t,eo(this))},to.prototype.b=function(t,e){var n=eo(this);return n.idToken=e,fs(t,n)},to.prototype.c=function(t,e){return Zi(ps(t,eo(this)),e)},to.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ro.prototype.ja=function(t){return hs(t,io(this))},ro.prototype.b=function(t,e){var n=io(this);return n.idToken=e,fs(t,n)},ro.prototype.c=function(t,e){return Zi(ps(t,io(this)),e)},ro.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ao.prototype.Ka=function(t){return this.Hb=ct(t),this},_(so,ao),_(uo,ao),uo.prototype.Ca=function(t){return z(this.a,t)||this.a.push(t),this},uo.prototype.Pb=function(){return K(this.a)},uo.prototype.credential=function(t,e){if(!(e=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!e.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new ro(this.providerId,e,this.providerId)},_(co,uo),Ur(co,"PROVIDER_ID","facebook.com"),Ur(co,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(ho,uo),Ur(ho,"PROVIDER_ID","github.com"),Ur(ho,"GITHUB_SIGN_IN_METHOD","github.com"),_(po,uo),Ur(po,"PROVIDER_ID","google.com"),Ur(po,"GOOGLE_SIGN_IN_METHOD","google.com"),_(yo,ao),Ur(yo,"PROVIDER_ID","twitter.com"),Ur(yo,"TWITTER_SIGN_IN_METHOD","twitter.com"),mo.prototype.ja=function(t){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,_s,{email:this.a,oobCode:this.f}):Qs(t,zs,{email:this.a,password:this.f})},mo.prototype.b=function(t,e){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,Es,{idToken:e,email:this.a,oobCode:this.f}):Qs(t,Ls,{idToken:e,email:this.a,password:this.f})},mo.prototype.c=function(t,e){return Zi(this.ja(t),e)},mo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Vr(wo,{PROVIDER_ID:"password"}),Vr(wo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vr(wo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ja=function(t){return t.eb(To(this))},Io.prototype.b=function(t,e){var n=To(this);return n.idToken=e,Qs(t,Hs,n)},Io.prototype.c=function(t,e){var n=To(this);return n.operation="REAUTH",Zi(t=Qs(t,Gs,n),e)},Io.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},ko.prototype.eb=function(t,e){var n=this.a.a;return be(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==e.type)throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return i=i&&i.type==Yi?i.Ha().then((function(t){return Qs(n,js,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then((function(t){return t.phoneSessionInfo.sessionInfo}))})):i&&i.type==$i?i.Ha().then((function(e){return i=n,e={mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}},Qs(i,Fs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}));var i})):Qs(n,Rs,{phoneNumber:o,recaptchaToken:r}),i.then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}))}))},Vr(ko,{PROVIDER_ID:"phone"}),Vr(ko,{PHONE_SIGN_IN_METHOD:"phone"}),Oo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Oo.prototype.S=function(){return this.h},Oo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ro,Do=null;function Lo(t){var e="unauthorized-domain",n=void 0,r=Cn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Mt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Mt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Mo(t,e,n){E.call(this,t,n),(t=e||{}).Ib&&Ur(this,"email",t.Ib),t.ea&&Ur(this,"phoneNumber",t.ea),t.credential&&Ur(this,"credential",t.credential),t.Yb&&Ur(this,"tenantId",t.Yb)}function jo(t){if(t.code){var e=t.code||"";0==e.indexOf(T)&&(e=e.substring(T.length));var n={credential:Ao(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Mo(e,n,t.message)}return null}function Fo(){}function Uo(t){return t.c||(t.c=t.b())}function Vo(){}function qo(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Bo(){}function zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=m(this.pc,this),this.a.onerror=m(this.Rb,this),this.a.onprogress=m(this.qc,this),this.a.ontimeout=m(this.uc,this)}function Wo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ho(t,e,n){this.reset(t,e,n,void 0,void 0)}function Go(t){this.f=t,this.b=this.c=this.a=null}function Ko(t,e){this.name=t,this.value=e}_(Lo,E),_(Mo,E),Mo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&ht(t,e),t},Mo.prototype.toJSON=function(){return this.w()},Fo.prototype.c=null,_(Vo,Fo),Vo.prototype.a=function(){var t=qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Vo.prototype.b=function(){var t={};return qo(this)&&(t[0]=!0,t[1]=!0),t},Ro=new Vo,_(Bo,Fo),Bo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new zo;throw Error("Unsupported browser")},Bo.prototype.b=function(){return{}},(t=zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Wo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Wo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Wo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ho.prototype.a=null,Ho.prototype.reset=function(t,e,n,r,i){delete this.a},Ko.prototype.toString=function(){return this.name};var Qo=new Ko("SEVERE",1e3),Xo=new Ko("WARNING",900),Yo=new Ko("CONFIG",700),$o=new Ko("FINE",500);Go.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(x("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new Ho(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Jo,Zo={},ta=null;function ea(t){var e,n,r;return ta||(ta=new Go(""),(Zo[""]=ta).c=Yo),(e=Zo[t])||(e=new Go(t),r=t.lastIndexOf("."),n=t.substr(r+1),(r=ea(t.substr(0,r))).b||(r.b={}),(r.b[n]=e).a=r,Zo[t]=e),e}function na(t,e){t&&t.log($o,e,void 0)}function ra(t){this.f=t}function ia(t){hn.call(this),this.o=t,this.readyState=oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ea("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_(ra,Fo),ra.prototype.a=function(){return new ia(this.f)},ra.prototype.b=(Jo={},function(){return Jo}),_(ia,hn);var oa=0;function aa(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function sa(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ua(t)}function ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ca(t){hn.call(this),this.headers=new bn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=la,this.u=this.R=!1}(t=ia.prototype).open=function(t,e){if(this.readyState!=oa)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ua(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,sa(this,!1)),this.readyState=oa},t.tc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ua(this)),this.a&&(this.readyState=3,ua(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,aa(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){var e;this.a&&((e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done}))&&(this.response=this.responseText+=e),t.done?sa(this,!0):ua(this),3==this.readyState&&aa(this))},t.sc=function(t){this.a&&(this.response=this.responseText=t,sa(this,!0))},t.rc=function(t){this.a&&(this.response=t,sa(this,!0))},t.Ta=function(t){var e=this.h;e&&e.log(Xo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&sa(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Xo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Xo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(ca,hn);var la="";ca.prototype.b=ea("goog.net.XhrIo");var ha=/^https?$/i,fa=["POST","PUT"];function pa(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=(t.O?t.O:Ro).a(),t.A=t.O?Uo(t.O):Uo(Ro),t.a.onreadystatechange=m(t.Ub,t);try{na(t.b,Ea(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return na(t.b,Ea(t,"Error opening Xhr: "+e.message)),void va(t,e)}e=r||"";var o,s=new bn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)U(t,e,void 0);else for(var n=mn(t),r=gn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){s.set(e,t)})),i=function(t){t:{for(var e=da,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(s.Y()),r=a.FormData&&e instanceof a.FormData,!z(fa,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{ba(t),0<t.g&&(t.u=(o=t.a,qt&&$t(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),na(t.b,Ea(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=m(t.Ma,t)):t.o=vn(t.Ma,t.g,t)),na(t.b,Ea(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){na(t.b,Ea(t,"Send error: "+e.message)),va(t,e)}}function da(t){return"content-type"==t.toLowerCase()}function va(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ya(t),ma(t)}function ya(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ga(t){if(t.c&&void 0!==o)if(t.A[1]&&4==wa(t)&&2==_a(t))na(t.b,Ea(t,"Local request error detected and ignored"));else if(t.i&&4==wa(t))vn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==wa(t)){na(t.b,Ea(t,"Request complete")),t.c=!1;try{var e,n,r,i,s=_a(t);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}if((e=u)||((n=0===s)&&(!(i=String(t.l).match(En)[1]||null)&&a.self&&a.self.location&&(i=(r=a.self.location.protocol).substr(0,r.length-1)),n=!ha.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<wa(t)?t.a.statusText:""}catch(e){na(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+_a(t)+"]",ya(t)}}finally{ma(t)}}}function ma(t,e){if(t.a){ba(t);var n=t.a,r=t.A[0]?c:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Qo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function ba(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(a.clearTimeout(t.o),t.o=null)}function wa(t){return t.a?t.a.readyState:0}function _a(t){try{return 2<wa(t)?t.a.status:-1}catch(t){return-1}}function Ea(t,e){return e+" ["+t.P+" "+t.l+" "+_a(t)+"]"}function Ia(t){var e=Da;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Sa(t,e,n){t.a=!0,t.c=n,t.f=!e,Aa(t)}function Ta(t){if(t.a){if(!t.m)throw new Ca;t.m=!1}}function ka(t,e,n,r){t.g.push([e,n,r]),t.a&&Aa(t)}function Na(t){return B(t.g,(function(t){return f(t[1])}))}function Aa(t){var e,n;t.h&&t.a&&Na(t)&&(e=t.h,(n=xa[e])&&(a.clearTimeout(n.a),delete xa[e]),t.h=0),t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=(s=t.g.shift())[0],o=s[1],s=s[2];if(i=t.f?o:i)try{var u=i.call(s||t.o,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(C(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Na(t)||(n=!0)}}t.c=e,r&&(u=m(t.v,t,!0),r=m(t.v,t,!1),e instanceof Ia?(ka(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Pa(e),xa[e.a]=e,t.h=e.a)}function Ca(){O.call(this)}function Oa(){O.call(this)}function Pa(t){this.a=a.setTimeout(m(this.c,this),0),this.b=t}(t=ca.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",na(this.b,Ea(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(na(this.b,Ea(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ma(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ma(this,!0)),ca.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?ga(this):this.Ic())},t.Ic=function(){ga(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case la:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Qo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return na(this.b,"Can not get response: "+t.message),null}},Ia.prototype.cancel=function(t){var e;this.a?this.c instanceof Ia&&this.c.cancel():(this.b&&(e=this.b,delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())),this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Oa,Ta(this),Sa(this,!1,t)))},Ia.prototype.v=function(t,e){this.i=!1,Sa(this,t,e)},Ia.prototype.then=function(t,e,n){var r,i,o=new fe((function(t,e){r=t,i=e}));return ka(this,r,(function(t){t instanceof Oa?o.cancel():i(t)})),o.then(t,e,n)},Ia.prototype.$goog_Thenable=!0,_(Ca,O),Ca.prototype.message="Deferred has already fired",Ca.prototype.name="AlreadyCalledError",_(Oa,O),Oa.prototype.message="Deferred was canceled",Oa.prototype.name="CanceledError",Pa.prototype.c=function(){throw delete xa[this.a],this.b};var xa={};function Ra(t){var e=document,n=bt(t).toString(),r=oe(document,"SCRIPT"),i={Vb:r,Ma:void 0},o=new Ia(i),c=window.setTimeout((function(){La(r,!0);var t=new Fa(ja,"Timeout reached for loading script "+n);Ta(o),Sa(o,!1,t)}),5e3);return i.Ma=c,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(La(r,!1,c),Ta(o),Sa(o,!0,null))},r.onerror=function(){La(r,!0,c);var t=new Fa(Ma,"Error while loading script "+n);Ta(o),Sa(o,!1,t)},ht(i={},{type:"text/javascript",charset:"UTF-8"}),te(r,i),i=t,ft(t=r,"HTMLScriptElement"),t.src=bt(i),null===u&&(u=(i=(i=a.document).querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&s.test(i)?i:""),(i=u)&&t.setAttribute("nonce",i),((e=((i=e)||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:i.documentElement).appendChild(r),o}function Da(){var t;this&&this.Vb&&(t=this.Vb)&&"SCRIPT"==t.tagName&&La(t,!0,this.Ma)}function La(t,e,n){null!=n&&a.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ma=0,ja=1;function Fa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function Ua(t){this.f=t}function Va(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||za,this.g=ct(t.secureTokenHeaders||Wa),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Ha,this.a=ct(t.firebaseHeaders||Ga),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==lr(),!(n=a.XMLHttpRequest||n&&$a.INTERNAL.node&&$a.INTERNAL.node.XMLHttpRequest)&&!cr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,cr()?this.f=new ra(self):hr()?this.f=new Ua(n):this.f=new Bo,this.b=null}_(Fa,O),_(Ua,Fo),Ua.prototype.a=function(){return new this.f},Ua.prototype.b=function(){return{}};var qa,Ba="idToken",za=new Or(3e4,6e4),Wa={"Content-Type":"application/x-www-form-urlencoded"},Ha=new Or(3e4,6e4),Ga={"Content-Type":"application/json"};function Ka(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qa(t,e){e&&(t.l=Xa("https://securetoken.googleapis.com/v1/token",e),t.h=Xa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Xa("https://identitytoolkit.googleapis.com/v2/",e))}function Xa(t,e){return t=Cn(t),e=Cn(e.url),t.c=t.a+t.c,Sn(t,e.f),t.a=e.a,Tn(t,e.g),t.toString()}function Ya(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ja(t,e,n,r,i,o,s){var u;(t=((u=dr(u=gr())==pr&&(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||qt&&Xt&&!(9<Xt))&&!cr()?(qa=qa||new fe((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[ts]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){ka(t,null,e,void 0)}(Ra(wt(Za,{onload:ts})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)})),m(t.o,t)):m(t.u,t))(e,n,r,i,o,s)}Va.prototype.S=function(){return this.b},Va.prototype.u=function(t,e,n,r,i,o){if(cr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,u=new ca(this.f);o&&(u.g=Math.max(0,o),s=setTimeout((function(){u.dispatchEvent("timeout")}),o)),fn(u,"complete",(function(){s&&clearTimeout(s);var n=null;try{n=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return na(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){n=null}e&&e(n)})),pn(u,"ready",(function(){s&&clearTimeout(s),Le(this)})),pn(u,"timeout",(function(){s&&clearTimeout(s),Le(this),e&&e(null)})),pa(u,t,n,r,i)};var Za=new pt(yt,"https://apis.google.com/js/client.js?onload=%{onload}"),ts="__fcb"+Math.floor(1e6*Math.random()).toString();function es(t,e,n,r,i,o,a){var s=Cn(e+n);Nn(s,"key",t.c),a&&Nn(s,"cb",w().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Nn(s,c,i[c]);return new fe((function(e,n){Ja(t,s.toString(),(function(t){t?t.error?n(Ys(t,o||{})):e(t):n(new E("network-request-failed"))}),r,u?void 0:Kn(Tr(i)),t.a,t.m.get())}))}function ns(t){if("string"!=typeof(t=t.email)||!or.test(t))throw new E("invalid-email")}function rs(t){"email"in t&&ns(t)}function is(t){if(!t[Ba]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,ct(t));throw new E("internal-error")}}function os(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Va.prototype.o=function(t,e,n,r,i){var o=this;qa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Va.prototype.yb=function(){return Qs(this,Ms,{})},Va.prototype.Ab=function(t,e){return Qs(this,Ds,{idToken:t,email:e})},Va.prototype.Bb=function(t,e){return Qs(this,Ls,{idToken:t,password:e})};var as={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ss(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function us(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function cs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&zn(t=new Un(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ls(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=jo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=jo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=jo(t)):t.errorMessage&&(e=Xs(t.errorMessage)),e)throw e;is(t)}function hs(t,e){return e.returnIdpCredential=!0,Qs(t,Us,e)}function fs(t,e){return e.returnIdpCredential=!0,Qs(t,qs,e)}function ps(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Qs(t,Vs,e)}function ds(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Va.prototype).Cb=function(t,e){var n={idToken:t},r=[];return st(as,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Qs(this,Ds,n)},t.ub=function(t,e){return ht(t={requestType:"PASSWORD_RESET",email:t},e),Qs(this,Cs,t)},t.vb=function(t,e){return ht(t={requestType:"EMAIL_SIGNIN",email:t},e),Qs(this,ks,t)},t.tb=function(t,e){return ht(t={requestType:"VERIFY_EMAIL",idToken:t},e),Qs(this,Ns,t)},t.Db=function(t,e,n){return ht(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Qs(this,As,t)},t.eb=function(t){return Qs(this,Ws,t)},t.mb=function(t,e){return Qs(this,xs,{oobCode:t,newPassword:e})},t.Qa=function(t){return Qs(this,ys,{oobCode:t})},t.ib=function(t){return Qs(this,vs,{oobCode:t})};var vs={endpoint:"setAccountInfo",B:ds,Z:"email",C:!0},ys={endpoint:"resetPassword",B:ds,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},gs={endpoint:"signupNewUser",B:function(t){if(ns(t),!t.password)throw new E("weak-password")},F:is,U:!0,C:!0},ms={endpoint:"createAuthUri",C:!0},bs={endpoint:"deleteAccount",M:["idToken"]},ws={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if("array"!=l(t.deleteProvider))throw new E("internal-error")}},_s={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ns,F:is,U:!0,C:!0},Es={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ns,F:is,U:!0},Is={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ss,F:is,C:!0,Na:!0},Ss={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ss,F:is,C:!0,Na:!0},Ts={endpoint:"getAccountInfo"},ks={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");ns(t)},Z:"email",C:!0},Ns={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",C:!0},As={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",C:!0},Cs={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");ns(t)},Z:"email",C:!0},Os={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ps={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},xs={endpoint:"resetPassword",B:ds,Z:"email",C:!0},Rs={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ds={endpoint:"setAccountInfo",M:["idToken"],B:rs,U:!0},Ls={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(rs(t),!t.password)throw new E("weak-password")},F:is,U:!0},Ms={endpoint:"signupNewUser",F:is,U:!0,C:!0},js={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,Na:!0},Fs={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,Na:!0},Us={endpoint:"verifyAssertion",B:us,Xa:cs,F:ls,U:!0,C:!0},Vs={endpoint:"verifyAssertion",B:us,Xa:cs,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw Xs(t.errorMessage);is(t)},U:!0,C:!0},qs={endpoint:"verifyAssertion",B:function(t){if(us(t),!t.idToken)throw new E("internal-error")},Xa:cs,F:ls,U:!0},Bs={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new E("invalid-custom-token")},F:is,U:!0,C:!0},zs={endpoint:"verifyPassword",B:function(t){if(ns(t),!t.password)throw new E("wrong-password")},F:is,U:!0,C:!0},Ws={endpoint:"verifyPhoneNumber",B:os,F:is,C:!0},Hs={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new E("internal-error");os(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",jo(t);is(t)}},Gs={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:os,F:is,C:!0},Ks={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Ba]^!!t.refreshToken)throw new E("internal-error")},C:!0,Na:!0};function Qs(t,e,n){if(!function(t,e){if(!e||!e.length)return 1;if(t){for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return}return 1}}(n,e.M))return we(new E("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return be(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),es(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new E("internal-error");return r[e.Z]}))}function Xs(t){return Ys({error:{errors:[{message:t}],code:400,message:t}})}function Ys(t,e){var n,r=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new E(i[r]):null)return r;for(n in r=t.error&&t.error.message||"",ht(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===r.indexOf(n))return new E(i[n],e);return!e&&t&&(e=Sr(t)),new E("internal-error",e)}function $s(t){var e;this.b=t,this.a=null,this.qb=(e=this,(eu||(eu=new fe((function(t,e){function n(){Cr(),mr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Cr(),e(Error("Network Error"))},timeout:Zs.get()})}var r;mr("gapi.iframes.Iframe")?t():mr("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),a[r]=function(){mr("gapi.load")?n():e(Error("Network Error"))},be(Ra(r=wt(Js,{onload:r}))).s((function(){e(Error("Network Error"))})))})).s((function(t){throw eu=null,t})))).then((function(){return new fe((function(t,n){mr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),tu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))})))}var Js=new pt(yt,"https://apis.google.com/js/api.js?onload=%{onload}"),Zs=new Or(3e4,6e4),tu=new Or(5e3,15e3),eu=null;function nu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?On((t=Cn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):On("https",this.l,null,"/__/auth/iframe"),this.a=t,Nn(this.a,"apiKey",this.h),Nn(this.a,"appName",this.i),this.b=null,this.c=[]}function ru(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function iu(t){try{return $a.app(t).auth().Ga()}catch(t){return[]}}function ou(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function au(t){var e=Zn();return Qs(t,Os,{}).then((function(t){return t.authorizedDomains||[]})).then((function(t){t:{for(var n=(r=Cn(e)).f,r=r.a,i=0;i<t.length;i++){var o=t[i],a=r,s=n;if(a=0==o.indexOf("chrome-extension://")?Cn(o).a==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(ir.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){t=!0;break t}}t=!1}if(!t)throw new Lo(Zn())}))}function su(t){return t.v||(t.v=ar().then((function(){var e,n,r,i;t.u||(e=t.c,n=t.i,r=iu(t.b),(i=new nu(t.o,t.g,t.b,t.f)).f=e,i.b=n,i.c=K(r||[]),t.u=i.toString()),t.m=new $s(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Po(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",be(n)}return n.status="ERROR",be(n)}))}(t)}))),t.v}function uu(t){return t.l||(t.A=t.c?yr(t.c,iu(t.b)):null,t.l=new Va(t.g,A(t.i),t.A),t.f&&Qa(t.l,t.f)),t.l}function cu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new ru(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=ct(u||null),t.f=c,t.xb(l).toString()}function lu(t){if(this.a=t||$a.INTERNAL.reactNative&&$a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function hu(t){this.b=t,this.a={},this.f=m(this.c,this)}nu.prototype.toString=function(){return this.f?Nn(this.a,"v",this.f):Bn(this.a.b,"v"),this.b?Nn(this.a,"eid",this.b):Bn(this.a.b,"eid"),this.c.length?Nn(this.a,"fw",this.c.join(",")):Bn(this.a.b,"fw"),this.a.toString()},ru.prototype.xb=function(t){return this.h=t,this},ru.prototype.toString=function(){var t;if(Nn(t=this.m?On((t=Cn(this.m.url)).f,t.a,t.g,"/emulator/auth/handler"):On("https",this.u,null,"/__/auth/handler"),"apiKey",this.o),Nn(t,"appName",this.c),Nn(t,"authType",this.v),this.a.isOAuthProvider){var e,n=this.a;try{var r=$a.app(this.c).auth().ka()}catch(t){r=null}for(e in n.nb=r,Nn(t,"providerId",this.a.providerId),n=Tr((r=this.a).Hb))n[e]=n[e].toString();e=r.Pc,n=ct(n);for(var i=0;i<e.length;i++){var o=e[i];o in n&&delete n[o]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),ut(n)||Nn(t,"customParameters",Sr(n))}if("function"==typeof this.a.Pb&&(r=this.a.Pb()).length&&Nn(t,"scopes",r.join(",")),this.l?Nn(t,"redirectUrl",this.l):Bn(t.b,"redirectUrl"),this.g?Nn(t,"eventId",this.g):Bn(t.b,"eventId"),this.i?Nn(t,"v",this.i):Bn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!An(t,a)&&Nn(t,a,this.b[a]);return this.h?Nn(t,"tid",this.h):Bn(t.b,"tid"),this.f?Nn(t,"eid",this.f):Bn(t.b,"eid"),(a=iu(this.c)).length&&Nn(t,"fw",a.join(",")),t.toString()},(t=ou.prototype).Nb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){var n,r;r={type:"webStorageSupport"},su(n=o).then((function(){return t=n.m,e=r,t.qb.then((function(){return new fe((function(n){t.a.send(e.type,e,n,mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}));var t,e})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})).then((function(n){n||(t&&nr(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return e=t,new fe((function(t){return function n(){yn(2e3).then((function(){return e&&!e.closed?n():void t()}))}()}));var e})).then((function(){if(!a)return yn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=gr();return!Ir(t)&&!Ar(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,a,s){if(!t)return we(new E("popup-blocked"));if(a&&!Ir())return this.la().s((function(e){nr(t),i(e)})),r(),be();this.a||(this.a=au(uu(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw nr(t),i(e),e}));return r(),e})).then((function(){Co(n),a||tr(cu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=au(uu(this)));var i=this;return this.a.then((function(){Co(e),tr(cu(i.o,i.g,i.b,t,e,Zn(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return su(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new E("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){H(this.h,(function(e){return e==t}))},(t=lu.prototype).get=function(t){return be(this.a.getItem(t)).then((function(t){return t&&kr(t)}))},t.set=function(t,e){return be(this.a.setItem(t,Sr(e)))},t.T=function(t){return be(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var fu,pu=[];function du(t,e,n){ut(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function vu(t){this.a=t}function yu(t){this.c=t,this.b=!1,this.a=[]}function gu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return we(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new fe((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return mu(t,c),e})).s((function(e){throw mu(t,c),e}))}function mu(t,e){var n,r;e&&(n=e.messageChannel,r=e.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),H(t.a,(function(t){return t==e})))}function bu(){if(!Eu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t,e,n,r=this;cr()&&self?(this.l=(n=cr()?self:null,U(pu,(function(t){t.b==n&&(e=t)})),e||(e=new hu(n),pu.push(e)),e),du(this.l,"keyChanged",(function(t,e){return Nu(r).then((function(t){return 0<t.length&&U(r.a,(function(e){e(t)})),{keyProcessed:z(t,e.key)}}))})),du(this.l,"ping",(function(){return be(["keyChanged"])}))):((t=a.navigator)&&t.serviceWorker?be().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):be(null)).then((function(t){(r.h=t)&&(r.g=new yu(new vu(t)),gu(r.g,"ping",null,!0).then((function(t){t[0].fulfilled&&z(t[0].value,"keyChanged")&&(r.o=!0)})).s((function(){})))}))}function wu(t){return new fe((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){var i;(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):(i=t,new fe((function(t,e){var n=i.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}})).then((function(){return wu(t)})).then((function(t){e(t)})).s((function(t){n(t)})))}}))}function _u(t){return t.v||(t.v=wu(t)),t.v}function Eu(){try{return a.indexedDB}catch(t){return}}function Iu(t){return t.objectStore("firebaseLocalStorage")}function Su(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Tu(t){return new fe((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function ku(t,e){return t.g&&t.h&&((n=a.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?gu(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):be();var n}function Nu(t){return _u(t).then((function(t){var e=Iu(Su(t,!1));return e.getAll?Tu(e.getAll()):new fe((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n&&typeof e[r]==typeof n[r]?"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Au(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Cu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=be().then((function(){if(Eu()){var t=Nr(),r="__sak"+t;return fu=fu||new bu,(n=fu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){U(e.a,(function(e){e(t)}))})),t}))}function Ou(){this.a={},this.type="inMemory"}function Pu(){if(!function(){var t="Node"==lr();if(!(t=xu()||t&&$a.INTERNAL.node&&$a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==lr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=xu()||$a.INTERNAL.node.localStorage,this.type="localStorage"}function xu(){try{var t=a.localStorage,e=Nr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ru(){this.type="nullStorage"}function Du(){if(!function(){var t="Node"==lr();if(!(t=Lu()||t&&$a.INTERNAL.node&&$a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==lr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Lu()||$a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Lu(){try{var t=a.sessionStorage,e=Nr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Mu(){var t={};t.Browser=Uu,t.Node=Vu,t.ReactNative=qu,t.Worker=Bu,this.a=t[lr()]}hu.prototype.c=function(t){var e,n=t.data.eventType,r=t.data.eventId,i=this.a[n];i&&0<i.length&&(t.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null}),e=[],U(i,(function(n){e.push(be().then((function(){return n(t.origin,t.data.data)})))})),Ee(e).then((function(e){var i=[];U(e,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),U(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})})))},vu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},yu.prototype.close=function(){for(;0<this.a.length;)mu(this,this.a[0]);this.b=!0},(t=bu.prototype).set=function(t,e){var n,r=!1,i=this;return _u(this).then((function(e){return Tu((e=Iu(Su(n=e,!0))).get(t))})).then((function(o){var a=Iu(Su(n,!0));return o?(o.value=e,Tu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Tu(a.add(o)))})).then((function(){return i.c[t]=e,ku(i,t)})).na((function(){r&&i.b--}))},t.get=function(t){return _u(this).then((function(e){return Tu(Iu(Su(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return _u(this).then((function(r){return e=!0,n.b++,Tu(Iu(Su(r,!0)).delete(t))})).then((function(){return delete n.c[t],ku(n,t)})).na((function(){e&&n.b--}))},t.ca=function(t){var e;0==this.a.length&&(Au(e=this),function t(){e.f=setTimeout((function(){e.i=Nu(e).then((function(t){0<t.length&&U(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()),this.a.push(t)},t.ia=function(t){H(this.a,(function(e){return e==t})),0==this.a.length&&Au(this)},(t=Cu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){H(this.a,(function(e){return e==t}))},(t=Ou.prototype).get=function(t){return be(this.a[t])},t.set=function(t,e){return this.a[t]=e,be()},t.T=function(t){return delete this.a[t],be()},t.ca=function(){},t.ia=function(){},(t=Pu.prototype).get=function(t){var e=this;return be().then((function(){return kr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return be().then((function(){var r=Sr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return be().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&Je(a.window,"storage",t)},t.ia=function(t){a.window&&en(a.window,"storage",t)},(t=Ru.prototype).get=function(){return be(null)},t.set=function(){return be()},t.T=function(){return be()},t.ca=function(){},t.ia=function(){},(t=Du.prototype).get=function(t){var e=this;return be().then((function(){return kr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return be().then((function(){var r=Sr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return be().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var ju,Fu,Uu={D:Pu,ab:Du},Vu={D:Pu,ab:Du},qu={D:lu,ab:Ru},Bu={D:Pu,ab:Ru},zu={qd:"local",NONE:"none",sd:"session"};function Wu(){var t=!(Ar(gr())||!ur()),e=Ir(),n=br();this.v=t,this.h=e,this.l=n,this.a={},t=ju=ju||new Mu;try{this.g=!Jn()&&Dr()||!a.indexedDB?new t.a.D:new Cu(new(cr()?Ou:t.a.D))}catch(t){this.g=new Ou,this.h=!0}try{this.i=new t.a.ab}catch(t){this.i=new Ou}this.m=new Ou,this.f=m(this.Xb,this),this.b={}}function Hu(){return Fu=Fu||new Wu}function Gu(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Ku(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Qu(t,e,n){return n=Ku(e,n),"local"==e.D&&(t.b[n]=null),Gu(t,e.D).T(n)}function Xu(t){t.c&&(clearInterval(t.c),t.c=null)}function Yu(t){this.a=t,this.b=Hu()}(t=Wu.prototype).get=function(t,e){return Gu(this,t.D).get(Ku(t,e))},t.set=function(t,e,n){var r=Ku(t,n),i=this,o=Gu(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){var r;t=Ku(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ut(this.a)&&(Gu(this,"local").ca(this.f),this.h||(Jn()||!Dr())&&a.indexedDB||!this.l||(Xu(r=this),r.c=setInterval((function(){for(var t in r.a){var e=a.localStorage.getItem(t),n=r.b[t];e!=n&&(r.b[t]=e,e=new qe({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),r.Xb(e))}}),1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Ku(t,e),this.a[t]&&(H(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ut(this.a)&&(Gu(this,"local").ia(this.f),Xu(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Gu(this,"local").ia(this.f):Xu(this),this.v)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.lb(e))},qt&&Xt&&10==Xt&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else U(t,m(this.lb,this))},t.lb=function(t){this.a[t]&&U(this.a[t],(function(t){t()}))};var $u,Ju={name:"authEvent",D:"local"};function Zu(){this.a=Hu()}function tc(t,e){this.b=ec,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===$u&&($u=a.Int32Array?new Int32Array(uc):uc),this.reset()}_(tc,(function(){this.b=-1}));for(var ec=64,nc=ec-1,rc=[],ic=0;ic<nc;ic++)rc[ic]=0;var oc=G(128,rc);function ac(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;e<64;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|$u[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function sc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ac(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ac(t),i=0)}}t.c=i,t.g+=n}tc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):K(this.h)};var uc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cc(){tc.call(this,8,lc)}_(cc,tc);var lc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function hc(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new Zu,this.g=new Yu(this.h),this.f=null,this.b=[],this.a=this.c=null}function fc(t){return new E("invalid-cordova-configuration",t)}function pc(t){var e=new cc;sc(e,t),t=[];var n=8*e.g;e.c<56?sc(e,oc,56-e.c):sc(e,oc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ac(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return q(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}function dc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function vc(t){return t.f||(t.f=t.la().then((function(){return new fe((function(e){function n(t){o=!0,s&&s.cancel(),yc(r).then((function(e){var n,o=i;e&&t&&t.url&&(n=null,-1!=(o=Qi(t.url)).indexOf("/__/auth/callback")&&(n=(n="object"==typeof(n=kr(An(n=Cn(o),"firebaseError")||null))?I(n):null)?new Oo(e.c,e.b,null,null,n,null,e.S()):new Oo(e.c,e.b,o,e.f,null,null,e.S())),o=n||i),dc(r,o)}))}var r,i,o,s,u;t.Ea((function n(r){return e(r),t.Ra(n),!1})),r=t,i=new Oo("unknown",null,null,null,new E("no-auth-event")),o=!1,s=yn(500).then((function(){return yc(r).then((function(){o||dc(r,i)}))})),u=a.handleOpenURL,a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(mr("BuildInfo.packageName",a).toLowerCase()+"://")&&n({url:t}),"function"==typeof u)try{u(t)}catch(t){console.error(t)}},Do=Do||new xo,function(t){var e=Do;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=mr("universalLinks.subscribe",a))&&t(null,e.b))}(n)}))}))),t.f}function yc(t){var e,n=null;return(e=t.g).b.get(Ju,e.a).then(Po).then((function(e){return n=e,Qu((e=t.g).b,Ju,e.a)})).then((function(){return n}))}function gc(t){this.a=t,this.b=Hu()}(t=hc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(sr(void 0)?ar().then((function(){return new fe((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):we(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof mr("universalLinks.subscribe",a))throw fc("cordova-universal-links-plugin-fix is not installed");if(void 0===mr("BuildInfo.packageName",a))throw fc("cordova-plugin-buildinfo is not installed");if("function"!=typeof mr("cordova.plugins.browsertab.openUrl",a))throw fc("cordova-plugin-browsertab is not installed");if("function"!=typeof mr("cordova.InAppBrowser.open",a))throw fc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Nb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),be()},t.Lb=function(){return we(new E("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return we(new E("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=be().then((function(){return Co(e),vc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Oo(e,r,null,o,new E("no-auth-event"),null,i),u=mr("BuildInfo.packageName",a);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=mr("BuildInfo.displayName",a),l={};if(gr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!gr().toLowerCase().match(/android/))return we(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=pc(o),l.sessionId=o;var h=cu(t.m,t.i,t.l,e,n,null,r,t.v,l,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(Ju,s.w(),e)})).then((function(){var e=mr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=mr("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=mr("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");e=gr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new fe((function(t,e){u=function(){var e=mr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s=s||yn(2e3).then((function(){e(new E("redirect-cancelled-by-user"))}))},l=function(){Pr()&&c()},o.addEventListener("resume",c,!1),gr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(t){return yc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),vc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Oo("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Ra=function(t){H(this.b,(function(e){return e==t}))};var mc={name:"pendingRedirect",D:"session"};function bc(t){return Qu(t.b,mc,t.a)}function wc(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=m(this.o,this),this.b=new Lc,this.A=new Vc,this.g=new gc(Rc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=_c(this.O,this.m,this.v,S,this.G)}function _c(t,e,n,r,i){var o=$a.SDK_VERSION||null;return new(sr()?hc:ou)(t,e,n,o,r,i)}function Ec(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function Ic(t){t.a.Wb()&&Ec(t).s((function(e){var n=new Oo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Cc(e)&&t.o(n)})),t.a.Sb()||Mc(t.b)}function Sc(t,e){z(t.h,e)||t.h.push(e),t.f||(e=t.g).b.get(mc,e.a).then((function(t){return"pending"==t})).then((function(e){e?bc(t.g).then((function(){Ec(t).s((function(e){var n=new Oo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Cc(e)&&t.o(n)}))})):Ic(t)})).s((function(){Ic(t)}))}function Tc(t,e){H(t.h,(function(t){return t==e}))}wc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=_c(this.O,this.m,this.v,null,this.G),this.i={}},wc.prototype.o=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=w()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=w())),e=!0;break}}return Mc(this.b),e};var kc=new Or(2e3,1e4),Nc=new Or(3e4,6e4);function Ac(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Cc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Oc(t,e,n,r,i){var o,a;return(a=t.g).b.set(mc,"pending",a.a).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Cc(e))throw new E("operation-not-supported-in-this-environment");return o=e,bc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new fe((function(){})):bc(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function Pc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),kc.get())}wc.prototype.qa=function(){return this.b.qa()};var xc={};function Rc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Dc(t,e,n,r){var i=Rc(e,n,r);return xc[i]||(xc[i]=new wc(t,e,n,r)),xc[i]}function Lc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Mc(t){t.g||(t.g=!0,Uc(t,!1,null,null))}function jc(t){t.g&&!t.i&&Uc(t,!1,null,null)}function Fc(t,e){if(t.b=function(){return be(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Uc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return we(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Fc(t,n):Fc(t,{user:null}),t.f=[],t.c=[]}function Vc(){}function qc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Bc(t,e){this.a=e,Ur(this,"verificationId",t)}function zc(t,e,n,r){return new ko(t).eb(e,n).then((function(t){return new Bc(t,r)}))}function Wc(t){var e=Di(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vr(this,{token:t,expirationTime:Rr(1e3*e.exp),authTime:Rr(1e3*e.auth_time),issuedAtTime:Rr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Hc(t,e,n){var r=e&&e[Kc];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ct(e),this.g=n,this.c=new Xi(null,r),this.b=[];var i=this;U(e[Gc]||[],(function(t){(t=Wr(t))&&i.b.push(t)})),Ur(this,"auth",this.a),Ur(this,"session",this.c),Ur(this,"hints",this.b)}Lc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Lc.prototype.h=function(t,e){var n,r,i,o;t?(this.reset(),this.g=!0,n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code,this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Uc(this,!0,null,t.a),be()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Uc(t,s,e,null)})).s((function(e){Uc(t,s,null,e)}))}(this,t,e):we(new E("invalid-auth-event")):(Uc(this,!1,null,null),be())):we(new E("invalid-auth-event"))},Lc.prototype.qa=function(){var t=this;return new fe((function(e,n){var r,i;t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),r=t,i=new E("timeout"),r.a&&r.a.cancel(),r.a=yn(Nc.get()).then((function(){r.b||(r.g=!0,Uc(r,!0,null,i))})))}))},Vc.prototype.h=function(t,e){var n,r,i,o,a;t?(n=t.c,r=t.b,t.a?(e.ma(t.c,null,t.a,t.b),be()):e.Fa(n,r)?(i=e,o=t.b,a=t.c,i.Fa(a,o)(t.g,t.f,t.S(),t.i).then((function(t){i.ma(a,t,null,o)})).s((function(t){i.ma(a,null,t,o)}))):we(new E("invalid-auth-event"))):we(new E("invalid-auth-event"))},Bc.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Gc="mfaInfo",Kc="mfaPendingCredential";function Qc(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Hc(t,e,n),Ur(this,"resolver",this.b)}function Xc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Qc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Yc(){}function $c(t){Ur(this,"factorId",t.fa),this.a=t}function Jc(t){if($c.call(this,t),this.a.fa!=ko.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zc(t,e){for(var n in Ve.call(this,t),e)this[n]=e[n]}function tl(t,e){this.a=t,this.b=[],this.c=m(this.xc,this),Je(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&U(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Kr]=t.uid),t.displayName&&(r[Hr]=t.displayName),t.enrollmentTime&&(r[Gr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Qr]=t.phoneNumber);try{e=new Xr(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),el(this,n)}function el(t,e){t.b=e,Ur(t,"enrolledFactors",e)}function nl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rl(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function il(t){this.c=t,this.b=this.a=null}function ol(t){return t.b&&1e3*t.b.c||0}function al(t,e){var n=e.refreshToken;t.b=Ri(e[Ba]||""),t.a=n}function sl(t,e){return n=t.c,r=e,new fe((function(t,e){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?Ja(n,n.l+"?key="+encodeURIComponent(n.c),(function(n){n?n.error?e(Ys(n)):n.access_token&&n.refresh_token?t(n):e(new E("internal-error")):e(new E("network-request-failed"))}),"POST",qn(r).toString(),n.g,n.v.get()):e(new E("internal-error"))})).then((function(e){return t.b=Ri(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}));var n,r}function ul(t,e){this.a=t||null,this.b=e||null,Vr(this,{lastSignInTime:Rr(e||null),creationTime:Rr(t||null)})}function cl(t,e,n,r,i,o){Vr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ll(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var r,i=$a.SDK_VERSION?yr($a.SDK_VERSION):null;this.a=new Va(this.l,A(S),i),t.emulatorConfig&&Qa(this.a,t.emulatorConfig),this.b=new il(this.a),ml(this,e[Ba]),al(this.b,e),Ur(this,"refreshToken",this.b.a),_l(this,n||{}),hn.call(this),this.P=!1,this.o&&wr()&&(this.i=Dc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=(r=this,new nl((function(){return r.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var t=ol(r.b)-w()-3e5;return 0<t?t:0}))),this.$=m(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){Qa(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){pl(o,t.f)},this.aa=null,this.N=new tl(this,n),Ur(this,"multiFactor",this.N)}function hl(t,e){t.ba&&en(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&Je(e,"languageCodeChanged",t.Ba)}function fl(t,e){t.W&&en(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&Je(e,"emulatorConfigChanged",t.za)}function pl(t,e){t.X=e,Ya(t.a,$a.SDK_VERSION?yr($a.SDK_VERSION,t.X):null)}function dl(t,e){t.aa&&en(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&Je(e,"frameworkChanged",t.Aa)}function vl(e){try{return $a.app(e.m).auth()}catch(t){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function yl(t){t.A||t.u.b||(t.u.start(),en(t,"tokenChanged",t.$),Je(t,"tokenChanged",t.$))}function gl(t){en(t,"tokenChanged",t.$),t.u.stop()}function ml(t,e){t.ya=e,Ur(t,"_lat",e)}function bl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ee(e).then((function(){return t}))}function wl(t){t.i&&!t.P&&(t.P=!0,Sc(t.i,t))}function _l(t,e){Vr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ul(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function El(){}function Il(t){return be().then((function(){if(t.A)throw new E("app-deleted")}))}function Sl(t){return q(t.providerData,(function(t){return t.providerId}))}function Tl(t,e){e&&(kl(t,e.providerId),t.providerData.push(e))}function kl(t,e){H(t.providerData,(function(t){return t.providerId==e}))}function Nl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ur(t,e,n)}function Al(t,e){var n,r;t!=e&&(Vr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Ur(t,"metadata",new ul((r=e.metadata).a,r.b)):Ur(t,"metadata",new ul),U(e.providerData,(function(e){Tl(t,e)})),n=t.b,r=e.b,n.b=r.b,n.a=r.a,Ur(t,"refreshToken",t.b.a),el(t.N,e.N.b))}function Cl(t){return t.I().then((function(e){var n,r,i=t.isAnonymous;return r=e,Qs((n=t).a,Ts,{idToken:r}).then(m(n.Jc,n)).then((function(){return i||Nl(t,"isAnonymous",!1),e}))}))}function Ol(t,e){e[Ba]&&t.ya!=e[Ba]&&(al(t.b,e),t.dispatchEvent(new Zc("tokenChanged")),ml(t,e[Ba]),Nl(t,"refreshToken",t.b.a))}function Pl(t,e){return Cl(t).then((function(){if(z(Sl(t),e))return bl(t).then((function(){throw new E("provider-already-linked")}))}))}function xl(t,e,n){return qr({user:t,credential:Ao(e),additionalUserInfo:e=Ui(e),operationType:n})}function Rl(t,e){return Ol(t,e),t.reload().then((function(){return t}))}function Dl(t,e,n,r,i){if(!wr())return we(new E("operation-not-supported-in-this-environment"));if(t.f&&!i)return we(t.f);var o=Fi(n.providerId),a=Nr(t.uid+":::"),s=null;(!Ir()||ur())&&t.o&&n.isOAuthProvider&&(s=cu(t.o,t.l,t.m,e,n,null,a,$a.SDK_VERSION||null,null,null,t.tenantId));var u=rr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Ml(t),!i)return t.I().then((function(){}))})).then((function(){return Ac(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new fe((function(n,r){t.ma(e,null,new E("cancelled-popup-request"),t.h||null),t.g=n,t.O=r,t.h=a,t.c=Pc(t.i,t,e,u,a)}))})).then((function(t){return u&&nr(u),t?qr(t):null})).s((function(t){throw u&&nr(u),t})),jl(t,r,i)}function Ll(t,e,n,r,i){if(!wr())return we(new E("operation-not-supported-in-this-environment"));if(t.f&&!i)return we(t.f);var o=null,a=Nr(t.uid+":::");return r=r().then((function(){if(Ml(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,bl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Vl,t.w(),e.a)),e})).then((function(){return Oc(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.ha)return ql(t.ha);throw o})).then((function(){if(o)throw o})),jl(t,r,i)}function Ml(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function jl(t,e,n){var r,i=(r=t).f&&!n?(e.cancel(),we(r.f)):e.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(r.f||r.dispatchEvent(new Zc("userInvalidated")),r.f=t),t}));return t.G.push(i),i.na((function(){W(t.G,i)})),i.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Xc(e.w(),vl(t),m(t.ic,t))),n||e}))}function Fl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ba]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new ll(e,n,t);return t.providerData&&U(t.providerData,(function(t){t&&Tl(r,qr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Ul(t){this.a=t,this.b=Hu()}Hc.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=ct(e.f);return delete n[Gc],delete n[Kc],ht(n,t),e.g(n)}))},_(Qc,E),Yc.prototype.rb=function(t,e,n){return e.type==Yi?(o=this,a=t,s=n,e.Ha().then((function(t){return t={idToken:t},void 0!==s&&(t.displayName=s),ht(t,{phoneVerificationInfo:To(o.a)}),Qs(a,Is,t)}))):(r=this,i=t,e.Ha().then((function(t){return ht(t={mfaPendingCredential:t},{phoneVerificationInfo:To(r.a)}),Qs(i,Ss,t)})));var r,i,o,a,s},_($c,Yc),_(Jc,$c),_(Zc,Ve),(t=tl.prototype).xc=function(t){var e;el(this,(t=t.gd,e=[],U(t.mfaInfo||[],(function(t){(t=Wr(t))&&e.push(t)})),e))},t.Qb=function(){return this.a.I().then((function(t){return new Xi(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Ol(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Qs(r,Ks,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=V(e.b,(function(t){return t.uid!=n}));return el(e,r),Ol(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:q(this.b,(function(t){return t.w()}))}}},nl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=yn(rl(e,n)).then((function(){return t=a.document,e=null,Pr()||!t?be():new fe((function(n){e=function(){Pr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}));var t,e})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},nl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},il.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ol(this)}},il.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?we(new E("user-token-expired")):t||!this.b||w()>ol(this)-3e4?this.a?sl(this,{grant_type:"refresh_token",refresh_token:this.a}):be(null):be({accessToken:this.b.toString(),refreshToken:this.a})},ul.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(ll,hn),ll.prototype.wa=function(t){this.pa=t,Ka(this.a,t)},ll.prototype.ka=function(){return this.pa},ll.prototype.Ga=function(){return K(this.X)},ll.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Ur(ll.prototype,"providerId","firebase"),(t=ll.prototype).reload=function(){var t=this;return jl(this,Il(this).then((function(){return Cl(t).then((function(){return bl(t)})).then(El)})))},t.nc=function(t){return this.I(t).then((function(t){return new Wc(t)}))},t.I=function(t){var e=this;return jl(this,Il(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.ya&&(ml(e,t.accessToken),e.dispatchEvent(new Zc("tokenChanged"))),Nl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");_l(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=(e=t).providerUserInfo)&&e.length?q(e,(function(t){return new cl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[],r=0;r<n.length;r++)Tl(this,n[r]);Nl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zc("userReloaded",{gd:t}))},t.Kc=function(t){return jr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return jl(this,t.c(this.a,this.uid).then((function(t){return Ol(e,t),n=xl(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return jr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return jl(this,Pl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=xl(e,t,"link"),Rl(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return jl(this,Pl(this,"phone").then((function(){return zc(vl(n),t,e,m(n.pb,n))})))},t.Lc=function(t,e){var n=this;return jl(this,be().then((function(){return zc(vl(n),t,e,m(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return jl(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Ol(e,t),e.reload()})))},t.dd=function(t){var e=this;return jl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Ol(e,t),e.reload()})))},t.Bb=function(t){var e=this;return jl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Ol(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Il(this);var e=this;return jl(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Ol(e,t),Nl(e,"displayName",t.displayName||null),Nl(e,"photoURL",t.photoUrl||null),U(e.providerData,(function(t){"password"===t.providerId&&(Ur(t,"displayName",e.displayName),Ur(t,"photoURL",e.photoURL))})),bl(e)})).then(El))},t.bd=function(t){var e=this;return jl(this,Cl(this).then((function(n){return z(Sl(e),t)?Qs(e.a,ws,{idToken:n,deleteProvider:[t]}).then((function(t){var n={};return U(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),U(Sl(e),(function(t){n[t]||kl(e,t)})),n[ko.PROVIDER_ID]||Ur(e,"phoneNumber",null),bl(e)})):bl(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return jl(this,this.I().then((function(e){return Qs(t.a,bs,{idToken:e})})).then((function(){t.dispatchEvent(new Zc("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");hl(t,null),fl(t,null),dl(t,null),t.G=[],t.A=!0,gl(t),Ur(t,"refreshToken",null),t.i&&Tc(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?m(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?m(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?m(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?m(this.Kb,this):null},t.Dc=function(t){var e=this;return Dl(this,"linkViaPopup",t,(function(){return Pl(e,t.providerId).then((function(){return bl(e)}))}),!1)},t.Mc=function(t){return Dl(this,"reauthViaPopup",t,(function(){return be()}),!0)},t.Ec=function(t){var e=this;return Ll(this,"linkViaRedirect",t,(function(){return Pl(e,t.providerId)}),!1)},t.Nc=function(t){return Ll(this,"reauthViaRedirect",t,(function(){return be()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return jl(this,this.I().then((function(n){return fs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=xl(i,t,"link"),Rl(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return jl(this,be().then((function(){return Zi(ps(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=xl(i,t,"reauthenticate"),Ol(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return jl(this,this.I().then((function(e){return n=e,void 0===t||ut(t)?{}:Ci(new bi(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return jl(this,this.I().then((function(t){return r=t,void 0===e||ut(e)?{}:Ci(new bi(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return jl(this,t=Zi(be(t),n.uid).then((function(t){return e=xl(n,t,"reauthenticate"),Ol(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ht(t,this.metadata.w()),U(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),ht(t,this.N.w()),t};var Vl={name:"redirectUser",D:"session"};function ql(t){return Qu(t.b,Vl,t.a)}function Bl(t){var e,n,r,i;this.a=t,this.b=Hu(),this.c=null,this.f=(n=Hl("local"),r=Hl("session"),i=Hl("none"),function(t,e,n){var r=Ku(e,n),i=Gu(t,e.D);return t.get(e,n).then((function(o){var s=null;try{s=kr(a.localStorage.getItem(r))}catch(o){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}((e=this).b,n,e.a).then((function(){return e.b.get(r,e.a)})).then((function(t){return t?r:e.b.get(i,e.a).then((function(t){return t?i:e.b.get(n,e.a).then((function(t){return t?n:e.b.get(Wl,e.a).then((function(t){return t?Hl(t):n}))}))}))})).then((function(t){return e.c=t,zl(e,t.D)})).s((function(){e.c||(e.c=n)}))),this.b.addListener(Hl("local"),this.a,m(this.g,this))}function zl(t,e){var n,r,i=[];for(n in zu)zu[n]!==e&&i.push(Qu(t.b,Hl(zu[n]),t.a));return i.push(Qu(t.b,Wl,t.a)),r=i,new fe((function(t,e){var n=r.length,i=[];if(n)for(var o=function(e,r){n--,i[e]=r,0==n&&t(i)},a=function(t){e(t)},s=0;s<r.length;s++)_e(r[s],b(o,s),a);else t(i)}))}Bl.prototype.g=function(){var t=this,e=Hl("local");Xl(this,(function(){return be().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return zl(t,"local").then((function(){t.c=e}))}))}))};var Wl={name:"persistence",D:"session"};function Hl(t){return{name:"authUser",D:t}}function Gl(t,e){return Xl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Kl(t){return Xl(t,(function(){return Qu(t.b,t.c,t.a)}))}function Ql(t,e,n){return Xl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Fl(t||{})}))}))}function Xl(t,e){return t.f=t.f.then(e,e),t.f}function Yl(t){if(this.m=!1,Ur(this,"settings",new qc),Ur(this,"app",t),!this.app.options||!this.app.options.apiKey)throw new E("invalid-api-key");var e,n,r,i,o,a;t=$a.SDK_VERSION?yr($a.SDK_VERSION):null,this.a=new Va(this.app.options&&this.app.options.apiKey,A(S),t),this.R=[],this.u=[],this.P=[],this.ac=$a.INTERNAL.createSubscribe(m(this.yc,this)),this.X=void 0,this.bc=$a.INTERNAL.createSubscribe(m(this.zc,this)),rh(this,null),this.l=new Bl(this.app.options.apiKey+":"+this.app.name),this.G=new Ul(this.app.options.apiKey+":"+this.app.name),this.$=uh(this,(n=(e=this).app.options.authDomain,t=function(t){var e=function(t,e){return t.b.get(Vl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Fl(t||{})}))}(t.G,t.app.options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),ql(t.G)}));return uh(t,e)}(e).then((function(){return Ql(e.l,n,e.f)})).then((function(t){return t?(t.ha=e.G,e.o&&(e.o.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Gl(e.l,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:Kl(e.l)}))):null})).then((function(t){rh(e,t||null)})),uh(e,t))),this.i=uh(this,(r=this).$.then((function(){return eh(r)})).s((function(){})).then((function(){if(!r.m)return r.pa()})).s((function(){})).then((function(){var t;r.m||(r.ba=!0,(t=r.l).b.addListener(Hl("local"),t.a,r.pa))}))),this.ba=!1,this.pa=m(this.Yc,this),this.Ba=m(this.da,this),this.ya=m(this.kc,this),this.za=m(this.vc,this),this.Aa=m(this.wc,this),this.b=null,o=(i=this).app.options.authDomain,a=i.app.options.apiKey,o&&wr()&&(i.gb=i.$.then((function(){var t;if(!i.m)return i.b=Dc(o,a,i.app.name,i.f),Sc(i.b,i),oh(i)&&wl(oh(i)),i.o&&(wl(i.o),(t=i.o).wa(i.ka()),hl(t,i),pl(t=i.o,i.N),dl(t,i),Qa((t=i.o).a,i.f),fl(t,i),i.o=null),i.b}))),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.Fc,this),this.A=0,hn.call(this),t=this,Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null,this.N=[],this.f=null}function $l(t){Ve.call(this,"languageCodeChanged"),this.h=t}function Jl(t){Ve.call(this,"emulatorConfigChanged"),this.c=t}function Zl(t){Ve.call(this,"frameworkChanged"),this.f=t}function th(t){return t.gb||we(new E("auth-domain-config-required"))}function eh(t){if(!wr())return we(new E("operation-not-supported-in-this-environment"));var e=th(t).then((function(){return t.b.qa()})).then((function(t){return t?qr(t):null}));return uh(t,e)}function nh(t,e){var n={};return n.apiKey=t.app.options.apiKey,n.authDomain=t.app.options.authDomain,n.appName=t.app.name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return r=n,i=e,o=t.G,a=t.Ga(),s=new ll(r,i),o&&(s.ha=o),a&&pl(s,a),s.reload().then((function(){return s}));var r,i,o,a,s})).then((function(e){return oh(t)&&e.uid==oh(t).uid?Al(oh(t),e):(rh(t,e),wl(e)),t.da(e)})).then((function(){sh(t)}))}function rh(t,e){var n,r;oh(t)&&(n=oh(t),r=t.Ba,H(n.R,(function(t){return t==r})),en(oh(t),"tokenChanged",t.ya),en(oh(t),"userDeleted",t.za),en(oh(t),"userInvalidated",t.Aa),gl(oh(t))),e&&(e.R.push(t.Ba),Je(e,"tokenChanged",t.ya),Je(e,"userDeleted",t.za),Je(e,"userInvalidated",t.Aa),0<t.A&&yl(e)),Ur(t,"currentUser",e),e&&(e.wa(t.ka()),hl(e,t),pl(e,t.N),dl(e,t),Qa(e.a,t.f),fl(e,t))}function ih(t,e){var n=null,r=null;return uh(t,e.then((function(e){return n=Ao(e),r=Ui(e),nh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Xc(e.w(),t,m(t.jc,t))),n||e})).then((function(){return qr({user:oh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function oh(t){return t.currentUser}function ah(t){return oh(t)&&oh(t)._lat||null}function sh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](ah(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](ah(t))}}function uh(t,e){return t.R.push(e),e.na((function(){W(t.R,e)})),e}function ch(){}function lh(){this.a={},this.b=1e12}Bl.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in zu)if(zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(lr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Eu()&&"none"!==t)throw n;break;default:if(!br()&&"none"!==t)throw n}}(t),Xl(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,zl(n,t)})).then((function(){if(n.c=Hl(t),e)return n.b.set(n.c,e,n.a)})):be()}))},_(Yl,hn),_($l,Ve),_(Jl,Ve),_(Zl,Ve),(t=Yl.prototype).wb=function(t){return uh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Ka(this.a,this.aa),this.dispatchEvent(new $l(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");xr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&ar().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,Qa(this.a,this.f),this.dispatchEvent(new Jl(this.f))}},t.Fc=function(t){this.N.push(t),Ya(this.a,$a.SDK_VERSION?yr($a.SDK_VERSION,this.N):null),this.dispatchEvent(new Zl(this.N))},t.Ga=function(){return K(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:oh(this)&&oh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?m(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ih(i,hs(i.a,o))}))},t.Wc=function(t){if(!wr())return we(new E("operation-not-supported-in-this-environment"));var e=this,n=Fi(t.providerId),r=Nr(),i=null;(!Ir()||ur())&&this.app.options.authDomain&&t.isOAuthProvider&&(i=cu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",t,null,r,$a.SDK_VERSION||null,null,null,this.S(),this.f));var o=rr(i,n&&n.ua,n&&n.ta);return uh(this,n=th(this).then((function(n){return Ac(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new fe((function(t,n){e.ma("signInViaPopup",null,new E("cancelled-popup-request"),e.h),e.g=t,e.O=n,e.h=r,e.c=Pc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&nr(o),t?qr(t):null})).s((function(t){throw o&&nr(o),t})))},t.Xc=function(t){if(!wr())return we(new E("operation-not-supported-in-this-environment"));var e=this;return uh(this,th(this).then((function(){return Xl(t=e.l,(function(){return t.b.set(Wl,t.c.D,t.a)}));var t})).then((function(){return Oc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return eh(this).then((function(e){return t.b&&jc(t.b.b),e})).s((function(e){throw t.b&&jc(t.b.b),e}))},t.cd=function(t){if(!t)return we(new E("null-user"));if(this.W!=t.tenantId)return we(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,a,s,u=(r=t,i=n,o=e.G,a=e.Ga(),s=r.b,(n={})[Ba]=s.b&&s.b.toString(),n.refreshToken=s.a,i=new ll(i||{apiKey:r.l,authDomain:r.o,appName:r.m},n),o&&(i.ha=o),a&&pl(i,a),Al(i,r),i);return uh(this,this.i.then((function(){if(e.app.options.apiKey!=t.l)return u.reload()})).then((function(){return oh(e)&&t.uid==oh(e).uid?(Al(oh(e),t),e.da(t)):(rh(e,u),wl(u),e.da(u))})).then((function(){sh(e)})))},t.zb=function(){var t=this;return uh(this,this.i.then((function(){return t.b&&jc(t.b.b),oh(t)?(rh(t,null),Kl(t.l).then((function(){sh(t)}))):be()})))},t.Yc=function(){var t=this;return Ql(this.l,this.app.options.authDomain).then((function(e){if(!t.m){var n,r;if((r=oh(t)&&e)&&(r=oh(t).uid,n=e.uid,r=null!=r&&""!==r&&null!=n&&""!==n&&r==n),r)return Al(oh(t),e),oh(t).I();(oh(t)||e)&&(rh(t,e),e&&(wl(e),e.ha=t.G),t.b&&Sc(t.b,t),sh(t))}}))},t.da=function(t){return Gl(this.l,t)},t.kc=function(){sh(this),this.da(oh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return ih(e,be(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(oh(e))}))},t.zc=function(t){var e,n,r=this;n=function(){t.next(oh(r))},(e=this).P.push(n),uh(e,e.i.then((function(){!e.m&&z(e.P,n)&&e.X!==e.getUid()&&(e.X=e.getUid(),n(ah(e)))})))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(oh(r)):"function"==typeof t.next&&t.next(oh(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(oh(r)):"function"==typeof t.next&&t.next(oh(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return uh(this,this.i.then((function(){return oh(e)?oh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return ih(e,Qs(e.a,Bs,{token:t}))})).then((function(t){var n=t.user;return Nl(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return ih(n,Qs(n.a,zs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return ih(n,Qs(n.a,gs,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return ih(e,t.ja(e.a))}))},t.Rc=function(t){return jr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=oh(t);if(e&&e.isAnonymous){var n=qr({providerId:null,isNewUser:!1});return qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ih(t,t.a.yb()).then((function(e){var n=e.user;return Nl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return oh(this)&&oh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&oh(this)&&yl(oh(this))},t.Oc=function(t){var e=this;U(this.u,(function(n){n==t&&e.A--})),this.A<0&&(this.A=0),0==this.A&&oh(this)&&gl(oh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),uh(this,this.i.then((function(){e.m||z(e.u,t)&&t(ah(e))})))},t.removeAuthTokenListener=function(t){H(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Hl("local"),t.a,this.pa),this.b&&(Tc(this.b,this),jc(this.b.b)),Promise.resolve()},t.gc=function(t){return uh(this,Qs(this.a,ms,{identifier:t,continueUri:_r()?Zn():"http://localhost"}).then((function(t){return t.signinMethods||[]})))},t.Ac=function(t){return!!Eo(t)},t.vb=function(t,e){var n=this;return uh(this,be().then((function(){var t=new bi(e);if(!t.c)throw new E("argument-error",Ei+" must be true when sending sign in link to email");return Ci(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return uh(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return uh(this,this.a.Qa(t).then((function(t){return new Yr(t)})))},t.ib=function(t){return uh(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return uh(this,be().then((function(){return void 0===e||ut(e)?{}:Ci(new bi(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return uh(this,zc(this,t,e,m(this.Za,this)))},t.Uc=function(t,e){var n=this;return uh(this,be().then((function(){var r=e||Zn(),i=_o(t,r);if(!(r=Eo(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Za(i)})))},ch.prototype.render=function(){},ch.prototype.reset=function(){},ch.prototype.getResponse=function(){},ch.prototype.execute=function(){};var hh=null;function fh(t,e){return(e=ph(e))&&t.a[e]||null}function ph(t){return(t=void 0===t?1e12:t)?t.toString():null}function dh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Zt(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Je(this.f,"click",this.i)}function vh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function yh(){}function gh(){}lh.prototype.render=function(t,e){return this.a[this.b.toString()]=new dh(t,e),this.b++},lh.prototype.reset=function(t){var e=fh(this,t);t=ph(t),e&&t&&(e.delete(),delete this.a[t])},lh.prototype.getResponse=function(t){return(t=fh(this,t))?t.getResponse():null},lh.prototype.execute=function(t){(t=fh(this,t))&&t.execute()},dh.prototype.getResponse=function(){return vh(this),this.b},dh.prototype.execute=function(){vh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(e){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(e){}t.h&&t.execute()}),6e4)}),500))},dh.prototype.delete=function(){vh(this),this.g=!0,clearTimeout(this.a),this.a=null,en(this.f,"click",this.i)},Ur(yh,"FACTOR_ID","phone"),gh.prototype.g=function(){return be(hh=hh||new lh)},gh.prototype.c=function(){};var mh=null;function bh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var wh=new pt(yt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_h=new Or(3e4,6e4);bh.prototype.g=function(t){var e=this;return new fe((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),_h.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){var o;a.grecaptcha?(e.f=t,o=a.grecaptcha.render,a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)):(clearTimeout(i),r(new E("internal-error"))),delete a[e.a]},be(Ra(wt(wh,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},bh.prototype.c=function(){this.b--};var Eh=null;function Ih(t,e,n,r,i,o,s){if(Ur(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s=s?mh=mh||new gh:Eh=Eh||new bh,this.v=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[kh])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Nh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Zt(e)||!this.i&&Zt(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Va(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Sh];this.a[Sh]=function(t){var e;Ah(u,t),"function"==typeof c?c(t):"string"!=typeof c||"function"==typeof(e=mr(c,a))&&e(t)};var l=this.a[Th];this.a[Th]=function(){var t;Ah(u,null),"function"==typeof l?l():"string"!=typeof l||"function"==typeof(t=mr(l,a))&&t()}}var Sh="callback",Th="expired-callback",kh="sitekey",Nh="size";function Ah(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ch(t,e){return t.h.push(e),e.na((function(){W(t.h,e)})),e}function Oh(t){if(t.A)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ph(t,e,n){var r=!1;try{this.b=n||$a.app()}catch(t){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=$a.SDK_VERSION?yr($a.SDK_VERSION,o):null,Ih.call(this,n,t,e,(function(){try{var e=i.b.auth().ka()}catch(t){e=null}return e}),o,A(S),r)}function xh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],i<0||i>=Rh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Rh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=Ih.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ch(this,be().then((function(){if(_r()&&!cr())return ar();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,Qs(t.o,Ps,{})})).then((function(e){t.a[kh]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Oh(this);var t=this;return Ch(this,this.Ia().then((function(){var e,n;return null===t.c&&(n=t.m,t.i||(e=Zt(n),n=ie("DIV"),e.appendChild(n)),t.c=t.g.render(n,t.a)),t.c})))},t.verify=function(){Oh(this);var t=this;return Ch(this,this.render().then((function(e){return new fe((function(n){var r,i=t.g.getResponse(e);i?n(i):(r=function(e){var i;e&&(i=r,H(t.l,(function(t){return t==i})),n(e))},t.l.push(r),t.i&&t.g.execute(t.c))}))})))},t.reset=function(){Oh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Oh(this),this.A=!0,this.v.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(e=Zt(this.m);t=e.firstChild;)e.removeChild(t)},_(Ph,Ih);var Rh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Dh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Lh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Mh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function jh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Fh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Uh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Vh(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}}function qh(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Bh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function zh(t){return p(t)&&"string"==typeof t.uid}function Wh(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}}function Hh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Gh(t,e){for(var n in e){var r=e[n].name;t[r]=Xh(r,t[n],e[n].j)}}function Kh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){xh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function Qh(t,e,n,r){t[e]=Xh(e,n,r)}function Xh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return xh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=(t=t.split("."))[t.length-1];for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Gh(Yl.prototype,{ib:{name:"applyActionCode",j:[Dh("code")]},Qa:{name:"checkActionCode",j:[Dh("code")]},mb:{name:"confirmPasswordReset",j:[Dh("code"),Dh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Dh("email"),Dh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Dh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Dh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Hh(Mh(),jh(),"nextOrObserver"),jh("opt_error",!0),jh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Hh(Mh(),jh(),"nextOrObserver"),jh("opt_error",!0),jh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Dh("email"),Hh(Mh("opt_actionCodeSettings",!0),Fh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Dh("email"),Mh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Dh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Uh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Uh()]},Sc:{name:"signInWithCustomToken",j:[Dh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Dh("email"),Dh("password")]},Uc:{name:"signInWithEmailLink",j:[Dh("email"),Dh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Dh("phoneNumber"),Wh()]},Wc:{name:"signInWithPopup",j:[qh()]},Xc:{name:"signInWithRedirect",j:[qh()]},cd:{name:"updateCurrentUser",j:[Hh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ll)}},Fh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Dh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Dh("url")]},hd:{name:"verifyPasswordResetCode",j:[Dh("code")]}}),Kh(Yl.prototype,{lc:{name:"languageCode",jb:Hh(Dh(),Fh(),"languageCode")},ti:{name:"tenantId",jb:Hh(Dh(),Fh(),"tenantId")}}),(Yl.Persistence=zu).LOCAL="local",Yl.Persistence.SESSION="session",Yl.Persistence.NONE="none",Gh(ll.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Lh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Lh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Uh()]},pb:{name:"linkWithCredential",j:[Uh()]},Cc:{name:"linkWithPhoneNumber",j:[Dh("phoneNumber"),Wh()]},Dc:{name:"linkWithPopup",j:[qh()]},Ec:{name:"linkWithRedirect",j:[qh()]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Uh()]},sb:{name:"reauthenticateWithCredential",j:[Uh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Dh("phoneNumber"),Wh()]},Mc:{name:"reauthenticateWithPopup",j:[qh()]},Nc:{name:"reauthenticateWithRedirect",j:[qh()]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Hh(Mh("opt_actionCodeSettings",!0),Fh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Dh(null,!0)]},bd:{name:"unlink",j:[Dh("provider")]},Ab:{name:"updateEmail",j:[Dh("email")]},Bb:{name:"updatePassword",j:[Dh("password")]},dd:{name:"updatePhoneNumber",j:[Uh("phone")]},Cb:{name:"updateProfile",j:[Mh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Dh("email"),Hh(Mh("opt_actionCodeSettings",!0),Fh(null,!0),"opt_actionCodeSettings",!0)]}}),Gh(lh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Gh(ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Gh(fe.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Kh(qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Lh("appVerificationDisabledForTesting")}}),Gh(Bc.prototype,{confirm:{name:"confirm",j:[Dh("verificationCode")]}}),Qh(Ji,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[oo,bo,So,no],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Hh(Dh(),Mh(),"json")]),Qh(wo,"credential",(function(t,e){return new mo(t,e)}),[Dh("email"),Dh("password")]),Gh(mo.prototype,{w:{name:"toJSON",j:[Dh(null,!0)]}}),Gh(co.prototype,{Ca:{name:"addScope",j:[Dh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Qh(co,"credential",lo,[Hh(Dh(),Mh(),"token")]),Qh(wo,"credentialWithLink",_o,[Dh("email"),Dh("emailLink")]),Gh(ho.prototype,{Ca:{name:"addScope",j:[Dh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Qh(ho,"credential",fo,[Hh(Dh(),Mh(),"token")]),Gh(po.prototype,{Ca:{name:"addScope",j:[Dh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Qh(po,"credential",vo,[Hh(Dh(),Hh(Mh(),Fh()),"idToken"),Hh(Dh(),Fh(),"accessToken",!0)]),Gh(yo.prototype,{Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Qh(yo,"credential",go,[Hh(Dh(),Mh(),"token"),Dh("secret",!0)]),Gh(uo.prototype,{Ca:{name:"addScope",j:[Dh("scope")]},credential:{name:"credential",j:[Hh(Dh(),Hh(Mh(),Fh()),"optionsOrIdToken"),Hh(Dh(),Fh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Gh(ro.prototype,{w:{name:"toJSON",j:[Dh(null,!0)]}}),Gh(to.prototype,{w:{name:"toJSON",j:[Dh(null,!0)]}}),Qh(ko,"credential",No,[Dh("verificationId"),Dh("verificationCode")]),Gh(ko.prototype,{eb:{name:"verifyPhoneNumber",j:[Hh(Dh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Bh(t.session,Yi)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Bh(t.session,$i)&&zh(t.multiFactorHint):t.session&&t.multiFactorUid?Bh(t.session,$i)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Wh()]}}),Gh(Io.prototype,{w:{name:"toJSON",j:[Dh(null,!0)]}}),Gh(E.prototype,{toJSON:{name:"toJSON",j:[Dh(null,!0)]}}),Gh(Mo.prototype,{toJSON:{name:"toJSON",j:[Dh(null,!0)]}}),Gh(Lo.prototype,{toJSON:{name:"toJSON",j:[Dh(null,!0)]}}),Gh(Qc.prototype,{toJSON:{name:"toJSON",j:[Dh(null,!0)]}}),Gh(Hc.prototype,{Qc:{name:"resolveSignIn",j:[Vh()]}}),Gh(tl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[Vh(),Dh("displayName",!0)]},ad:{name:"unenroll",j:[Hh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:zh},Dh(),"multiFactorInfoIdentifier")]}}),Gh(Ph.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qh(li,"parseLink",mi,[Dh("link")]),Qh(yh,"assertion",(function(t){return new Jc(t)}),[Uh("phone")]),function(){if(void 0===$a||!$a.INTERNAL||!$a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Jr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:$r,VERIFY_AND_CHANGE_EMAIL:Zr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Yl,AuthCredential:Ji,Error:E};Qh(t,"EmailAuthProvider",wo,[]),Qh(t,"FacebookAuthProvider",co,[]),Qh(t,"GithubAuthProvider",ho,[]),Qh(t,"GoogleAuthProvider",po,[]),Qh(t,"TwitterAuthProvider",yo,[]),Qh(t,"OAuthProvider",uo,[Dh("providerId")]),Qh(t,"SAMLAuthProvider",so,[Dh("providerId")]),Qh(t,"PhoneAuthProvider",ko,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Yl)}}]),Qh(t,"RecaptchaVerifier",Ph,[Hh(Dh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Mh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof $a.app.App)}}]),Qh(t,"ActionCodeURL",li,[]),Qh(t,"PhoneMultiFactorGenerator",yh,[]),$a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Yl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),$a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:m((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:m(t.mc,t),addAuthTokenListener:m(t.cc,t),removeAuthTokenListener:m(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),$a.registerVersion("@firebase/auth","0.15.0"),$a.INTERNAL.extendNamespace({User:ll})}()}.apply("undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ja=(Za.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Jo(e))},Za.prototype.get=function(t){return null==(t=this.domStorage_.getItem(this.prefixedName_(t)))?null:$o(t)},Za.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},Za.prototype.prefixedName_=function(t){return this.prefix_+t},Za.prototype.toString=function(){return this.domStorage_.toString()},Za);function Za(t){this.domStorage_=t,this.prefix_="firebase:"}var ts=(es.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},es.prototype.get=function(t){return ta(this.cache_,t)?this.cache_[t]:null},es.prototype.remove=function(t){delete this.cache_[t]},es);function es(){this.cache_={},this.isInMemoryStorage=!0}function ns(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i,o=t.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,Co(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(t.charCodeAt(r)-56320)),o<128?e[n++]=o:(o<2048?e[n++]=o>>6|192:(o<65536?e[n++]=o>>12|224:(e[n++]=o>>18|240,e[n++]=o>>12&63|128),e[n++]=o>>6&63|128),e[n++]=63&o|128)}return e}(t);return(t=new ia).update(e),t=t.digest(),Po.encodeByteArray(t)}function rs(t,e){Co(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(ds.logLevel=Aa.VERBOSE,gs=ds.log.bind(ds),e&&ps.set("logging_enabled",!0)):"function"==typeof t?gs=t:(gs=null,ps.remove("logging_enabled"))}function is(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+ys.apply(void 0,So(t));ds.error(n)}function os(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+ys.apply(void 0,So(t));throw ds.error(n),new Error(n)}function as(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+ys.apply(void 0,So(t));ds.warn(n)}function ss(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)}function us(t,e){return t===e?0:t<e?-1:1}function cs(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Jo(e))}function ls(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)n<i+e?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r}Dr=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ja(e)}}catch(t){}return new ts};var hs,fs=Dr("localStorage"),ps=Dr("sessionStorage"),ds=new Da("@firebase/database"),vs=(hs=1,function(){return hs++}),ys=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=t.apply(null,o):r+="object"==typeof o?Jo(o):o,r+=" "}return r},gs=null,ms=!0,bs=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!0===ms&&(ms=!1,null===gs&&!0===ps.get("logging_enabled")&&rs(!0)),gs&&(t=ys.apply(null,e),gs(t))},ws=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];bs.apply(void 0,So([t],e))}},_s="[MIN_NAME]",Es="[MAX_NAME]",Is=function(t,e){if(t===e)return 0;if(t===_s||e===Es)return-1;if(e===_s||t===Es)return 1;var n=Os(t),r=Os(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null===r&&t<e?-1:1},Ss=function t(e){if("object"!=typeof e||null===e)return Jo(e);var n,r=[];for(n in e)r.push(n);r.sort();for(var i="{",o=0;o<r.length;o++)0!==o&&(i+=","),i+=Jo(r[o]),i+=":",i+=t(e[r[o]]);return i+"}"};function Ts(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function ks(t){var e,n,r,i;Co(!ss(t),"Invalid JSON number"),0===t?e=1/t==-1/(r=n=0)?1:0:(e=t<0,r=(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(t/Math.pow(2,-1074))));for(var o=[],a=52;a;--a)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;--a)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()}function Ns(t){try{t()}catch(s){setTimeout((function(){throw as("Exception was thrown by user callback.",s.stack||""),s}),Math.floor(0))}}function As(t,e){return"object"==typeof(e=setTimeout(t,e))&&e.unref&&e.unref(),e}var Cs=new RegExp("^-?(0*)\\d{1,10}$"),Os=function(t){return Cs.test(t)&&-2147483648<=(t=Number(t))&&t<=2147483647?t:null},Ps=(Object.defineProperty(xs,"Empty",{get:function(){return new xs("")},enumerable:!1,configurable:!0}),xs.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},xs.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},xs.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new xs(this.pieces_,t)},xs.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},xs.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},xs.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},xs.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},xs.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],e=this.pieceNum_;e<this.pieces_.length-1;e++)t.push(this.pieces_[e]);return new xs(t,0)},xs.prototype.child=function(t){for(var e=[],n=this.pieceNum_;n<this.pieces_.length;n++)e.push(this.pieces_[n]);if(t instanceof xs)for(n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{var r=t.split("/");for(n=0;n<r.length;n++)0<r[n].length&&e.push(r[n])}return new xs(e,0)},xs.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},xs.relativePath=function(t,e){var n=t.getFront(),r=e.getFront();if(null===n)return e;if(n===r)return xs.relativePath(t.popFront(),e.popFront());throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")},xs.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=Is(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},xs.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},xs.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},xs);function xs(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}var Rs=(Object.defineProperty(Ds,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(Ds,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),Ds.prototype.push=function(t){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=da(t),this.checkValid_()},Ds.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=da(t),0<this.parts_.length&&--this.byteLength_},Ds.prototype.checkValid_=function(){if(this.byteLength_>Ds.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+Ds.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>Ds.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ds.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},Ds.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},Ds);function Ds(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=da(this.parts_[n]);this.checkValid_()}var Ls="firebaseio.com",Ms="websocket",js="long_polling",Fs=(Us.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},Us.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},Us.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},Us.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},Us.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&fs.set("host:"+this.host,this.internalHost))},Us.prototype.connectionURL=function(t,e){var n;if(Co("string"==typeof t,"typeof type must == string"),Co("object"==typeof e,"typeof params must == object"),t===Ms)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==js)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return Ts(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},Us.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},Us.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},Us);function Us(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=fs.get("host:"+t)||this.host}function Vs(t,e){var n=Js(t),r=n.namespace;return"firebase.com"===n.domain&&os(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||os("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&as("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),t="ws"===n.scheme||"wss"===n.scheme,{repoInfo:new Fs(n.host,n.secure,r,e,t,"",r!==n.subdomain),path:new Ps(n.pathString)}}function qs(t){return"string"==typeof t&&0!==t.length&&!Zs.test(t)}function Bs(t){return"string"==typeof t&&0!==t.length&&!tu.test(t)}function zs(t){return null===t||"string"==typeof t||"number"==typeof t&&!ss(t)||t&&"object"==typeof t&&ta(t,".sv")}function Ws(t,e,n,r,i){i&&void 0===n||nu(ha(t,e,i),n,r)}function Hs(t,e,n,r,i){if(!i||void 0!==n){var o=ha(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];Ts(n,(function(t,e){if(t=new Ps(t),nu(o,e,r.child(t)),".priority"===t.getBack()&&!zs(e))throw new Error(o+"contains an invalid value for '"+t.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(t)})),function(t,e){for(var n,r=0;r<e.length;r++)for(var i=(n=e[r]).slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!qs(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Ps.comparePaths);var a=null;for(r=0;r<e.length;r++){if(n=e[r],null!==a&&a.contains(n))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+n.toString());a=n}}(o,a)}}function Gs(t,e,n,r){if(!r||void 0!==n){if(ss(n))throw new Error(ha(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zs(n))throw new Error(ha(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function Ks(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ha(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Qs(t,e,n,r){if(!(r&&void 0===n||qs(n)))throw new Error(ha(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Xs(t,e,n,r){if(!(r&&void 0===n||Bs(n)))throw new Error(ha(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Ys(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")}function $s(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!qs(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!Bs(r=r&&r.replace(/^\/*\.info(\/|$)/,"/")))throw new Error(ha(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}var Js=function(t){var e,n,r,i="",o="",a="",s="",u="",c=!0,l="https",h=443;return"string"==typeof t&&(0<=(r=t.indexOf("//"))&&(l=t.substring(0,r-1),t=t.substring(r+2)),-1===(e=t.indexOf("/"))&&(e=t.length),-1===(n=t.indexOf("?"))&&(n=t.length),i=t.substring(0,Math.min(e,n)),e<n&&(s=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(e,n))),n=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Eo(t.split("&")),o=i.next();!o.done;o=i.next()){var a,s=o.value;0!==s.length&&(2===(a=s.split("=")).length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):as("Invalid query segment '"+s+"' in query '"+t+"'"))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,n))),0<=(r=i.indexOf(":"))?(c="https"===l||"wss"===l,h=parseInt(i.substring(r+1),10)):r=i.length,"localhost"===(r=i.slice(0,r)).toLowerCase()?o="localhost":r.split(".").length<=2?o=r:(r=i.indexOf("."),a=i.substring(0,r).toLowerCase(),o=i.substring(r+1),u=a),"ns"in n&&(u=n.ns)),{host:i,port:h,domain:o,subdomain:a,secure:c,scheme:l,pathString:s,namespace:u}},Zs=/[\[\].#$\/\u0000-\u001F\u007F]/,tu=/[\[\].#$\u0000-\u001F\u007F]/,eu=10485760,nu=function t(e,n,r){var i=r instanceof Ps?new Rs(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(ss(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>eu/3&&da(n)>eu)throw new Error(e+"contains a string greater than "+eu+" utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(Ts(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!qs(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),o&&a)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ru=(iu.prototype.cancel=function(t){la("OnDisconnect.cancel",0,1,arguments.length),fa("OnDisconnect.cancel",1,t,!0);var e=new Do;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},iu.prototype.remove=function(t){la("OnDisconnect.remove",0,1,arguments.length),Ys("OnDisconnect.remove",this.path_),fa("OnDisconnect.remove",1,t,!0);var e=new Do;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},iu.prototype.set=function(t,e){la("OnDisconnect.set",1,2,arguments.length),Ys("OnDisconnect.set",this.path_),Ws("OnDisconnect.set",1,t,this.path_,!1),fa("OnDisconnect.set",2,e,!0);var n=new Do;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},iu.prototype.setWithPriority=function(t,e,n){la("OnDisconnect.setWithPriority",2,3,arguments.length),Ys("OnDisconnect.setWithPriority",this.path_),Ws("OnDisconnect.setWithPriority",1,t,this.path_,!1),Gs("OnDisconnect.setWithPriority",2,e,!1),fa("OnDisconnect.setWithPriority",3,n,!0);var r=new Do;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},iu.prototype.update=function(t,e){if(la("OnDisconnect.update",1,2,arguments.length),Ys("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,as("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Hs("OnDisconnect.update",1,t,this.path_,!1),fa("OnDisconnect.update",2,e,!0);var i=new Do;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},iu);function iu(t,e){this.repo_=t,this.path_=e}var ou=(au.prototype.toJSON=function(){return la("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},au);function au(t,e){this.committed=t,this.snapshot=e}var su,uu,cu,lu,hu=(su="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",uu=0,cu=[],function(t){var e=t===uu;uu=t;for(var n=new Array(8),r=7;0<=r;r--)n[r]=su.charAt(t%64),t=Math.floor(t/64);Co(0===t,"Cannot push at time == 0");var i=n.join("");if(e){for(r=11;0<=r&&63===cu[r];r--)cu[r]=0;cu[r]++}else for(r=0;r<12;r++)cu[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=su.charAt(cu[r]);return Co(20===i.length,"nextPushId: Length should be 20."),i}),fu=(pu.Wrap=function(t,e){return new pu(t,e)},pu);function pu(t,e){this.name=t,this.node=e}function du(){}du.prototype.getCompare=function(){return this.compare.bind(this)},du.prototype.indexedValueChanged=function(t,e){return t=new fu(_s,t),e=new fu(_s,e),0!==this.compare(t,e)},du.prototype.minPost=function(){return fu.MIN};var vu,yu=(mo(gu,vu=G=du),Object.defineProperty(gu,"__EMPTY_NODE",{get:function(){return lu},set:function(t){lu=t},enumerable:!1,configurable:!0}),gu.prototype.compare=function(t,e){return Is(t.name,e.name)},gu.prototype.isDefinedOn=function(t){throw Oo("KeyIndex.isDefinedOn not expected to be called.")},gu.prototype.indexedValueChanged=function(t,e){return!1},gu.prototype.minPost=function(){return fu.MIN},gu.prototype.maxPost=function(){return new fu(Es,lu)},gu.prototype.makePost=function(t,e){return Co("string"==typeof t,"KeyIndex indexValue must always be a string."),new fu(t,lu)},gu.prototype.toString=function(){return".key"},gu);function gu(){return null!==vu&&vu.apply(this,arguments)||this}var mu,bu=new yu;function wu(t){return"number"==typeof t?"number:"+ks(t):"string:"+t}var _u,Eu,Iu,Su,Tu=function(t){var e;t.isLeafNode()?(e=t.val(),Co("string"==typeof e||"number"==typeof e||"object"==typeof e&&ta(e,".sv"),"Priority must be a string or number.")):Co(t===mu||t.isEmpty(),"priority of unexpected type."),Co(t===mu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ku=(Object.defineProperty(Nu,"__childrenNodeConstructor",{get:function(){return _u},set:function(t){_u=t},enumerable:!1,configurable:!0}),Nu.prototype.isLeafNode=function(){return!0},Nu.prototype.getPriority=function(){return this.priorityNode_},Nu.prototype.updatePriority=function(t){return new Nu(this.value_,t)},Nu.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:Nu.__childrenNodeConstructor.EMPTY_NODE},Nu.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:Nu.__childrenNodeConstructor.EMPTY_NODE},Nu.prototype.hasChild=function(){return!1},Nu.prototype.getPredecessorChildName=function(t,e){return null},Nu.prototype.updateImmediateChild=function(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:Nu.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)},Nu.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:e.isEmpty()&&".priority"!==n?this:(Co(".priority"!==n||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,Nu.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),e)))},Nu.prototype.isEmpty=function(){return!1},Nu.prototype.numChildren=function(){return 0},Nu.prototype.forEachChild=function(t,e){return!1},Nu.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},Nu.prototype.hash=function(){var t,e;return null===this.lazyHash_&&(t="",this.priorityNode_.isEmpty()||(t+="priority:"+wu(this.priorityNode_.val())+":"),t+=(e=typeof this.value_)+":",t+="number"==e?ks(this.value_):this.value_,this.lazyHash_=ns(t)),this.lazyHash_},Nu.prototype.getValue=function(){return this.value_},Nu.prototype.compareTo=function(t){return t===Nu.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Nu.__childrenNodeConstructor?-1:(Co(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},Nu.prototype.compareToLeafNode_=function(t){var e=typeof t.value_,n=typeof this.value_,r=Nu.VALUE_TYPE_ORDER.indexOf(e),i=Nu.VALUE_TYPE_ORDER.indexOf(n);return Co(0<=r,"Unknown leaf type: "+e),Co(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-r},Nu.prototype.withIndex=function(){return this},Nu.prototype.isIndexed=function(){return!0},Nu.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},Nu.VALUE_TYPE_ORDER=["object","boolean","number","string"],Nu);function Nu(t,e){void 0===e&&(e=Nu.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=e,this.lazyHash_=null,Co(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Tu(this.priorityNode_)}function Au(){return null!==Su&&Su.apply(this,arguments)||this}var Cu=new(mo(Au,Su=G),Au.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority();return 0===(r=n.compareTo(r))?Is(t.name,e.name):r},Au.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},Au.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},Au.prototype.minPost=function(){return fu.MIN},Au.prototype.maxPost=function(){return new fu(Es,new ku("[PRIORITY-POST]",Iu))},Au.prototype.makePost=function(t,e){return t=Eu(t),new fu(e,new ku("[PRIORITY-POST]",t))},Au.prototype.toString=function(){return".priority"},Au),Ou=(Pu.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_.pop(),e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value};if(this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},Pu.prototype.hasNext=function(){return 0<this.nodeStack_.length},Pu.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},Pu);function Pu(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}var xu=(Ru.prototype.copy=function(t,e,n,r,i){return new Ru(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Ru.prototype.count=function(){return this.left.count()+1+this.right.count()},Ru.prototype.isEmpty=function(){return!1},Ru.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},Ru.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},Ru.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},Ru.prototype.minKey=function(){return this.min_().key},Ru.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Ru.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},Ru.prototype.removeMin_=function(){if(this.left.isEmpty())return Lu.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},Ru.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()||(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),r.right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()||(r=r.moveRedRight_()),0===e(t,r.key)){if(r.right.isEmpty())return Lu.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp_()},Ru.prototype.isRed_=function(){return this.color},Ru.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},Ru.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},Ru.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},Ru.prototype.rotateLeft_=function(){var t=this.copy(null,null,Ru.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Ru.prototype.rotateRight_=function(){var t=this.copy(null,null,Ru.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Ru.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Ru.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},Ru.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},Ru.RED=!0,Ru.BLACK=!1,Ru);function Ru(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Ru.RED,this.left=null!=r?r:Lu.EMPTY_NODE,this.right=null!=i?i:Lu.EMPTY_NODE}function Du(){}Du.prototype.copy=function(t,e,n,r,i){return this},Du.prototype.insert=function(t,e,n){return new xu(t,e,null)},Du.prototype.remove=function(t,e){return this},Du.prototype.count=function(){return 0},Du.prototype.isEmpty=function(){return!0},Du.prototype.inorderTraversal=function(t){return!1},Du.prototype.reverseTraversal=function(t){return!1},Du.prototype.minKey=function(){return null},Du.prototype.maxKey=function(){return null},Du.prototype.check_=function(){return 0},Du.prototype.isRed_=function(){return!1},j=Du;var Lu=(Mu.prototype.insert=function(t,e){return new Mu(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,xu.BLACK,null,null))},Mu.prototype.remove=function(t){return new Mu(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,xu.BLACK,null,null))},Mu.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:0<e&&(n=n.right)}return null},Mu.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:0<e&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},Mu.prototype.isEmpty=function(){return this.root_.isEmpty()},Mu.prototype.count=function(){return this.root_.count()},Mu.prototype.minKey=function(){return this.root_.minKey()},Mu.prototype.maxKey=function(){return this.root_.maxKey()},Mu.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},Mu.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},Mu.prototype.getIterator=function(t){return new Ou(this.root_,null,this.comparator_,!1,t)},Mu.prototype.getIteratorFrom=function(t,e){return new Ou(this.root_,t,this.comparator_,!1,e)},Mu.prototype.getReverseIteratorFrom=function(t,e){return new Ou(this.root_,t,this.comparator_,!0,e)},Mu.prototype.getReverseIterator=function(t){return new Ou(this.root_,null,this.comparator_,!0,t)},Mu.EMPTY_NODE=new j,Mu);function Mu(t,e){void 0===e&&(e=Mu.EMPTY_NODE),this.comparator_=t,this.root_=e}var ju=Math.log(2),Fu=(Uu.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},Uu);function Uu(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/ju,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}var Vu,qu,Bu=function(t,e,n,r){t.sort(e);var i=function e(r,i){if(0==(o=i-r))return null;if(1==o)return a=t[r],s=n?n(a):a,new xu(s,a.node,xu.BLACK,null,null);r=e(r,o=parseInt(o/2,10)+r),i=e(o+1,i);var o,a=t[o],s=n?n(a):a;return new xu(s,a.node,xu.BLACK,r,i)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e,e=i(1+o,s),s=t[o],o=n?n(s):s,u(new xu(o,s.node,r,null,e))},u=function(t){r=r?r.left=t:o=t},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,xu.BLACK):(s(h,xu.BLACK),s(h,xu.RED))}return o}(new Fu(t.length));return new Lu(r||e,o)},zu={},Wu=(Object.defineProperty(Hu,"Default",{get:function(){return Co(Cu,"ChildrenNode.ts has not been loaded"),Vu=Vu||new Hu({".priority":zu},{".priority":Cu})},enumerable:!1,configurable:!0}),Hu.prototype.get=function(t){var e=ea(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Lu?e:null},Hu.prototype.hasIndex=function(t){return ta(this.indexSet_,t.toString())},Hu.prototype.addIndex=function(t,e){Co(t!==bu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n,r=[],i=!1,o=e.getIterator(fu.Wrap),a=o.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=o.getNext();n=i?Bu(r,t.getCompare()):zu;var s=t.toString(),u=bo({},this.indexSet_);return u[s]=t,(e=bo({},this.indexes_))[s]=n,new Hu(e,u)},Hu.prototype.addToIndexes=function(t,e){var n=this;return new Hu(ra(this.indexes_,(function(r,i){var o=ea(n.indexSet_,i);if(Co(o,"Missing index implementation for "+i),r===zu){if(o.isDefinedOn(t.node)){for(var a=[],s=e.getIterator(fu.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),Bu(a,o.getCompare())}return zu}return(o=e.get(t.name))&&(r=r.remove(new fu(t.name,o))),r.insert(t,t.node)})),this.indexSet_)},Hu.prototype.removeFromIndexes=function(t,e){return new Hu(ra(this.indexes_,(function(n){if(n===zu)return n;var r=e.get(t.name);return r?n.remove(new fu(t.name,r)):n})),this.indexSet_)},Hu);function Hu(t,e){this.indexes_=t,this.indexSet_=e}function Gu(t,e){return Is(t.name,e.name)}function Ku(t,e){return Is(t,e)}var Qu,Xu=(Object.defineProperty(Yu,"EMPTY_NODE",{get:function(){return qu=qu||new Yu(new Lu(Ku),null,Wu.Default)},enumerable:!1,configurable:!0}),Yu.prototype.isLeafNode=function(){return!1},Yu.prototype.getPriority=function(){return this.priorityNode_||qu},Yu.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new Yu(this.children_,t,this.indexMap_)},Yu.prototype.getImmediateChild=function(t){return".priority"===t?this.getPriority():null===(t=this.children_.get(t))?qu:t},Yu.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},Yu.prototype.hasChild=function(t){return null!==this.children_.get(t)},Yu.prototype.updateImmediateChild=function(t,e){if(Co(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);var n=new fu(t,e),r=void 0,i=void 0;return i=e.isEmpty()?(r=this.children_.remove(t),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(t,e),this.indexMap_.addToIndexes(n,this.children_)),n=r.isEmpty()?qu:this.priorityNode_,new Yu(r,n,i)},Yu.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:(Co(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path"),e=this.getImmediateChild(n).updateChild(t.popFront(),e),this.updateImmediateChild(n,e))},Yu.prototype.isEmpty=function(){return this.children_.isEmpty()},Yu.prototype.numChildren=function(){return this.children_.count()},Yu.prototype.val=function(t){if(this.isEmpty())return null;var e={},n=0,r=0,i=!0;if(this.forEachChild(Cu,(function(o,a){e[o]=a.val(t),n++,i&&Yu.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!t&&i&&r<2*n){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e},Yu.prototype.hash=function(){var t;return null===this.lazyHash_&&(t="",this.getPriority().isEmpty()||(t+="priority:"+wu(this.getPriority().val())+":"),this.forEachChild(Cu,(function(e,n){""!==(n=n.hash())&&(t+=":"+e+":"+n)})),this.lazyHash_=""===t?"":ns(t)),this.lazyHash_},Yu.prototype.getPredecessorChildName=function(t,e,n){return(n=this.resolveIndex_(n))?(e=n.getPredecessorKey(new fu(t,e)))?e.name:null:this.children_.getPredecessorKey(t)},Yu.prototype.getFirstChildName=function(t){return(t=this.resolveIndex_(t))?(t=t.minKey())&&t.name:this.children_.minKey()},Yu.prototype.getFirstChild=function(t){return(t=this.getFirstChildName(t))?new fu(t,this.children_.get(t)):null},Yu.prototype.getLastChildName=function(t){return(t=this.resolveIndex_(t))?(t=t.maxKey())&&t.name:this.children_.maxKey()},Yu.prototype.getLastChild=function(t){return(t=this.getLastChildName(t))?new fu(t,this.children_.get(t)):null},Yu.prototype.forEachChild=function(t,e){return(t=this.resolveIndex_(t))?t.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},Yu.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},Yu.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,fu.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},Yu.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},Yu.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,fu.Wrap),i=r.peek();null!=i&&0<e.compare(i,t);)r.getNext(),i=r.peek();return r},Yu.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ju?-1:0},Yu.prototype.withIndex=function(t){return t===bu||this.indexMap_.hasIndex(t)?this:(t=this.indexMap_.addIndex(t,this.children_),new Yu(this.children_,this.priorityNode_,t))},Yu.prototype.isIndexed=function(t){return t===bu||this.indexMap_.hasIndex(t)},Yu.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()!==t.children_.count())return!1;for(var e=this.getIterator(Cu),n=t.getIterator(Cu),r=e.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1},Yu.prototype.resolveIndex_=function(t){return t===bu?null:this.indexMap_.get(t.toString())},Yu.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,Yu);function Yu(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Tu(this.priorityNode_),this.children_.isEmpty()&&Co(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function $u(){return Qu.call(this,new Lu(Ku),Xu.EMPTY_NODE,Wu.Default)||this}var Ju=new(mo($u,Qu=Xu),$u.prototype.compareTo=function(t){return t===this?0:1},$u.prototype.equals=function(t){return t===this},$u.prototype.getPriority=function(){return this},$u.prototype.getImmediateChild=function(t){return Xu.EMPTY_NODE},$u.prototype.isEmpty=function(){return!1},$u);Object.defineProperties(fu,{MIN:{value:new fu(_s,Xu.EMPTY_NODE)},MAX:{value:new fu(Es,Ju)}}),yu.__EMPTY_NODE=Xu.EMPTY_NODE,ku.__childrenNodeConstructor=Xu,mu=Ju,Iu=Ju;var Zu,tc=!0;function ec(t,e){if(void 0===e&&(e=null),null===t)return Xu.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Co(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new ku(t,ec(e));if(t instanceof Array||!tc){var n=Xu.EMPTY_NODE;return Ts(t,(function(e,r){ta(t,e)&&"."!==e.substring(0,1)&&(!(r=ec(r)).isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r)))})),n.updatePriority(ec(e))}var r=[],i=!1;if(Ts(t,(function(t,e){"."!==t.substring(0,1)&&((e=ec(e)).isEmpty()||(i=i||!e.getPriority().isEmpty(),r.push(new fu(t,e))))})),0===r.length)return Xu.EMPTY_NODE;var o=Bu(r,Gu,(function(t){return t.name}),Ku);if(i){var a=Bu(r,Cu.getCompare());return new Xu(o,ec(e),new Wu({".priority":a},{".priority":Cu}))}return new Xu(o,ec(e),Wu.Default)}function nc(){return null!==Zu&&Zu.apply(this,arguments)||this}Eu=ec;var rc,ic=new(mo(nc,Zu=G),nc.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?Is(t.name,e.name):n},nc.prototype.isDefinedOn=function(t){return!0},nc.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},nc.prototype.minPost=function(){return fu.MIN},nc.prototype.maxPost=function(){return fu.MAX},nc.prototype.makePost=function(t,e){return t=ec(t),new fu(e,t)},nc.prototype.toString=function(){return".value"},nc),oc=(mo(ac,rc=G),ac.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},ac.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},ac.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node);return 0===(r=n.compareTo(r))?Is(t.name,e.name):r},ac.prototype.makePost=function(t,e){return t=ec(t),t=Xu.EMPTY_NODE.updateChild(this.indexPath_,t),new fu(e,t)},ac.prototype.maxPost=function(){var t=Xu.EMPTY_NODE.updateChild(this.indexPath_,Ju);return new fu(Es,t)},ac.prototype.toString=function(){return this.indexPath_.slice().join("/")},ac);function ac(t){var e=rc.call(this)||this;return e.indexPath_=t,Co(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),e}var sc=(uc.prototype.val=function(){return la("DataSnapshot.val",0,0,arguments.length),this.node_.val()},uc.prototype.exportVal=function(){return la("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},uc.prototype.toJSON=function(){return la("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},uc.prototype.exists=function(){return la("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},uc.prototype.child=function(t){la("DataSnapshot.child",0,1,arguments.length),Xs("DataSnapshot.child",1,t=String(t),!1);var e=new Ps(t);return t=this.ref_.child(e),new uc(this.node_.getChild(e),t,Cu)},uc.prototype.hasChild=function(t){return la("DataSnapshot.hasChild",1,1,arguments.length),Xs("DataSnapshot.hasChild",1,t,!1),t=new Ps(t),!this.node_.getChild(t).isEmpty()},uc.prototype.getPriority=function(){return la("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},uc.prototype.forEach=function(t){var e=this;return la("DataSnapshot.forEach",1,1,arguments.length),fa("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,(function(n,r){return t(new uc(r,e.ref_.child(n),Cu))}))},uc.prototype.hasChildren=function(){return la("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(uc.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),uc.prototype.numChildren=function(){return la("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},uc.prototype.getRef=function(){return la("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(uc.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),uc);function uc(t,e,n){this.node_=t,this.ref_=e,this.index_=n}var cc=(lc.prototype.getPath=function(){var t=this.snapshot.getRef();return("value"===this.eventType?t:t.getParent()).path},lc.prototype.getEventType=function(){return this.eventType},lc.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},lc.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Jo(this.snapshot.exportVal())},lc);function lc(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}var hc=(fc.prototype.getPath=function(){return this.path},fc.prototype.getEventType=function(){return"cancel"},fc.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},fc.prototype.toString=function(){return this.path.toString()+":cancel"},fc);function fc(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}var pc=(dc.prototype.respondsTo=function(t){return"value"===t},dc.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new cc("value",this,new sc(t.snapshotNode,e.getRef(),n))},dc.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Co(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},dc.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new hc(this,t,e):null},dc.prototype.matches=function(t){return t instanceof dc&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},dc.prototype.hasAnyCallback=function(){return null!==this.callback_},dc);function dc(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}var vc,yc=(gc.prototype.respondsTo=function(t){return t="children_removed"===(t="children_added"===t?"child_added":t)?"child_removed":t,ta(this.callbacks_,t)},gc.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new hc(this,t,e):null},gc.prototype.createEvent=function(t,e){Co(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName);return e=e.getQueryParams().getIndex(),new cc(t.type,this,new sc(t.snapshotNode,n,e),t.prevName)},gc.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Co(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},gc.prototype.matches=function(t){var e=this;if(t instanceof gc){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=Object.keys(t.callbacks_),r=Object.keys(this.callbacks_),i=n.length;if(i===r.length)return 1!==i?r.every((function(n){return t.callbacks_[n]===e.callbacks_[n]})):(n=n[0],!((r=r[0])!==n||t.callbacks_[n]&&this.callbacks_[r]&&t.callbacks_[n]!==this.callbacks_[r]))}}return!1},gc.prototype.hasAnyCallback=function(){return null!==this.callbacks_},gc);function gc(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}var mc=(Object.defineProperty(bc,"__referenceConstructor",{get:function(){return Co(vc,"Reference.ts has not been loaded"),vc},set:function(t){vc=t},enumerable:!1,configurable:!0}),bc.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===bu){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==_s)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Es)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Cu){if(null!=e&&!zs(e)||null!=n&&!zs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Co(t.getIndex()instanceof oc||t.getIndex()===ic,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},bc.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},bc.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},bc.prototype.getQueryParams=function(){return this.queryParams_},bc.prototype.getRef=function(){return la("Query.ref",0,0,arguments.length),new bc.__referenceConstructor(this.repo,this.path)},bc.prototype.on=function(t,e,n,r){return la("Query.on",2,4,arguments.length),Ks("Query.on",1,t,!1),fa("Query.on",2,e,!1),n=bc.getCancelAndContextArgs_("Query.on",n,r),"value"===t?this.onValueEvent(e,n.cancel,n.context):((r={})[t]=e,this.onChildEvent(r,n.cancel,n.context)),e},bc.prototype.onValueEvent=function(t,e,n){n=new pc(t,e||null,n||null),this.repo.addEventCallbackForQuery(this,n)},bc.prototype.onChildEvent=function(t,e,n){n=new yc(t,e,n),this.repo.addEventCallbackForQuery(this,n)},bc.prototype.off=function(t,e,n){la("Query.off",0,3,arguments.length),Ks("Query.off",1,t,!0),fa("Query.off",2,e,!0),pa("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new pc(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new yc(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},bc.prototype.once=function(t,e,n,r){var i=this;la("Query.once",1,4,arguments.length),Ks("Query.once",1,t,!1),fa("Query.once",2,e,!0);var o=bc.getCancelAndContextArgs_("Query.once",n,r),a=!0,s=new Do;s.promise.catch((function(){}));var u=function n(r){a&&(a=!1,i.off(t,n),e&&e.bind(o.context)(r),s.resolve(r))};return this.on(t,u,(function(e){i.off(t,u),o.cancel&&o.cancel.bind(o.context)(e),s.reject(e)})),s.promise},bc.prototype.limitToFirst=function(t){if(la("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new bc(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},bc.prototype.limitToLast=function(t){if(la("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new bc(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},bc.prototype.orderByChild=function(t){if(la("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');if(Xs("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild"),(t=new Ps(t)).isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new oc(t),t=this.queryParams_.orderBy(t),bc.validateQueryEndpoints_(t),new bc(this.repo,this.path,t,!0)},bc.prototype.orderByKey=function(){la("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(bu);return bc.validateQueryEndpoints_(t),new bc(this.repo,this.path,t,!0)},bc.prototype.orderByPriority=function(){la("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Cu);return bc.validateQueryEndpoints_(t),new bc(this.repo,this.path,t,!0)},bc.prototype.orderByValue=function(){la("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(ic);return bc.validateQueryEndpoints_(t),new bc(this.repo,this.path,t,!0)},bc.prototype.startAt=function(t,e){void 0===t&&(t=null),la("Query.startAt",0,2,arguments.length),Ws("Query.startAt",1,t,this.path,!0),Qs("Query.startAt",2,e,!0);var n=this.queryParams_.startAt(t,e);if(bc.validateLimit_(n),bc.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(e=t=null),new bc(this.repo,this.path,n,this.orderByCalled_)},bc.prototype.endAt=function(t,e){if(void 0===t&&(t=null),la("Query.endAt",0,2,arguments.length),Ws("Query.endAt",1,t,this.path,!0),Qs("Query.endAt",2,e,!0),e=this.queryParams_.endAt(t,e),bc.validateLimit_(e),bc.validateQueryEndpoints_(e),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new bc(this.repo,this.path,e,this.orderByCalled_)},bc.prototype.equalTo=function(t,e){if(la("Query.equalTo",1,2,arguments.length),Ws("Query.equalTo",1,t,this.path,!1),Qs("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},bc.prototype.toString=function(){return la("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},bc.prototype.toJSON=function(){return la("Query.toJSON",0,1,arguments.length),this.toString()},bc.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},bc.prototype.queryIdentifier=function(){var t=this.queryObject();return"{}"===(t=Ss(t))?"default":t},bc.prototype.isEqual=function(t){if(la("Query.isEqual",1,1,arguments.length),!(t instanceof bc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var e=this.repo===t.repo,n=this.path.equals(t.path);return t=this.queryIdentifier()===t.queryIdentifier(),e&&n&&t},bc.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,fa(t,3,r.cancel,!0),r.context=n,pa(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(ha(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(bc.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),bc);function bc(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}var wc=(_c.prototype.getImmediateChild=function(t){return new _c(this.node_.getImmediateChild(t))},_c.prototype.node=function(){return this.node_},_c);function _c(t){this.node_=t}var Ec=(Ic.prototype.getImmediateChild=function(t){return t=this.path_.child(t),new Ic(this.syncTree_,t)},Ic.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},Ic);function Ic(t,e){this.syncTree_=t,this.path_=e}function Sc(t,e,n,r){return Cc(e,new Ec(n,t),r)}function Tc(t,e,n){return Cc(t,new wc(e),n)}var kc=function(t,e,n){return t&&"object"==typeof t?(Co(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Nc(t[".sv"],e,n):"object"==typeof t[".sv"]?Ac(t[".sv"],e):void Co(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Nc=function(t,e,n){if("timestamp"===t)return n.timestamp;Co(!1,"Unexpected server value: "+t)},Ac=function(t,e,n){return t.hasOwnProperty("increment")||Co(!1,"Unexpected server value: "+JSON.stringify(t,null,2)),"number"!=typeof(t=t.increment)&&Co(!1,"Unexpected increment value: "+t),e=e.node(),Co(null!=e,"Expected ChildrenNode.EMPTY_NODE for nulls"),e.isLeafNode()?"number"!=typeof(e=e.getValue())?t:e+t:t};function Cc(t,e,n){var r=t.getPriority().val(),i=kc(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var o=t;return(r=kc(o.getValue(),e,n))!==o.getValue()||i!==o.getPriority().val()?new ku(r,ec(i)):t}var a=t;return i!==t.getPriority().val()&&(a=a.updatePriority(new ku(i))),t.forEachChild(Cu,(function(t,r){var i=Cc(r,e.getImmediateChild(t),n);i!==r&&(a=a.updateImmediateChild(t,i))})),a}var Oc,Pc=(xc.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&0<this.children.size){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},xc.prototype.remember=function(t,e){var n;t.isEmpty()?(this.value=e,this.children.clear()):null!==this.value?this.value=this.value.updateChild(t,e):(n=t.getFront(),this.children.has(n)||this.children.set(n,new xc),n=this.children.get(n),t=t.popFront(),n.remember(t,e))},xc.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Cu,(function(t,e){n.remember(new Ps(t),e)})),this.forget(t)}return!(0<this.children.size)||(e=t.getFront(),t=t.popFront(),this.children.has(e)&&this.children.get(e).forget(t)&&this.children.delete(e),0===this.children.size)},xc.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){n=new Ps(t.toString()+"/"+n),r.forEachTree(n,e)}))},xc.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},xc);function xc(){this.value=null,this.children=new Map}(Dr=Oc=Oc||{})[Dr.OVERWRITE=0]="OVERWRITE",Dr[Dr.MERGE=1]="MERGE",Dr[Dr.ACK_USER_WRITE=2]="ACK_USER_WRITE",Dr[Dr.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Rc=(Dc.User=new Dc(!0,!1,null,!1),Dc.Server=new Dc(!1,!0,null,!1),Dc.forServerTaggedQuery=function(t){return new Dc(!1,!0,t,!0)},Dc);function Dc(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Co(!r||e,"Tagged queries must be from server.")}var Lc,Mc=(jc.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Co(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var e=this.affectedTree.subtree(new Ps(t));return new jc(Ps.Empty,e,this.revert)}return Co(this.path.getFront()===t,"operationForChild called for unrelated child."),new jc(this.path.popFront(),this.affectedTree,this.revert)},jc);function jc(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Oc.ACK_USER_WRITE,this.source=Rc.User}var Fc=(Uc.fromObject=function(t){var e=Uc.Empty;return Ts(t,(function(t,n){e=e.set(new Ps(t),n)})),e},Uc.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},Uc.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Ps.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);return null===r||null==(e=r.findRootMostMatchingPathAndValue(t.popFront(),e))?null:{path:new Ps(n).child(e.path),value:e.value}},Uc.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},Uc.prototype.subtree=function(t){if(t.isEmpty())return this;var e=t.getFront();return null!==(e=this.children.get(e))?e.subtree(t.popFront()):Uc.Empty},Uc.prototype.set=function(t,e){if(t.isEmpty())return new Uc(e,this.children);var n=t.getFront();return e=(this.children.get(n)||Uc.Empty).set(t.popFront(),e),e=this.children.insert(n,e),new Uc(this.value,e)},Uc.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?Uc.Empty:new Uc(null,this.children);var e=t.getFront(),n=this.children.get(e);return n?(n=n.remove(t.popFront()),t=void 0,t=n.isEmpty()?this.children.remove(e):this.children.insert(e,n),null===this.value&&t.isEmpty()?Uc.Empty:new Uc(this.value,t)):this},Uc.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront();return(e=this.children.get(e))?e.get(t.popFront()):null},Uc.prototype.setTree=function(t,e){if(t.isEmpty())return e;var n=t.getFront();return t=(this.children.get(n)||Uc.Empty).setTree(t.popFront(),e),e=void 0,e=t.isEmpty()?this.children.remove(n):this.children.insert(n,t),new Uc(this.value,e)},Uc.prototype.fold=function(t){return this.fold_(Ps.Empty,t)},Uc.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},Uc.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Ps.Empty,e)},Uc.prototype.findOnPath_=function(t,e,n){if(r=!!this.value&&n(e,this.value))return r;if(t.isEmpty())return null;var r,i=t.getFront();return(r=this.children.get(i))?r.findOnPath_(t.popFront(),e.child(i),n):null},Uc.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Ps.Empty,e)},Uc.prototype.foreachOnPath_=function(t,e,n){if(t.isEmpty())return this;this.value&&n(e,this.value);var r=t.getFront(),i=this.children.get(r);return i?i.foreachOnPath_(t.popFront(),e.child(r),n):Uc.Empty},Uc.prototype.foreach=function(t){this.foreach_(Ps.Empty,t)},Uc.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},Uc.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},Uc.Empty=new Uc(null),Uc);function Uc(t,e){void 0===e&&(e=Lc=Lc||new Lu(us)),this.value=t,this.children=e}var Vc=(qc.prototype.operationForChild=function(t){return this.path.isEmpty()?new qc(this.source,Ps.Empty):new qc(this.source,this.path.popFront())},qc);function qc(t,e){this.source=t,this.path=e,this.type=Oc.LISTEN_COMPLETE}var Bc=(zc.prototype.operationForChild=function(t){return this.path.isEmpty()?new zc(this.source,Ps.Empty,this.snap.getImmediateChild(t)):new zc(this.source,this.path.popFront(),this.snap)},zc);function zc(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Oc.OVERWRITE}var Wc=(Hc.prototype.operationForChild=function(t){if(this.path.isEmpty()){var e=this.children.subtree(new Ps(t));return e.isEmpty()?null:e.value?new Bc(this.source,Ps.Empty,e.value):new Hc(this.source,Ps.Empty,e)}return Co(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new Hc(this.source,this.path.popFront(),this.children)},Hc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},Hc);function Hc(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Oc.MERGE}var Gc=(Kc.prototype.isFullyInitialized=function(){return this.fullyInitialized_},Kc.prototype.isFiltered=function(){return this.filtered_},Kc.prototype.isCompleteForPath=function(t){return t.isEmpty()?this.isFullyInitialized()&&!this.filtered_:(t=t.getFront(),this.isCompleteForChild(t))},Kc.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},Kc.prototype.getNode=function(){return this.node_},Kc);function Kc(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}var Qc=(Xc.prototype.updateEventSnap=function(t,e,n){return new Xc(new Gc(t,e,n),this.serverCache_)},Xc.prototype.updateServerSnap=function(t,e,n){return new Xc(this.eventCache_,new Gc(t,e,n))},Xc.prototype.getEventCache=function(){return this.eventCache_},Xc.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},Xc.prototype.getServerCache=function(){return this.serverCache_},Xc.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},Xc.Empty=new Xc(new Gc(Xu.EMPTY_NODE,!1,!1),new Gc(Xu.EMPTY_NODE,!1,!1)),Xc);function Xc(t,e){this.eventCache_=t,this.serverCache_=e}var Yc=($c.valueChange=function(t){return new $c($c.VALUE,t)},$c.childAddedChange=function(t,e){return new $c($c.CHILD_ADDED,e,t)},$c.childRemovedChange=function(t,e){return new $c($c.CHILD_REMOVED,e,t)},$c.childChangedChange=function(t,e,n){return new $c($c.CHILD_CHANGED,e,t,n)},$c.childMovedChange=function(t,e){return new $c($c.CHILD_MOVED,e,t)},$c.CHILD_ADDED="child_added",$c.CHILD_REMOVED="child_removed",$c.CHILD_CHANGED="child_changed",$c.CHILD_MOVED="child_moved",$c.VALUE="value",$c);function $c(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}var Jc=(Zc.prototype.updateChild=function(t,e,n,r,i,o){Co(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Yc.childRemovedChange(e,a)):Co(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Yc.childAddedChange(e,n)):o.trackChildChange(Yc.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},Zc.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Cu,(function(t,r){e.hasChild(t)||n.trackChildChange(Yc.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Cu,(function(e,r){var i;t.hasChild(e)?(i=t.getImmediateChild(e)).equals(r)||n.trackChildChange(Yc.childChangedChange(e,r,i)):n.trackChildChange(Yc.childAddedChange(e,r))}))),e.withIndex(this.index_)},Zc.prototype.updatePriority=function(t,e){return t.isEmpty()?Xu.EMPTY_NODE:t.updatePriority(e)},Zc.prototype.filtersNodes=function(){return!1},Zc.prototype.getIndexedFilter=function(){return this},Zc.prototype.getIndex=function(){return this.index_},Zc);function Zc(t){this.index_=t}var tl=(el.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Co(e===Yc.CHILD_ADDED||e===Yc.CHILD_CHANGED||e===Yc.CHILD_REMOVED,"Only child changes supported for tracking"),Co(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===Yc.CHILD_ADDED&&i===Yc.CHILD_REMOVED)this.changeMap.set(n,Yc.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===Yc.CHILD_REMOVED&&i===Yc.CHILD_ADDED)this.changeMap.delete(n);else if(e===Yc.CHILD_REMOVED&&i===Yc.CHILD_CHANGED)this.changeMap.set(n,Yc.childRemovedChange(n,r.oldSnap));else if(e===Yc.CHILD_CHANGED&&i===Yc.CHILD_ADDED)this.changeMap.set(n,Yc.childAddedChange(n,t.snapshotNode));else{if(e!==Yc.CHILD_CHANGED||i!==Yc.CHILD_CHANGED)throw Oo("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Yc.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},el.prototype.getChanges=function(){return Array.from(this.changeMap.values())},el);function el(){this.changeMap=new Map}function nl(){}var rl=new(nl.prototype.getCompleteChild=function(t){return null},nl.prototype.getChildAfterChild=function(t,e,n){return null},nl),il=(ol.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();return e.isCompleteForChild(t)?e.getNode().getImmediateChild(t):(e=null!=this.optCompleteServerCache_?new Gc(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache(),this.writes_.calcCompleteChild(t,e))},ol.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap();return 0===(t=this.writes_.calcIndexedSlice(r,e,1,n,t)).length?null:t[0]},ol);function ol(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}var al=function(t,e){this.viewCache=t,this.changes=e},sl=(ul.prototype.assertIndexed=function(t){Co(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Co(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},ul.prototype.applyOperation=function(t,e,n,r){var i=new tl;if(e.type===Oc.OVERWRITE)var o=e,a=o.source.fromUser?this.applyUserOverwrite_(t,o.path,o.snap,n,r,i):(Co(o.source.fromServer,"Unknown source."),s=o.source.tagged||t.getServerCache().isFiltered()&&!o.path.isEmpty(),this.applyServerOverwrite_(t,o.path,o.snap,n,r,s,i));else if(e.type===Oc.MERGE)a=(o=e).source.fromUser?this.applyUserMerge_(t,o.path,o.children,n,r,i):(Co(o.source.fromServer,"Unknown source."),s=o.source.tagged||t.getServerCache().isFiltered(),this.applyServerMerge_(t,o.path,o.children,n,r,s,i));else if(e.type===Oc.ACK_USER_WRITE){var s=e;a=s.revert?this.revertUserWrite_(t,s.path,n,r,i):this.ackUserWrite_(t,s.path,s.affectedTree,n,r,i)}else{if(e.type!==Oc.LISTEN_COMPLETE)throw Oo("Unknown operation type: "+e.type);a=this.listenComplete_(t,e.path,n,i)}return i=i.getChanges(),ul.maybeAddValueEvent_(t,a,i),new al(a,i)},ul.maybeAddValueEvent_=function(t,e,n){var r,i,o=e.getEventCache();o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=t.getCompleteEventSnap(),(0<n.length||!t.getEventCache().isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(Yc.valueChange(e.getCompleteEventSnap())))},ul.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a,s,u,c,l=void 0,h=void 0;return l=e.isEmpty()?(Co(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()?(a=(a=t.getCompleteServerSnap())instanceof Xu?a:Xu.EMPTY_NODE,a=n.calcCompleteEventChildren(a),this.filter_.updateFullNode(t.getEventCache().getNode(),a,i)):(s=n.calcCompleteEventCache(t.getCompleteServerSnap()),this.filter_.updateFullNode(t.getEventCache().getNode(),s,i))):".priority"===(s=e.getFront())?(Co(1===e.getLength(),"Can't have a priority with additional path components"),u=o.getNode(),h=t.getServerCache().getNode(),null!=(c=n.calcEventCacheAfterServerOverwrite(e,u,h))?this.filter_.updatePriority(u,c):o.getNode()):(u=e.popFront(),c=void 0,null!=(c=o.isCompleteForChild(s)?(h=t.getServerCache().getNode(),null!=(h=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),h))?o.getNode().getImmediateChild(s).updateChild(u,h):o.getNode().getImmediateChild(s)):n.calcCompleteChild(s,t.getServerCache()))?this.filter_.updateChild(o.getNode(),s,c,u,r,i):o.getNode()),t.updateEventSnap(l,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},ul.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())l=u.updateFullNode(s.getNode(),n,null);else if(u.filtersNodes()&&!s.isFiltered())var c=s.getNode().updateChild(e,n),l=u.updateFullNode(s.getNode(),c,null);else{if(o=e.getFront(),!s.isCompleteForPath(e)&&1<e.getLength())return t;c=e.popFront(),n=s.getNode().getImmediateChild(o).updateChild(c,n),l=".priority"===o?u.updatePriority(s.getNode(),n):u.updateChild(s.getNode(),o,n,c,rl,null)}return u=t.updateServerSnap(l,s.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),i=new il(r,u,i),this.generateEventCacheAfterServerEvent_(u,e,r,i,a)},ul.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new il(r,t,i);return e.isEmpty()?(s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),t.updateEventSnap(s,!0,this.filter_.filtersNodes())):".priority"===(a=e.getFront())?(s=this.filter_.updatePriority(t.getEventCache().getNode(),n),t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered())):(r=e.popFront(),i=u.getNode().getImmediateChild(a),s=void 0,s=r.isEmpty()?n:null!=(e=c.getCompleteChild(a))?".priority"===r.getBack()&&e.getChild(r.parent()).isEmpty()?e:e.updateChild(r,n):Xu.EMPTY_NODE,i.equals(s)?t:(o=this.filter_.updateChild(u.getNode(),a,s,r,c,o),t.updateEventSnap(o,u.isFullyInitialized(),this.filter_.filtersNodes())))},ul.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},ul.prototype.applyUserMerge_=function(t,e,n,r,i,o){var a=this,s=t;return n.foreach((function(n,u){n=e.child(n),ul.cacheHasChild_(t,n.getFront())&&(s=a.applyUserOverwrite_(s,n,u,r,i,o))})),n.foreach((function(n,u){n=e.child(n),ul.cacheHasChild_(t,n.getFront())||(s=a.applyUserOverwrite_(s,n,u,r,i,o))})),s},ul.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},ul.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u=t,c=(n=e.isEmpty()?n:Fc.Empty.setTree(e,n),t.getServerCache().getNode());return n.children.inorderTraversal((function(e,n){var l;c.hasChild(e)&&(l=t.getServerCache().getNode().getImmediateChild(e),n=s.applyMerge_(l,n),u=s.applyServerOverwrite_(u,new Ps(e),n,r,i,o,a))})),n.children.inorderTraversal((function(e,n){var l=!t.getServerCache().isCompleteForChild(e)&&null==n.value;c.hasChild(e)||l||(l=t.getServerCache().getNode().getImmediateChild(e),n=s.applyMerge_(l,n),u=s.applyServerOverwrite_(u,new Ps(e),n,r,i,o,a))})),u},ul.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=Fc.Empty;return s.getNode().forEachChild(bu,(function(t,e){u=u.set(new Ps(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=Fc.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},ul.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache();return i=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered()),this.generateEventCacheAfterServerEvent_(i,e,n,rl,r)},ul.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a,s,u=new il(n,t,r),c=t.getEventCache().getNode();return r=void 0,e.isEmpty()||".priority"===e.getFront()?(s=void 0,s=t.getServerCache().isFullyInitialized()?n.calcCompleteEventCache(t.getCompleteServerSnap()):(a=t.getServerCache().getNode(),Co(a instanceof Xu,"serverChildren would be complete if leaf node"),n.calcCompleteEventChildren(a)),r=this.filter_.updateFullNode(c,s,i)):(a=e.getFront(),null==(s=n.calcCompleteChild(a,t.getServerCache()))&&t.getServerCache().isCompleteForChild(a)&&(s=c.getImmediateChild(a)),(r=null!=s?this.filter_.updateChild(c,a,s,e.popFront(),u,i):t.getEventCache().getNode().hasChild(a)?this.filter_.updateChild(c,a,Xu.EMPTY_NODE,e.popFront(),u,i):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(r=this.filter_.updateFullNode(r,o,i))),o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Ps.Empty),t.updateEventSnap(r,o,this.filter_.filtersNodes())},ul);function ul(t){this.filter_=t}var cl=(ll.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===Yc.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Yc.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,Yc.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Yc.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Yc.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Yc.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Yc.VALUE,t,n,e),i},ll.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this;(n=n.filter((function(t){return t.type===e}))).sort(this.compareChanges_.bind(this)),n.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},ll.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},ll.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Oo("Should only compare child_ events.");return t=new fu(t.childName,t.snapshotNode),e=new fu(e.childName,e.snapshotNode),this.index_.compare(t,e)},ll);function ll(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}var hl,fl=(pl.prototype.getQuery=function(){return this.query_},pl.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},pl.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},pl.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},pl.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},pl.prototype.removeEventRegistration=function(t,e){var n,r=[];if(e&&(Co(null==t,"A cancel should cancel all event registrations."),n=this.query_.path,this.eventRegistrations_.forEach((function(t){(t=t.createCancelEvent(e,n))&&r.push(t)}))),t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return r},pl.prototype.applyOperation=function(t,e,n){t.type===Oc.MERGE&&null!==t.source.queryId&&(Co(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Co(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_;return n=this.processor_.applyOperation(r,t,e,n),this.processor_.assertIndexed(n.viewCache),Co(n.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=n.viewCache,this.generateEventsForChanges_(n.changes,n.viewCache.getEventCache().getNode(),null)},pl.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Cu,(function(t,e){n.push(Yc.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(Yc.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},pl.prototype.generateEventsForChanges_=function(t,e,n){return n=n?[n]:this.eventRegistrations_,this.eventGenerator_.generateEventsForChanges(t,e,n)},pl);function pl(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Jc(n.getIndex()),i=n.getNodeFilter();this.processor_=new sl(i);var o=e.getServerCache();t=e.getEventCache(),n=r.updateFullNode(Xu.EMPTY_NODE,o.getNode(),null),e=i.updateFullNode(Xu.EMPTY_NODE,t.getNode(),null),r=new Gc(n,o.isFullyInitialized(),r.filtersNodes()),i=new Gc(e,t.isFullyInitialized(),i.filtersNodes()),this.viewCache_=new Qc(i,r),this.eventGenerator_=new cl(this.query_)}var dl=(Object.defineProperty(vl,"__referenceConstructor",{get:function(){return Co(hl,"Reference.ts has not been loaded"),hl},set:function(t){Co(!hl,"__referenceConstructor has already been defined"),hl=t},enumerable:!1,configurable:!0}),vl.prototype.isEmpty=function(){return 0===this.views.size},vl.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var a=this.views.get(o);return Co(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(t,e,n)}var s=[];try{for(var u=Eo(this.views.values()),c=u.next();!c.done;c=u.next())a=c.value,s=s.concat(a.applyOperation(t,e,n))}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s},vl.prototype.addEventRegistration=function(t,e,n,r,i){var o,a,s=t.queryIdentifier(),u=this.views.get(s);return u||(a=!1,a=!!(o=n.calcCompleteEventCache(i?r:null))||(o=r instanceof Xu?n.calcCompleteEventChildren(r):Xu.EMPTY_NODE,!1),i=new Qc(new Gc(o,a,!1),new Gc(r,i,!1)),u=new fl(t,i),this.views.set(s,u)),u.addEventRegistration(e),u.getInitialEvents(e)},vl.prototype.removeEventRegistration=function(t,e,n){var r,i,o=t.queryIdentifier(),a=[],s=[],u=this.hasCompleteView();if("default"===o)try{for(var c=Eo(this.views.entries()),l=c.next();!l.done;l=c.next()){var h=Io(l.value,2),f=h[0],p=h[1];s=s.concat(p.removeEventRegistration(e,n)),p.isEmpty()&&(this.views.delete(f),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery()))}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}else(p=this.views.get(o))&&(s=s.concat(p.removeEventRegistration(e,n)),p.isEmpty()&&(this.views.delete(o),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery())));return u&&!this.hasCompleteView()&&a.push(new vl.__referenceConstructor(t.repo,t.path)),{removed:a,events:s}},vl.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Eo(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},vl.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=Eo(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r||a.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},vl.prototype.viewForQuery=function(t){return t.getQueryParams().loadsAllData()?this.getCompleteView():(t=t.queryIdentifier(),this.views.get(t))},vl.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},vl.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},vl.prototype.getCompleteView=function(){var t,e;try{for(var n=Eo(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},vl);function vl(){this.views=new Map}var yl=(gl.prototype.addWrite=function(t,e){if(t.isEmpty())return new gl(new Fc(e));if(null!=(i=this.writeTree_.findRootMostValueAndPath(t))){var n=i.path,r=i.value,i=Ps.relativePath(n,t);return r=r.updateChild(i,e),new gl(this.writeTree_.set(n,r))}return e=new Fc(e),new gl(this.writeTree_.setTree(t,e))},gl.prototype.addWrites=function(t,e){var n=this;return Ts(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},gl.prototype.removeWrite=function(t){return t.isEmpty()?gl.Empty:new gl(this.writeTree_.setTree(t,Fc.Empty))},gl.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},gl.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Ps.relativePath(e.path,t)):null},gl.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Cu,(function(e,n){t.push(new fu(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new fu(e,n.value))})),t},gl.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var e=this.getCompleteNode(t);return new gl(null!=e?new Fc(e):this.writeTree_.subtree(t))},gl.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},gl.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(Co(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(Ps.Empty,this.writeTree_,t)},gl.Empty=new gl(new Fc(null)),gl);function gl(t){this.writeTree_=t}var ml=(bl.prototype.childWrites=function(t){return new wl(t,this)},bl.prototype.addOverwrite=function(t,e,n,r){Co(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},bl.prototype.addMerge=function(t,e,n){Co(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},bl.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},bl.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Co(0<=n,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&0<=a;){var s=this.allWrites_[a];s.visible&&(n<=a&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}return!!i&&(o?this.resetTree_():r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):Ts(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0)},bl.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},bl.prototype.calcCompleteEventCache=function(t,e,n,r){if(n||r){var i=this.visibleWrites_.childCompoundWrite(t);if(!r&&i.isEmpty())return e;if(r||null!=e||i.hasCompleteWrite(Ps.Empty)){var o=bl.layerTree_(this.allWrites_,(function(e){return(e.visible||r)&&(!n||!~n.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t),a=e||Xu.EMPTY_NODE;return o.apply(a)}return null}return null!=(o=this.visibleWrites_.getCompleteNode(t))?o:(o=this.visibleWrites_.childCompoundWrite(t)).isEmpty()?e:null!=e||o.hasCompleteWrite(Ps.Empty)?(a=e||Xu.EMPTY_NODE,o.apply(a)):null},bl.prototype.calcCompleteEventChildren=function(t,e){var n=Xu.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Cu,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Cu,(function(t,e){e=i.childCompoundWrite(new Ps(t)).apply(e),n=n.updateImmediateChild(t,e)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},bl.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){return Co(n||r,"Either existingEventSnap or existingServerSnap must exist"),t=t.child(e),this.visibleWrites_.hasCompleteWrite(t)?null:(t=this.visibleWrites_.childCompoundWrite(t)).isEmpty()?r.getChild(e):t.apply(r.getChild(e))},bl.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e);return null!=(t=this.visibleWrites_.getCompleteNode(r))?t:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},bl.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},bl.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t);if(null!=(t=s.getCompleteNode(Ps.Empty)))a=t;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var u=[],c=o.getCompare(),l=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),h=l.getNext();h&&u.length<r;)0!==c(h,n)&&u.push(h),h=l.getNext();return u},bl.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},bl.prototype.resetTree_=function(){this.visibleWrites_=bl.layerTree_(this.allWrites_,bl.DefaultFilter_,Ps.Empty),0<this.allWrites_.length?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},bl.DefaultFilter_=function(t){return t.visible},bl.layerTree_=function(t,e,n){for(var r=yl.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=Ps.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=Ps.relativePath(a,n),r=r.addWrite(Ps.Empty,o.snap.getChild(s)));else{if(!o.children)throw Oo("WriteRecord should have .snap or .children");n.contains(a)?(s=Ps.relativePath(n,a),r=r.addWrites(s,o.children)):a.contains(n)&&((s=Ps.relativePath(a,n)).isEmpty()?r=r.addWrites(Ps.Empty,o.children):(o=ea(o.children,s.getFront()))&&(s=o.getChild(s.popFront()),r=r.addWrite(Ps.Empty,s)))}}}return r},bl);function bl(){this.visibleWrites_=yl.Empty,this.allWrites_=[],this.lastWriteId_=-1}var wl=(_l.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},_l.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},_l.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},_l.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},_l.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},_l.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},_l.prototype.child=function(t){return new _l(this.treePath_.child(t),this.writeTree_)},_l);function _l(t,e){this.treePath_=t,this.writeTree_=e}var El=(Il.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Bc(Rc.User,t,e)):[]},Il.prototype.applyUserMerge=function(t,e,n){return this.pendingWriteTree_.addMerge(t,e,n),e=Fc.fromObject(e),this.applyOperationToSyncPoints_(new Wc(Rc.User,t,e))},Il.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=Fc.Empty;return null!=n.snap?r=r.set(Ps.Empty,!0):Ts(n.children,(function(t,e){r=r.set(new Ps(t),e)})),this.applyOperationToSyncPoints_(new Mc(n.path,r,e))}return[]},Il.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Bc(Rc.Server,t,e))},Il.prototype.applyServerMerge=function(t,e){return e=Fc.fromObject(e),this.applyOperationToSyncPoints_(new Wc(Rc.Server,t,e))},Il.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new Vc(Rc.Server,t))},Il.prototype.applyTaggedQueryOverwrite=function(t,e,n){var r=this.queryKeyForTag_(n);return null==r?[]:(r=(n=Il.parseQueryKey_(r)).path,n=n.queryId,t=Ps.relativePath(r,t),e=new Bc(Rc.forServerTaggedQuery(n),t,e),this.applyTaggedOperation_(r,e))},Il.prototype.applyTaggedQueryMerge=function(t,e,n){var r=this.queryKeyForTag_(n);return r?(r=(n=Il.parseQueryKey_(r)).path,n=n.queryId,t=Ps.relativePath(r,t),e=Fc.fromObject(e),e=new Wc(Rc.forServerTaggedQuery(n),t,e),this.applyTaggedOperation_(r,e)):[]},Il.prototype.applyTaggedListenComplete=function(t,e){var n=this.queryKeyForTag_(e);return n?(n=(e=Il.parseQueryKey_(n)).path,e=e.queryId,t=Ps.relativePath(n,t),t=new Vc(Rc.forServerTaggedQuery(e),t),this.applyTaggedOperation_(n,t)):[]},Il.prototype.addEventRegistration=function(t,e){var n=t.path,r=null,i=!1;this.syncPointTree_.foreachOnPath(n,(function(t,e){t=Ps.relativePath(t,n),r=r||e.getCompleteServerCache(t),i=i||e.hasCompleteView()}));var o=this.syncPointTree_.get(n);o?(i=i||o.hasCompleteView(),r=r||o.getCompleteServerCache(Ps.Empty)):(o=new dl,this.syncPointTree_=this.syncPointTree_.set(n,o)),null!=r?c=!0:(c=!1,r=Xu.EMPTY_NODE,this.syncPointTree_.subtree(n).foreachChild((function(t,e){(e=e.getCompleteServerCache(Ps.Empty))&&(r=r.updateImmediateChild(t,e))})));var a,s=o.viewExistsForQuery(t);s||t.getQueryParams().loadsAllData()||(u=Il.makeQueryKey_(t),Co(!this.queryToTagMap.has(u),"View does not exist, but we have a tag"),a=Il.getNextQueryTag_(),this.queryToTagMap.set(u,a),this.tagToQueryMap.set(a,u));var u=this.pendingWriteTree_.childWrites(n),c=o.addEventRegistration(t,e,u,r,c);return s||i||(o=o.viewForQuery(t),c=c.concat(this.setupListener_(t,o))),c},Il.prototype.removeEventRegistration=function(t,e,n){var r=this,i=t.path,o=this.syncPointTree_.get(i),a=[];if(o&&("default"===t.queryIdentifier()||o.viewExistsForQuery(t))){var s=o.removeEventRegistration(t,e,n);if(o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i)),e=s.removed,a=s.events,o=-1!==e.findIndex((function(t){return t.getQueryParams().loadsAllData()})),s=this.syncPointTree_.findOnPath(i,(function(t,e){return e.hasCompleteView()})),o&&!s&&!(i=this.syncPointTree_.subtree(i)).isEmpty())for(var u=this.collectDistinctViewsForSubTree_(i),c=0;c<u.length;++c){var l=(h=u[c]).getQuery(),h=this.createListenerForView_(h);this.listenProvider_.startListening(Il.queryForListening_(l),this.tagForQuery_(l),h.hashFn,h.onComplete)}!s&&0<e.length&&!n&&(o?this.listenProvider_.stopListening(Il.queryForListening_(t),null):e.forEach((function(t){var e=r.queryToTagMap.get(Il.makeQueryKey_(t));r.listenProvider_.stopListening(Il.queryForListening_(t),e)}))),this.removeTags_(e)}return a},Il.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){if(e=Ps.relativePath(e,t),e=n.getCompleteServerCache(e))return e}));return n.calcCompleteEventCache(t,r,e,!0)},Il.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),Ts(n,(function(t,e){r=r.concat(e)})),r}))},Il.prototype.removeTags_=function(t){for(var e=0;e<t.length;++e){var n,r=t[e];r.getQueryParams().loadsAllData()||(n=Il.makeQueryKey_(r),r=this.queryToTagMap.get(n),this.queryToTagMap.delete(n),this.tagToQueryMap.delete(r))}},Il.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},Il.prototype.setupListener_=function(t,e){var n=t.path,r=this.tagForQuery_(t);if(e=this.createListenerForView_(e),e=this.listenProvider_.startListening(Il.queryForListening_(t),r,e.hashFn,e.onComplete),n=this.syncPointTree_.subtree(n),r)Co(!n.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var i=n.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),Ts(n,(function(t,e){r=r.concat(e)})),r})),o=0;o<i.length;++o){var a=i[o];this.listenProvider_.stopListening(Il.queryForListening_(a),this.tagForQuery_(a))}return e},Il.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Xu.EMPTY_NODE).hash()},onComplete:function(t){return"ok"===t?r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path):(t=function(t,e){var n="Unknown Error";return"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable"),(n=new Error(t+" at "+e.path.toString()+": "+n)).code=t.toUpperCase(),n}(t,n),e.removeEventRegistration(n,null,t))}}},Il.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},Il.parseQueryKey_=function(t){var e=t.indexOf("$");return Co(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ps(t.substr(0,e))}},Il.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},Il.prototype.tagForQuery_=function(t){return t=Il.makeQueryKey_(t),this.queryToTagMap.get(t)},Il.getNextQueryTag_=function(){return Il.nextQueryTag_++},Il.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);return Co(n,"Missing sync point for query tag that we're tracking"),t=this.pendingWriteTree_.childWrites(t),n.applyOperation(e,t,null)},Il.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Ps.Empty))},Il.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Ps.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Ps.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);return u&&s&&(e=n?n.getImmediateChild(a):null,a=r.child(a),o=o.concat(this.applyOperationHelper_(s,u,e,a))),i&&(o=o.concat(i.applyOperation(t,r,n))),o},Il.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Ps.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Ps.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e);(e=t.operationForChild(e))&&(a=a.concat(i.applyOperationDescendantsHelper_(e,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},Il.nextQueryTag_=1,Il);function Il(t){this.listenProvider_=t,this.syncPointTree_=Fc.Empty,this.pendingWriteTree_=new ml,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}var Sl=(Tl.prototype.getNode=function(t){return this.rootNode_.getChild(t)},Tl.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},Tl);function Tl(){this.rootNode_=Xu.EMPTY_NODE}var kl=(Nl.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),ta(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},Nl.prototype.get=function(){return xo(this.counters_)},Nl);function Nl(){this.counters_={}}var Al=(Cl.getCollection=function(t){return t=t.toString(),this.collections_[t]||(this.collections_[t]=new kl),this.collections_[t]},Cl.getOrCreateReporter=function(t,e){return t=t.toString(),this.reporters_[t]||(this.reporters_[t]=e()),this.reporters_[t]},Cl.collections_={},Cl.reporters_={},Cl);function Cl(){}var Ol=(Pl.prototype.get=function(){var t=this.collection_.get(),e=bo({},t);return this.last_&&Ts(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},Pl);function Pl(t){this.collection_=t,this.last_=null}var xl=(Rl.prototype.includeStat=function(t){this.statsToReport_[t]=!0},Rl.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;Ts(e,(function(e,i){0<i&&ta(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),As(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},Rl);function Rl(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ol(t),t=1e4+2e4*Math.random(),As(this.reportStats_.bind(this),Math.floor(t))}var Dl=(Ll.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ml(i)),e.add(r)}e&&this.eventLists_.push(e)},Ll.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},Ll.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},Ll.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},Ll);function Ll(){this.eventLists_=[],this.recursionDepth_=0}var Ml=(jl.prototype.add=function(t){this.events_.push(t)},jl.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e,n=this.events_[t];null!==n&&(this.events_[t]=null,e=n.getEventRunner(),gs&&bs("event: "+n.toString()),Ns(e))}},jl.prototype.getPath=function(){return this.path_},jl);function jl(t){this.path_=t,this.events_=[]}function Fl(t){this.allowedEvents_=t,this.listeners_={},Co(Array.isArray(t)&&0<t.length,"Requires a non-empty array")}Fl.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=So(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},Fl.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n}),(t=this.getInitialEvent(t))&&e.apply(n,t)},Fl.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},Fl.prototype.validateEventType_=function(t){Co(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)};var Ul,Vl=(mo(ql,Ul=j=Fl),ql.getInstance=function(){return new ql},ql.prototype.getInitialEvent=function(t){return Co("visible"===t,"Unknown event type: "+t),[this.visible_]},ql);function ql(){var t,e,n=Ul.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),n.visible_=!0,e&&document.addEventListener(e,(function(){var e=!document[t];e!==n.visible_&&(n.visible_=e,n.trigger("visible",e))}),!1),n}var Bl,zl=(mo(Wl,Bl=j),Wl.getInstance=function(){return new Wl},Wl.prototype.getInitialEvent=function(t){return Co("online"===t,"Unknown event type: "+t),[this.online_]},Wl.prototype.currentlyOnline=function(){return this.online_},Wl);function Wl(){var t=Bl.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||jo()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}var Hl=(Gl.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},Gl.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&Ns((function(){n.onMessage_(t[e])}))}(e);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}(););},Gl);function Gl(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var Kl="pLPCommand",Ql="pRTLPCB",Xl=(Yl.prototype.open=function(t,e){var n,r,i,o=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Hl(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null}),Math.floor(3e4)),n=function(){var t;o.isClosed_||(o.scriptTagHolder=new $l((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Io(t,5),r=n[0],i=n[1],a=n[2];if(n[3],n[4],o.incrementIncomingBytes_(t),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"===r)o.id=i,o.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,(function(){o.onClosed_()}))):o.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(r=Io(t,2))[0],r=r[1];o.incrementIncomingBytes_(t),o.myPacketOrderer.handleResponse(n,r)}),(function(){o.onClosed_()}),o.urlFn),(t={start:"t"}).ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=o.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",o.transportSessionId&&(t.s=o.transportSessionId),o.lastSessionId&&(t.ls=o.lastSessionId),o.applicationId&&(t.p=o.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Ls)&&(t.r="f"),t=o.urlFn(t),o.log_("Connecting via long-poll to "+t),o.scriptTagHolder.addTag(t,(function(){})))},"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&i()})),window.attachEvent("onload",i)))},Yl.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},Yl.forceAllow=function(){Yl.forceAllow_=!0},Yl.forceDisallow=function(){Yl.forceDisallow_=!0},Yl.isAvailable=function(){return!!Yl.forceAllow_||!(Yl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},Yl.prototype.markConnectionHealthy=function(){},Yl.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},Yl.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},Yl.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},Yl.prototype.send=function(t){t=Jo(t),this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var e=ls(t=function(t){return t=ko(t),Po.encodeByteArray(t,!0)}(t),1840),n=0;n<e.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,e.length,e[n]),this.curSegmentNum++},Yl.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},Yl.prototype.incrementIncomingBytes_=function(t){t=Jo(t).length,this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},Yl);function Yl(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ws(t),this.stats_=Al.getCollection(e),this.urlFn=function(t){return e.connectionURL(js,t)}}var $l=(Jl.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||bs("No IE domain setting required")}catch(r){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},Jl.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},Jl.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},Jl.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++,(t={}).id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var t=this.urlFn(t),e="",n=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+e.length<=1870;){var r=this.pendingSegs.shift();e=e+"&seg"+n+"="+r.seg+"&ts"+n+"="+r.ts+"&d"+n+"="+r.d,n++}return t+=e,this.addLongPollTag_(t,this.currentSerial),!0}return!1},Jl.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},Jl.prototype.addLongPollTag_=function(t,e){var n=this;function r(){n.outstandingRequests.delete(e),n.newRequest_()}this.outstandingRequests.add(e);var i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},Jl.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){bs("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},Jl);function Jl(t,e,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=vs(),window[Kl+this.uniqueCallbackIdentifier]=t,window[Ql+this.uniqueCallbackIdentifier]=e,this.myIFrame=Jl.createIFrame_(),e="",this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(e='<script>document.domain="'+document.domain+'";<\/script>');var i="<html><body>"+e+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(t){bs("frame writing exception"),t.stack&&bs(t.stack),bs(t)}}var Zl="";function th(t){Zl=t}var eh=null;"undefined"!=typeof MozWebSocket?eh=MozWebSocket:"undefined"!=typeof WebSocket&&(eh=WebSocket);var nh=(rh.connectionURL_=function(t,e,n){var r={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Ls)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(Ms,r)},rh.prototype.open=function(t,e){var n,r=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fs.set("previous_websocket_failure",!0);try{Vo()||(n={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new eh(this.connURL,[],n))}catch(e){return this.log_("Error instantiating WebSocket."),t=e.message||e.data,t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection."),(t=t.message||t.data)&&r.log_(t),r.onClosed_()}},rh.prototype.start=function(){},rh.forceDisallow=function(){rh.forceDisallow_=!0},rh.isAvailable=function(){var t,e=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<t.length&&parseFloat(t[1])<4.4&&(e=!0),!e&&null!==eh&&!rh.forceDisallow_},rh.previouslyFailed=function(){return fs.isInMemoryStorage||!0===fs.get("previous_websocket_failure")},rh.prototype.markConnectionHealthy=function(){fs.remove("previous_websocket_failure")},rh.prototype.appendFrame_=function(t){this.frames.push(t),this.frames.length===this.totalFrames&&(t=this.frames.join(""),this.frames=null,t=$o(t),this.onMessage(t))},rh.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},rh.prototype.extractFrameCount_=function(t){if(Co(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},rh.prototype.handleIncomingFrame=function(t){null!==this.mySock&&(t=t.data,this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),(null!==this.frames||null!==(t=this.extractFrameCount_(t)))&&this.appendFrame_(t))},rh.prototype.send=function(t){this.resetKeepAlive(),t=Jo(t),this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var e=ls(t,16384);1<e.length&&this.sendString_(String(e.length));for(var n=0;n<e.length;n++)this.sendString_(e[n])},rh.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},rh.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},rh.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},rh.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},rh.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},rh.responsesRequiredToBeHealthy=2,rh.healthyTimeout=3e4,rh);function rh(t,e,n,r,i){this.connId=t,this.applicationId=n,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ws(this.connId),this.stats_=Al.getCollection(e),this.connURL=rh.connectionURL_(e,r,i),this.nodeAdmin=e.nodeAdmin}var ih=(Object.defineProperty(oh,"ALL_TRANSPORTS",{get:function(){return[Xl,nh]},enumerable:!1,configurable:!0}),oh.prototype.initTransports_=function(t){var e,n,r=nh&&nh.isAvailable(),i=r&&!nh.previouslyFailed();if(t.webSocketOnly&&(r||as("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[nh];else{var o=this.transports_=[];try{for(var a=Eo(oh.ALL_TRANSPORTS),s=a.next();!s.done;s=a.next()){var u=s.value;u&&u.isAvailable()&&o.push(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}},oh.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},oh.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},oh);function oh(t){this.initTransports_(t)}var ah=(sh.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0)),0<(e=e.healthyTimeout||0)&&(this.healthyTimeout_=As((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&102400<t.conn_.bytesReceived?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&10240<t.conn_.bytesSent?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(e)))},sh.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},sh.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},sh.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},sh.prototype.sendRequest=function(t){t={t:"d",d:t},this.sendData_(t)},sh.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},sh.prototype.onSecondaryControl_=function(t){"t"in t&&("a"===(t=t.t)?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},sh.prototype.onSecondaryMessageReceived_=function(t){var e=cs("t",t);if(t=cs("d",t),"c"===e)this.onSecondaryControl_(t);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(t)}},sh.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},sh.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},sh.prototype.onPrimaryMessageReceived_=function(t){var e=cs("t",t);t=cs("d",t),"c"===e?this.onControl_(t):"d"===e&&this.onDataMessage_(t)},sh.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},sh.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},sh.prototype.onControl_=function(t){var e=cs("t",t);if("d"in t)if(t=t.d,"h"===e)this.onHandshake_(t);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(t):"r"===e?this.onReset_(t):"e"===e?is("Server Error: "+t):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):is("Unknown control packet command: "+e)},sh.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&as("Protocol version mismatch detected"),this.tryStartUpgrade_())},sh.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},sh.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_);t=this.disconnReceiver_(this.secondaryConn_),this.secondaryConn_.open(n,t),As((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},sh.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},sh.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):As((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},sh.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},sh.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},sh.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},sh.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},sh.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},sh.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},sh.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},sh);function sh(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ws("c:"+this.id+":"),this.transportManager_=new ih(e),this.log_("Connection created"),this.start_()}function uh(){}uh.prototype.put=function(t,e,n,r){},uh.prototype.merge=function(t,e,n,r){},uh.prototype.refreshAuthToken=function(t){},uh.prototype.onDisconnectPut=function(t,e,n){},uh.prototype.onDisconnectMerge=function(t,e,n){},uh.prototype.onDisconnectCancel=function(t,e){},uh.prototype.reportStats=function(t){};var ch,lh=1e3,hh=3e5,fh=(mo(ph,ch=yu=uh),ph.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_;e={r:r,a:t,b:e},this.log_(Jo(e)),Co(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(e),n&&(this.requestCBHash_[r]=n)},ph.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Co(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Co(!this.listens.get(o).has(i),"listen() called twice for same path/queryId."),n={onComplete:r,hashFn:e,query:t,tag:n},this.listens.get(o).set(i,n),this.connected_&&this.sendListen_(n)},ph.prototype.sendListen_=function(t){var e=this,n=t.query,r=n.path.toString(),i=n.queryIdentifier();this.log_("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=n.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,s=o.s;ph.warnOnListenWarnings_(a,n),(e.listens.get(r)&&e.listens.get(r).get(i))===t&&(e.log_("listen response",o),"ok"!==s&&e.removeListen_(r,i),t.onComplete&&t.onComplete(s,a))}))},ph.warnOnListenWarnings_=function(t,e){t&&"object"==typeof t&&ta(t,"w")&&(t=ea(t,"w"),Array.isArray(t)&&~t.indexOf("no_index")&&as("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+(t='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"')+" at "+(e=e.path.toString())+" to your security rules for better performance."))},ph.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},ph.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||function(t){return"object"==typeof(t=Zo(t).claims)&&!0===t.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},ph.prototype.tryAuth=function(){var t,e,n,r=this;this.connected_&&this.authToken_&&(e=function(t){return!!(t=Zo(t).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")}(t=this.authToken_)?"auth":"gauth",n={cred:t},null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(e,n,(function(e){var n=e.s;e=e.d||"error",r.authToken_===t&&("ok"===n?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(n,e))})))},ph.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Co(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},ph.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e),t={p:t},r&&(t.q=n,t.t=r),this.sendRequest("n",t)},ph.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},ph.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},ph.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},ph.prototype.sendOnDisconnect_=function(t,e,n,r){n={p:e,d:n},this.log_("onDisconnect "+t,n),this.sendRequest(t,n,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},ph.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},ph.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},ph.prototype.putInternal=function(t,e,n,r,i){n={p:e,d:n},void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:t,request:n,onComplete:r}),this.outstandingPutCount_++,r=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(r):this.log_("Buffering put: "+e)},ph.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},ph.prototype.reportStats=function(t){var e=this;this.connected_&&(t={c:t},this.log_("reportStats",t),this.sendRequest("s",t,(function(t){"ok"!==t.s&&(t=t.d,e.log_("reportStats","Error sending stats: "+t))})))},ph.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Jo(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},ph.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):is("Unrecognized action received from server: "+Jo(t)+"\nAre you using the latest client?")},ph.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},ph.prototype.scheduleConnect_=function(t){var e=this;Co(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},ph.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=lh,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},ph.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=lh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},ph.prototype.onRealtimeDisconnect_=function(){var t;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=lh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),t=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-t),t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},ph.prototype.establishConnection_=function(){var t,e,n,r,i,o,a,s,u,c,l=this;this.shouldReconnect_()&&(this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ph.nextConnectionId_++,o=(i=this).lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,n())},this.realtime_={close:u,sendRequest:function(t){Co(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(t)}},c=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then((function(u){a?bs("getToken() completed but was canceled"):(bs("getToken() completed. Creating connection."),i.authToken_=u&&u.accessToken,s=new ah(r,i.repoInfo_,i.applicationId_,t,e,n,(function(t){as(t+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")}),o))})).then(null,(function(t){i.log_("Failed to get token: "+t),a||(l.repoInfo_.nodeAdmin&&as(t),u())})))},ph.prototype.interrupt=function(t){bs("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},ph.prototype.resume=function(t){bs("Resuming connection for reason: "+t),delete this.interruptReasons_[t],na(this.interruptReasons_)&&(this.reconnectDelay_=lh,this.realtime_||this.scheduleConnect_(0))},ph.prototype.handleTimestamp_=function(t){t-=(new Date).getTime(),this.onServerInfoUpdate_({serverTimeOffset:t})},ph.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},ph.prototype.onListenRevoked_=function(t,e){e=e?e.map((function(t){return Ss(t)})).join("$"):"default",(e=this.removeListen_(t,e))&&e.onComplete&&e.onComplete("permission_denied")},ph.prototype.removeListen_=function(t,e){var n,r=new Ps(t).toString();return this.listens.has(r)?(n=(t=this.listens.get(r)).get(e),t.delete(e),0===t.size&&this.listens.delete(r)):n=void 0,n},ph.prototype.onAuthRevoked_=function(t,e){bs("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},ph.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},ph.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=Eo(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Eo(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},ph.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+Zl.replace(/\./g,"-")]=1,jo()?t["framework.cordova"]=1:Uo()&&(t["framework.reactnative"]=1),this.reportStats(t)},ph.prototype.shouldReconnect_=function(){var t=zl.getInstance().currentlyOnline();return na(this.interruptReasons_)&&t},ph.nextPersistentConnectionId_=0,ph.nextConnectionId_=0,ph);function ph(t,e,n,r,i,o,a){var s=ch.call(this)||this;if(s.repoInfo_=t,s.applicationId_=e,s.onDataUpdate_=n,s.onConnectStatus_=r,s.onServerInfoUpdate_=i,s.authTokenProvider_=o,s.authOverride_=a,s.id=ph.nextPersistentConnectionId_++,s.log_=ws("p:"+s.id+":"),s.interruptReasons_={},s.listens=new Map,s.outstandingPuts_=[],s.outstandingPutCount_=0,s.onDisconnectRequestQueue_=[],s.connected_=!1,s.reconnectDelay_=lh,s.maxReconnectDelay_=hh,s.securityDebugCallback_=null,s.lastSessionId=null,s.establishConnectionTimer_=null,s.visible_=!1,s.requestCBHash_={},s.requestNumber_=0,s.realtime_=null,s.authToken_=null,s.forceTokenRefresh_=!1,s.invalidAuthTokenCount_=0,s.firstConnection_=!0,s.lastConnectionAttemptTime_=null,s.lastConnectionEstablishedTime_=null,a&&!Vo())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return s.scheduleConnect_(0),Vl.getInstance().on("visible",s.onVisible_,s),-1===t.host.indexOf("fblocal")&&zl.getInstance().on("online",s.onOnline_,s),s}var dh,vh=(mo(yh,dh=yu),yh.prototype.reportStats=function(t){throw new Error("Method not implemented.")},yh.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Co(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},yh.prototype.listen=function(t,e,n,r){var i=this,o=t.path.toString();this.log_("Listen called for "+o+" "+t.queryIdentifier());var a=yh.getListenId_(t,n),s={};this.listens_[a]=s,t=t.getQueryParams().toRestQueryStringParameters(),this.restRequest_(o+".json",t,(function(t,e){404===t&&(t=e=null),null===t&&i.onDataUpdate_(o,e,!1,n),ea(i.listens_,a)===s&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},yh.prototype.unlisten=function(t,e){e=yh.getListenId_(t,e),delete this.listens_[e]},yh.prototype.refreshAuthToken=function(t){},yh.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){(i=i&&i.accessToken)&&(e.auth=i);var o=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=r[n];!function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}(i[0],i[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);var t=null;if(200<=a.status&&a.status<300){try{t=$o(a.responseText)}catch(t){as("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&as("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))},yh);function yh(t,e,n){var r=dh.call(this)||this;return r.repoInfo_=t,r.onDataUpdate_=e,r.authTokenProvider_=n,r.log_=ws("p:rest:"),r.listens_={},r}var gh="repo_interrupt",mh=(bh.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},bh.prototype.name=function(){return this.repoInfo_.namespace},bh.prototype.serverTime=function(){var t=this.infoData_.getNode(new Ps(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},bh.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},bh.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Ps(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o,a=[];t=i,0<(a=r?n?(o=ra(e,(function(t){return ec(t)})),this.serverSyncTree_.applyTaggedQueryMerge(i,o,r)):(o=ec(e),this.serverSyncTree_.applyTaggedQueryOverwrite(i,o,r)):n?(n=ra(e,(function(t){return ec(t)})),this.serverSyncTree_.applyServerMerge(i,n)):(e=ec(e),this.serverSyncTree_.applyServerOverwrite(i,e))).length&&(t=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(t,a)},bh.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},bh.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},bh.prototype.onServerInfoUpdate_=function(t){var e=this;Ts(t,(function(t,n){e.updateInfo_(t,n)}))},bh.prototype.updateInfo_=function(t,e){t=new Ps("/.info/"+t),e=ec(e),this.infoData_.updateSnapshot(t,e),e=this.infoSyncTree_.applyServerOverwrite(t,e),this.eventQueue_.raiseEventsForChangedPath(t,e)},bh.prototype.getNextWriteId_=function(){return this.nextWriteId_++},bh.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=(o=Tc(e=ec(e,n),n=this.serverSyncTree_.calcCompleteEventCache(t),o),this.getNextWriteId_());o=this.serverSyncTree_.applyUserOverwrite(t,o,a,!0),this.eventQueue_.queueEvents(o),this.server_.put(t.toString(),e.val(!0),(function(e,n){var o="ok"===e;o||as("set at "+t+" failed: "+e),o=i.serverSyncTree_.ackUserWrite(a,!o),i.eventQueue_.raiseEventsForChangedPath(t,o),i.callOnCompleteCallback(r,e,n)})),e=this.abortTransactions_(t),this.rerunTransactions_(e),this.eventQueue_.raiseEventsForChangedPath(e,[])},bh.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i,o,a=!0,s=this.generateServerValues(),u={};Ts(e,(function(e,n){a=!1,u[e]=Sc(t.child(e),ec(n),r.serverSyncTree_,s)})),a?(bs("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok")):(i=this.getNextWriteId_(),o=this.serverSyncTree_.applyUserMerge(t,u,i),this.eventQueue_.queueEvents(o),this.server_.merge(t.toString(),e,(function(e,o){(s="ok"===e)||as("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(i,!s),s=0<a.length?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(s,a),r.callOnCompleteCallback(n,e,o)})),Ts(e,(function(e){e=r.abortTransactions_(t.child(e)),r.rerunTransactions_(e)})),this.eventQueue_.raiseEventsForChangedPath(t,[]))},bh.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new Pc;this.onDisconnect_.forEachTree(Ps.Empty,(function(r,i){i=Sc(r,i,t.serverSyncTree_,e),n.remember(r,i)}));var r=[];n.forEachTree(Ps.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n)),e=t.abortTransactions_(e),t.rerunTransactions_(e)})),this.onDisconnect_=new Pc,this.eventQueue_.raiseEventsForChangedPath(Ps.Empty,r)},bh.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},bh.prototype.onDisconnectSet=function(t,e,n){var r=this,i=ec(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},bh.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=ec(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},bh.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(na(e))return bs("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&Ts(e,(function(e,n){n=ec(n),r.onDisconnect_.remember(t.child(e),n)})),r.callOnCompleteCallback(n,i,o)}))},bh.prototype.addEventCallbackForQuery=function(t,e){e=(".info"===t.path.getFront()?this.infoSyncTree_:this.serverSyncTree_).addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,e)},bh.prototype.removeEventCallbackForQuery=function(t,e){e=(".info"===t.path.getFront()?this.infoSyncTree_:this.serverSyncTree_).removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,e)},bh.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(gh)},bh.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(gh)},bh.prototype.stats=function(t){var e;void 0===t&&(t=!1),"undefined"!=typeof console&&(t=t?(this.statsListener_||(this.statsListener_=new Ol(this.stats_)),this.statsListener_.get()):this.stats_.get(),e=Object.keys(t).reduce((function(t,e){return Math.max(e.length,t)}),0),Ts(t,(function(t,n){for(var r=t,i=t.length;i<e+2;i++)r+=" ";console.log(r+n)})))},bh.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},bh.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),bs.apply(void 0,So([n],t))},bh.prototype.callOnCompleteCallback=function(t,e,n){t&&Ns((function(){var r,i;"ok"===e?t(null):(i=r=(e||"error").toUpperCase(),n&&(i+=": "+n),(i=new Error(i)).code=r,t(i))}))},Object.defineProperty(bh.prototype,"database",{get:function(){return this.__database||(this.__database=new Vh(this))},enumerable:!1,configurable:!0}),bh);function bh(t,e,n,r){var i=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Pc,this.persistentConnection_=null,this.stats_=Al.getCollection(t),e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new vh(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Jo(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new fh(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Al.getOrCreateReporter(t,(function(){return new xl(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Sl,this.infoSyncTree_=new El({startListening:function(t,e,n,r){var o=[],a=i.infoData_.getNode(t.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new El({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){n=r(e,n),i.eventQueue_.raiseEventsForChangedPath(t.path,n)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}var wh=(_h.prototype.getStartPost=function(){return this.startPost_},_h.prototype.getEndPost=function(){return this.endPost_},_h.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},_h.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new fu(e,n))||(n=Xu.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},_h.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Xu.EMPTY_NODE);var r=(r=e.withIndex(this.index_)).updatePriority(Xu.EMPTY_NODE),i=this;return e.forEachChild(Cu,(function(t,e){i.matches(new fu(t,e))||(r=r.updateImmediateChild(t,Xu.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},_h.prototype.updatePriority=function(t,e){return t},_h.prototype.filtersNodes=function(){return!0},_h.prototype.getIndexedFilter=function(){return this.indexedFilter_},_h.prototype.getIndex=function(){return this.index_},_h.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},_h.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},_h);function _h(t){this.indexedFilter_=new Jc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=_h.getStartPost_(t),this.endPost_=_h.getEndPost_(t)}var Eh=(Ih.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new fu(e,n))||(n=Xu.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},Ih.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Xu.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Xu.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Xu.EMPTY_NODE);var s,u=void 0,c=void 0,l=void 0;i=void 0,l=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),s=this.index_.getCompare(),function(t,e){return s(e,t)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare()),o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(u,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,c)<=0?o++:r=r.updateImmediateChild(a.name,Xu.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},Ih.prototype.updatePriority=function(t,e){return t},Ih.prototype.filtersNodes=function(){return!0},Ih.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},Ih.prototype.getIndex=function(){return this.index_},Ih.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o,a;a=this.reverse_?(o=this.index_.getCompare(),function(t,e){return o(e,t)}):this.index_.getCompare();var s=t;Co(s.numChildren()===this.limit_,"");var u=new fu(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:a(f,u);return l&&!n.isEmpty()&&0<=p?(null!=i&&i.trackChildChange(Yc.childChangedChange(e,n,h)),s.updateImmediateChild(e,n)):(null!=i&&i.trackChildChange(Yc.childRemovedChange(e,h)),h=s.updateImmediateChild(e,Xu.EMPTY_NODE),null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Yc.childAddedChange(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h)}return!n.isEmpty()&&l&&0<=a(c,u)?(null!=i&&(i.trackChildChange(Yc.childRemovedChange(c.name,c.node)),i.trackChildChange(Yc.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,Xu.EMPTY_NODE)):t},Ih);function Ih(t){this.rangedFilter_=new wh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}var Sh=(Th.prototype.hasStart=function(){return this.startSet_},Th.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===Th.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},Th.prototype.getIndexStartValue=function(){return Co(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},Th.prototype.getIndexStartName=function(){return Co(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_s},Th.prototype.hasEnd=function(){return this.endSet_},Th.prototype.getIndexEndValue=function(){return Co(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},Th.prototype.getIndexEndName=function(){return Co(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Es},Th.prototype.hasLimit=function(){return this.limitSet_},Th.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},Th.prototype.getLimit=function(){return Co(this.limitSet_,"Only valid if limit has been set"),this.limit_},Th.prototype.getIndex=function(){return this.index_},Th.prototype.copy_=function(){var t=new Th;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},Th.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},Th.prototype.limitToFirst=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=Th.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,e},Th.prototype.limitToLast=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=Th.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,e},Th.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},Th.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},Th.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},Th.prototype.getQueryObject=function(){var t,e=Th.WIRE_PROTOCOL_CONSTANTS_,n={};return this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_&&(n[e.LIMIT]=this.limit_,""===(t=this.viewFrom_)&&(t=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=t),this.index_!==Cu&&(n[e.INDEX]=this.index_.toString()),n},Th.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},Th.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Cu},Th.prototype.getNodeFilter=function(){return this.loadsAllData()?new Jc(this.getIndex()):new(this.hasLimit()?Eh:wh)(this)},Th.prototype.toRestQueryStringParameters=function(){var t,e=Th.REST_QUERY_CONSTANTS_,n={};return this.isDefault()||(t=this.index_===Cu?e.PRIORITY_INDEX:this.index_===ic?e.VALUE_INDEX:this.index_===bu?e.KEY_INDEX:(Co(this.index_ instanceof oc,"Unrecognized index type!"),this.index_.toString()),n[e.ORDER_BY]=Jo(t),this.startSet_&&(n[e.START_AT]=Jo(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+Jo(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=Jo(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+Jo(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_)),n},Th.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},Th.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},Th.DEFAULT=new Th,Th);function Th(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Cu}var kh,Nh=(mo(Ah,kh=mc),Ah.prototype.getKey=function(){return la("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},Ah.prototype.child=function(t){var e,n,r;return la("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Ps||(null===this.path.getFront()?(r=!(e=1),Xs("Reference.child",e,n=(n=t)&&n.replace(/^\/*\.info(\/|$)/,"/"),r)):Xs("Reference.child",1,t,!1)),new Ah(this.repo,this.path.child(t))},Ah.prototype.getParent=function(){la("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new Ah(this.repo,t)},Ah.prototype.getRoot=function(){la("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},Ah.prototype.databaseProp=function(){return this.repo.database},Ah.prototype.set=function(t,e){la("Reference.set",1,2,arguments.length),Ys("Reference.set",this.path),Ws("Reference.set",1,t,this.path,!1),fa("Reference.set",2,e,!0);var n=new Do;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},Ah.prototype.update=function(t,e){if(la("Reference.update",1,2,arguments.length),Ys("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,as("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Hs("Reference.update",1,t,this.path,!1),fa("Reference.update",2,e,!0);var i=new Do;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},Ah.prototype.setWithPriority=function(t,e,n){if(la("Reference.setWithPriority",2,3,arguments.length),Ys("Reference.setWithPriority",this.path),Ws("Reference.setWithPriority",1,t,this.path,!1),Gs("Reference.setWithPriority",2,e,!1),fa("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new Do;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},Ah.prototype.remove=function(t){return la("Reference.remove",0,1,arguments.length),Ys("Reference.remove",this.path),fa("Reference.remove",1,t,!0),this.set(null,t)},Ah.prototype.transaction=function(t,e,n){if(la("Reference.transaction",1,3,arguments.length),Ys("Reference.transaction",this.path),fa("Reference.transaction",1,t,!1),fa("Reference.transaction",2,e,!0),function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(ha("Reference.transaction",3,r)+"must be a boolean.")}(0,0,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new Do;return"function"==typeof e&&r.promise.catch((function(){})),this.repo.startTransaction(this.path,t,(function(t,n,i){t?r.reject(t):r.resolve(new ou(n,i)),"function"==typeof e&&e(t,n,i)}),n),r.promise},Ah.prototype.setPriority=function(t,e){la("Reference.setPriority",1,2,arguments.length),Ys("Reference.setPriority",this.path),Gs("Reference.setPriority",1,t,!1),fa("Reference.setPriority",2,e,!0);var n=new Do;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},Ah.prototype.push=function(t,e){la("Reference.push",0,2,arguments.length),Ys("Reference.push",this.path),Ws("Reference.push",1,t,this.path,!0),fa("Reference.push",2,e,!0);var n=this.repo.serverTime(),r=hu(n),i=(n=this.child(r),this.child(r));return t=null!=t?n.set(t,e).then((function(){return i})):Promise.resolve(i),n.then=t.then.bind(t),n.catch=t.then.bind(t,void 0),"function"==typeof e&&t.catch((function(){})),n},Ah.prototype.onDisconnect=function(){return Ys("Reference.onDisconnect",this.path),new ru(this.repo,this.path)},Object.defineProperty(Ah.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(Ah.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(Ah.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(Ah.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),Ah);function Ah(t,e){if(!(t instanceof mh))throw new Error("new Reference() no longer supported - use app.database().");return kh.call(this,t,e,Sh.DEFAULT,!1)||this}mc.__referenceConstructor=Nh,dl.__referenceConstructor=Nh;var Ch,Oh=function(){this.children={},this.childCount=0,this.value=null},Ph=(xh.prototype.subTree=function(t){for(var e=t instanceof Ps?t:new Ps(t),n=this,r=e.getFront();null!==r;)n=new xh(r,n,ea(n.node_.children,r)||new Oh),r=(e=e.popFront()).getFront();return n},xh.prototype.getValue=function(){return this.node_.value},xh.prototype.setValue=function(t){Co(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},xh.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},xh.prototype.hasChildren=function(){return 0<this.node_.childCount},xh.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},xh.prototype.forEachChild=function(t){var e=this;Ts(this.node_.children,(function(n,r){t(new xh(n,e,r))}))},xh.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},xh.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},xh.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},xh.prototype.path=function(){return new Ps(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},xh.prototype.name=function(){return this.name_},xh.prototype.parent=function(){return this.parent_},xh.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},xh.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=ta(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},xh);function xh(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new Oh),this.name_=t,this.parent_=e,this.node_=n}(G=Ch=Ch||{})[G.RUN=0]="RUN",G[G.SENT=1]="SENT",G[G.COMPLETED=2]="COMPLETED",G[G.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",G[G.NEEDS_ABORT=4]="NEEDS_ABORT",mh.MAX_TRANSACTION_RETRIES_=25,mh.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Ph},mh.prototype.startTransaction=function(t,e,n,r){function i(){}this.log_("transaction on "+t);var o=new Nh(this,t);o.on("value",i);var a,s={path:t,update:e,onComplete:n,status:null,order:vs(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};e=this.getLatestState_(t),s.currentInputSnapshot=e,void 0===(n=s.update(e.val()))?(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&(a=new sc(s.currentInputSnapshot,new Nh(this,s.path),Cu),s.onComplete(null,!1,a))):(nu("transaction failed: Data returned ",n,s.path),s.status=Ch.RUN,(a=(r=this.transactionQueueTree_.subTree(t)).getValue()||[]).push(s),r.setValue(a),r=void 0,"object"==typeof n&&null!==n&&ta(n,".priority")?(r=ea(n,".priority"),Co(zs(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):r=(this.serverSyncTree_.calcCompleteEventCache(t)||Xu.EMPTY_NODE).getPriority().val(),a=this.generateServerValues(),a=Tc(r=ec(n,r),e,a),s.currentOutputSnapshotRaw=r,s.currentOutputSnapshotResolved=a,s.currentWriteId=this.getNextWriteId_(),s=this.serverSyncTree_.applyUserOverwrite(t,a,s.currentWriteId,s.applyLocally),this.eventQueue_.raiseEventsForChangedPath(t,s),this.sendReadyTransactions_())},mh.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Xu.EMPTY_NODE},mh.prototype.sendReadyTransactions_=function(t){var e,n=this;void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()?(e=this.buildTransactionQueue_(t),Co(0<e.length,"Sending zero length transaction queue"),e.every((function(t){return t.status===Ch.RUN}))&&this.sendTransactionQueue_(t.path(),e)):t.hasChildren()&&t.forEachChild((function(t){n.sendReadyTransactions_(t)}))},mh.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=u=this.getLatestState_(t,r),o=(r=u.hash(),0);o<e.length;o++){var a=e[o];Co(a.status===Ch.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=Ch.SENT,a.retryCount++;var s=Ps.relativePath(t,a.path);i=i.updateChild(s,a.currentOutputSnapshotRaw)}var u=i.val(!0),c=t;this.server_.put(c.toString(),u,(function(r){n.log_("transaction put response",{path:c.toString(),status:r});var i=[];if("ok"===r){for(var o,a,s=[],u=0;u<e.length;u++)e[u].status=Ch.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[u].currentWriteId)),e[u].onComplete&&(o=e[u].currentOutputSnapshotResolved,a=new Nh(n,e[u].path),a=new sc(o,a,Cu),s.push(e[u].onComplete.bind(null,null,!0,a))),e[u].unwatcher();for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),u=0;u<s.length;u++)Ns(s[u])}else{if("datastale"===r)for(u=0;u<e.length;u++)e[u].status===Ch.SENT_NEEDS_ABORT?e[u].status=Ch.NEEDS_ABORT:e[u].status=Ch.RUN;else for(as("transaction at "+c.toString()+" failed: "+r),u=0;u<e.length;u++)e[u].status=Ch.NEEDS_ABORT,e[u].abortReason=r;n.rerunTransactions_(t)}}),r)},mh.prototype.rerunTransactions_=function(t){t=(e=this.getAncestorTransactionNode_(t)).path();var e=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(e,t),t},mh.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===Ch.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var a,s,u,c=t[o],l=Ps.relativePath(e,c.path),h=!1,f=void 0;Co(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===Ch.NEEDS_ABORT?(h=!0,f=c.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))):c.status===Ch.RUN&&(r=c.retryCount>=mh.MAX_TRANSACTION_RETRIES_?(h=!0,f="maxretry",r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))):(a=this.getLatestState_(c.path,i),c.currentInputSnapshot=a,void 0!==(u=t[o].update(a.val()))?(nu("transaction failed: Data returned ",u,c.path),s=ec(u),"object"==typeof u&&null!=u&&ta(u,".priority")||(s=s.updatePriority(a.getPriority())),l=c.currentWriteId,u=Tc(s,a,u=this.generateServerValues()),c.currentOutputSnapshotRaw=s,c.currentOutputSnapshotResolved=u,c.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(l),1),(r=r.concat(this.serverSyncTree_.applyUserOverwrite(c.path,u,c.currentWriteId,c.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(l,!0))):(h=!0,f="nodata",r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))))),this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],h&&(t[o].status=Ch.COMPLETED,c=t[o].unwatcher,setTimeout(c,Math.floor(0)),t[o].onComplete&&("nodata"===f?(h=new Nh(this,t[o].path),c=t[o].currentInputSnapshot,h=new sc(c,h,Cu),n.push(t[o].onComplete.bind(null,null,!1,h))):n.push(t[o].onComplete.bind(null,new Error(f),!1,null))))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)Ns(n[o]);this.sendReadyTransactions_()}},mh.prototype.getAncestorTransactionNode_=function(t){for(var e=this.transactionQueueTree_,n=t.getFront();null!==n&&null===e.getValue();)e=e.subTree(n),n=(t=t.popFront()).getFront();return e},mh.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},mh.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},mh.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Ch.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(0<n.length?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},mh.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path();return(t=this.transactionQueueTree_.subTree(t)).forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(t),t.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},mh.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===Ch.SENT_NEEDS_ABORT||(e[o].status===Ch.SENT?(Co(i===o-1,"All SENT items should be at beginning of queue."),e[i=o].status=Ch.SENT_NEEDS_ABORT,e[o].abortReason="set"):(Co(e[o].status===Ch.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)Ns(n[o])}};var Rh=(Dh.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(bs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},Dh.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},Dh.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},Dh.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',as(t)},Dh);function Dh(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}var Lh=(Mh.prototype.getToken=function(t){return Promise.resolve({accessToken:Mh.EMULATOR_AUTH_TOKEN})},Mh.prototype.addTokenChangeListener=function(t){t(Mh.EMULATOR_AUTH_TOKEN)},Mh.prototype.removeTokenChangeListener=function(t){},Mh.prototype.notifyForInvalidToken=function(){},Mh.EMULATOR_AUTH_TOKEN="owner",Mh);function Mh(){}var jh,Fh=(Uh.getInstance=function(){return jh=jh||new Uh},Uh.prototype.interrupt=function(){var t,e,n,r;try{for(var i=Eo(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Eo(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].interrupt()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},Uh.prototype.resume=function(){var t,e,n,r;try{for(var i=Eo(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Eo(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].resume()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},Uh.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||os("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bs("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,a=Vs(i,r),s=a.repoInfo;return n=void 0,"undefined"!=typeof process&&(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),n?(o=!0,s=(a=Vs(i="http://"+n+"?ns="+s.namespace,r)).repoInfo):o=!a.repoInfo.secure,e=r&&o?new Lh:new Rh(t,e),$s("Invalid Firebase Database URL",1,a),a.path.isEmpty()||os("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,t,e).database},Uh.prototype.deleteRepo=function(t){var e=ea(this.repos_,t.app.name);e&&ea(e,t.repoInfo_.toURLString())===t||os("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},Uh.prototype.createRepo=function(t,e,n){var r=ea(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=ea(r,t.toURLString());return i&&os("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new mh(t,this.useRestClient_,e,n),r[t.toURLString()]=i},Uh.prototype.forceRestClient=function(t){this.useRestClient_=t},Uh);function Uh(){this.repos_={},this.useRestClient_=!1}var Vh=(Object.defineProperty(qh.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),qh.prototype.ref=function(t){return this.checkDeleted_("ref"),la("database.ref",0,1,arguments.length),t instanceof Nh?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},qh.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),la(e,1,1,arguments.length);var n=Vs(t,this.repo_.repoInfo_.nodeAdmin);return $s(e,1,n),(t=n.repoInfo).host!==this.repo_.repoInfo_.host&&os(e+": Host name does not match the current database: (found "+t.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},qh.prototype.checkDeleted_=function(t){null===this.repo_&&os("Cannot call "+t+" on a deleted database.")},qh.prototype.goOffline=function(){la("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},qh.prototype.goOnline=function(){la("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},qh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},qh);function qh(t){(this.repo_=t)instanceof mh||os("Don't call new Database() directly - please use firebase.database()."),this.root_=new Nh(t,Ps.Empty),this.INTERNAL=new Bh(this)}var Bh=(zh.prototype.delete=function(){return wo(this,void 0,void 0,(function(){return _o(this,(function(t){return this.database.checkDeleted_("delete"),Fh.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},zh);function zh(t){this.database=t}var Wh=Object.freeze({__proto__:null,forceLongPolling:function(){nh.forceDisallow(),Xl.forceAllow()},forceWebSockets:function(){Xl.forceDisallow()},isWebSocketsAvailable:function(){return nh.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace;return t=void 0!==(t=t.nodeAdmin)&&t,th(r),(r=new Ia("auth-internal",new Ta("database-standalone"))).setComponent(new wa("auth-internal",(function(){return i}),"PRIVATE")),{instance:Fh.getInstance().databaseFromApp(e,r,n,t),namespace:o}}});Dr=fh,fh.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},fh.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Hh,Gh=Object.freeze({__proto__:null,DataConnection:Dr,RealTimeConnection:ah,hijackHash:function(t){var e=fh.prototype.put;return fh.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){fh.prototype.put=e}},ConnectionTarget:Fs,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){Fh.getInstance().forceRestClient(t)}}),Kh=Vh.ServerValue;th((Hh=$a).SDK_VERSION),Hh.INTERNAL.registerComponent(new wa("database",(function(t,e){var n=t.getProvider("app").getImmediate();return t=t.getProvider("auth-internal"),Fh.getInstance().databaseFromApp(n,t,e)}),"PUBLIC").setServiceProps({Reference:Nh,Query:mc,Database:Vh,DataSnapshot:sc,enableLogging:rs,INTERNAL:Wh,ServerValue:Kh,TEST_ACCESS:Gh}).setMultipleInstances(!0)),Hh.registerVersion("@firebase/database","0.6.13");var Qh=function(t,e){return(Qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Xh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};var Yh={},$h=j||self;function Jh(){}function Zh(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function tf(t){var e=Zh(t);return"array"==e||"object"==e&&"number"==typeof t.length}function ef(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var nf="closure_uid_"+(1e9*Math.random()>>>0),rf=0;function of(t,e,n){return t.call.apply(t.bind,arguments)}function af(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function sf(t,e,n){return(sf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?of:af).apply(null,arguments)}function uf(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var cf=Date.now;function lf(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function hf(){this.j=this.j,this.i=this.i}hf.prototype.j=!1,hf.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,nf)&&t[nf]||(t[nf]=++rf))},hf.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ff=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},pf=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function df(){return Array.prototype.concat.apply([],arguments)}function vf(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function yf(t){return/^[\s\xa0]*$/.test(t)}var gf,mf=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function bf(t,e){return-1!=t.indexOf(e)}function wf(t,e){return t<e?-1:e<t?1:0}var _f=$h.navigator;function Ef(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function If(t){var e,n={};for(e in t)n[e]=t[e];return n}gf=_f&&(_f=_f.userAgent)?_f:"";var Sf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tf(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<Sf.length;i++)e=Sf[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function kf(t){return kf[" "](t),t}kf[" "]=Jh;var Nf,Af=bf(gf,"Opera"),Cf=bf(gf,"Trident")||bf(gf,"MSIE"),Of=bf(gf,"Edge"),Pf=Of||Cf,xf=bf(gf,"Gecko")&&!(bf(gf.toLowerCase(),"webkit")&&!bf(gf,"Edge"))&&!(bf(gf,"Trident")||bf(gf,"MSIE"))&&!bf(gf,"Edge"),Rf=bf(gf.toLowerCase(),"webkit")&&!bf(gf,"Edge");function Df(){var t=$h.document;return t?t.documentMode:void 0}var Lf="",Mf=(Mf=gf,xf?/rv:([^\);]+)(\)|;)/.exec(Mf):Of?/Edge\/([\d\.]+)/.exec(Mf):Cf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Mf):Rf?/WebKit\/(\S+)/.exec(Mf):Af?/(?:Version)[ \/]?(\S+)/.exec(Mf):void 0);Mf&&(Lf=Mf?Mf[1]:""),Nf=Cf&&null!=(Mf=Df())&&Mf>parseFloat(Lf)?String(Mf):Lf;var jf={};function Ff(t){return e=t,n=function(){for(var e=0,n=mf(String(Nf)).split("."),r=mf(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=wf(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||wf(0==a[2].length,0==s[2].length)||wf(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e},r=jf,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n(e);var e,n,r}var Uf=$h.document&&Cf&&(Df()||parseInt(Nf,10))||void 0,Vf=!Cf||9<=Number(Uf),qf=Cf&&!Ff("9"),Bf=function(){if(!$h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$h.addEventListener("test",Jh,e),$h.removeEventListener("test",Jh,e)}catch(t){}return t}();function zf(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Wf(t,e){if(zf.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(xf){t:{try{kf(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Hf[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}zf.prototype.b=function(){this.defaultPrevented=!0},lf(Wf,zf);var Hf={2:"touch",3:"pen",4:"mouse"};Wf.prototype.b=function(){Wf.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,qf)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var Gf="closure_listenable_"+(1e6*Math.random()|0),Kf=0;function Qf(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Kf,this.Y=this.Z=!1}function Xf(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Yf(t){this.src=t,this.a={},this.b=0}function $f(t,e){var n,r,i,o=e.type;o in t.a&&(n=t.a[o],(i=0<=(r=ff(n,e)))&&Array.prototype.splice.call(n,r,1),i&&(Xf(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function Jf(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Yf.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Jf(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Qf(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Zf="closure_lm_"+(1e6*Math.random()|0),tp={};function ep(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=cp(r),e&&e[Gf]?e.wa(n,r,ef(i)?!!i.capture:!!i,o):np(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ep(t,e[o],n,r,i);return null}return n=cp(n),t&&t[Gf]?t.va(e,n,ef(r)?!!r.capture:!!r,i):np(t,e,n,!1,r,i)}function np(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=ef(i)?!!i.capture:!!i;if(a&&!Vf)return null;var s,u,c=sp(t);if(c||(t[Zf]=c=new Yf(t)),(n=c.add(e,n,r,a,o)).proxy)return n;if(s=ap,r=u=Vf?function(t){return s.call(u.src,u.listener,t)}:function(t){if(!(t=s.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)Bf||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ip(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function rp(t){var e,n,r;"number"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[Gf]?$f(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ip(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sp(e))?($f(n,t),0==n.b&&(n.src=null,e[Zf]=null)):Xf(t)))}function ip(t){return t in tp?tp[t]:tp[t]="on"+t}function op(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&rp(t),n.call(r,e)}function ap(t,e){if(t.Y)return!0;if(Vf)return op(t,new Wf(e,this));if(!e)t:{e=["window","event"];for(var n=$h,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return op(t,e=new Wf(e,this))}function sp(t){return(t=t[Zf])instanceof Yf?t:null}var up="__closure_events_fn_"+(1e9*Math.random()>>>0);function cp(t){return"function"==Zh(t)?t:(t[up]||(t[up]=function(e){return t.handleEvent(e)}),t[up])}function lp(){hf.call(this),this.c=new Yf(this),(this.J=this).C=null}function hp(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.Y&&u.capture==n&&(a=u.listener,s=u.ca||u.src,u.Z&&$f(t.c,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}lf(lp,hf),lp.prototype[Gf]=!0,(yu=lp.prototype).addEventListener=function(t,e,n,r){ep(this,t,e,n,r)},yu.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=ef(i)?!!i.capture:!!i,r=cp(r),e&&e[Gf]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Jf(a=e.a[n],r,i,o))&&(Xf(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):(e=e&&sp(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Jf(n,r,i,o)),(r=-1<e?n[e]:null)&&rp(r))}(this,t,e,n,r)},yu.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t?t=new zf(t,n):t instanceof zf?t.target=t.target||n:(a=t,Tf(t=new zf(r,n),a)),a=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.a=e[i],a=hp(o,r,!0,t)&&a;if(a=hp(o=t.a=n,r,!0,t)&&a,a=hp(o,r,!1,t)&&a,e)for(i=0;i<e.length;i++)a=hp(o=t.a=e[i],r,!1,t)&&a;return a},yu.G=function(){if(lp.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Xf(n[r]);delete e.a[t],e.b--}}this.C=null},yu.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},yu.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var fp=$h.JSON.stringify;function pp(){this.b=this.a=null}var dp,vp=(yp.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new yp((function(){return new gp}),(function(t){t.reset()}),100));function yp(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function gp(){this.next=this.b=this.a=null}function mp(t,e){var n;dp||(n=$h.Promise.resolve(void 0),dp=function(){n.then(_p)}),bp||(dp(),bp=!0),wp.add(t,e)}pp.prototype.add=function(t,e){var n=vp.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},gp.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var bp=!(gp.prototype.reset=function(){this.next=this.b=this.a=null}),wp=new pp;function _p(){for(var t,e;n=e=void 0,n=null,(e=wp).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){$h.setTimeout((function(){throw t}),0)}(t)}var n=vp;n.g(t),n.b<n.f&&(n.b++,t.next=n.a,n.a=t)}bp=!1}function Ep(t,e){lp.call(this),this.b=t||1,this.a=e||$h,this.f=sf(this.Ya,this),this.g=cf()}function Ip(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Sp(t,e,n){if("function"==Zh(t))n&&(t=sf(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=sf(t.handleEvent,t)}return 2147483647<Number(e)?-1:$h.setTimeout(t,e||0)}lf(Ep,lp),(yu=Ep.prototype).aa=!1,yu.M=null,yu.Ya=function(){var t;this.aa&&(0<(t=cf()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ip(this),this.start())))},yu.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=cf())},yu.G=function(){Ep.S.G.call(this),Ip(this),delete this.a};var Tp,kp,Np,Ap=(Qh(kp=Op,Np=Tp=hf),kp.prototype=null===Np?Object.create(Np):(Cp.prototype=Np.prototype,new Cp),Op.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=Sp((function(){e.a=null,e.c&&(e.c=!1,t(e))}),e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},Op.prototype.G=function(){Tp.prototype.G.call(this),this.a&&($h.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},Op);function Cp(){this.constructor=kp}function Op(t,e,n){var r=Tp.call(this)||this;return r.g=null!=n?t.bind(n):t,r.h=e,r.b=null,r.c=!1,r.a=null,r}function Pp(t){hf.call(this),this.b=t,this.a={}}lf(Pp,hf);var xp=[];function Rp(t,e,n,r){Array.isArray(n)||(n&&(xp[0]=n.toString()),n=xp);for(var i=0;i<n.length;i++){var o=ep(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Dp(t){Ef(t.a,(function(t,e){this.a.hasOwnProperty(e)&&rp(t)}),t),t.a={}}function Lp(){this.a=!0}function Mp(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)&&"noop"!=(r=i[0])&&"stop"!=r&&"close"!=r)for(var o=1;o<i.length;o++)i[o]=""}}return fp(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Pp.prototype.G=function(){Pp.S.G.call(this),Dp(this)},Pp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lp.prototype.info=function(){};var jp,Fp=null;function Up(){return Fp=Fp||new lp}function Vp(t){zf.call(this,"serverreachability",t)}function qp(t){var e=Up();e.dispatchEvent(new Vp(e))}function Bp(t){zf.call(this,"statevent",t)}function zp(t){var e=Up();e.dispatchEvent(new Bp(e))}function Wp(t){zf.call(this,"timingevent",t)}function Hp(t,e){if("function"!=Zh(t))throw Error("Fn must not be null and must be a function");return $h.setTimeout((function(){t()}),e)}function Gp(){}function Kp(t){var e;return(e=t.a)||(e=t.a={}),e}function Qp(){}function Xp(){zf.call(this,"d")}function Yp(){zf.call(this,"c")}function $p(){}function Jp(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Pp(this),this.P=Zp,t=Pf?125:void 0,this.R=new Ep(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}lf(Vp,zf),lf(Bp,zf),lf(Wp,zf),G={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Dr={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"},Gp.prototype.a=null,j={OPEN:"a",$a:"b",Ea:"c",jb:"d"},lf(Xp,zf),lf(Yp,zf),lf($p,Gp),jp=new $p;var Zp=45e3,td={},ed={};function nd(t,e,n){t.H=1,t.i=Id(gd(e)),t.j=n,t.I=!0,rd(t,null)}function rd(t,e){t.u=cf(),od(t),t.l=gd(t.i);var n,r,i,o,a,s,u=t.l,c=t.T;Array.isArray(c)||(c=[String(c)]),Md(u.b,"t",c),t.D=0,t.a=Cv(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ap(sf(t.Ca,t,t.a),t.O)),Rp(t.J,t.a,"readystatechange",t.Wa),e=t.B?If(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),qp(1),n=t.c,r=t.m,i=t.l,o=t.f,a=t.T,s=t.j,n.info((function(){if(n.a)if(s)for(var t="",e=s.split("&"),u=0;u<e.length;u++){var c,l,h=e[u].split("=");1<h.length&&(c=h[0],h=h[1],t=2<=(l=c.split("_")).length&&"type"==l[1]?t+(c+"=")+h+"&":t+(c+"=redacted&"))}else t=null;else t=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+t}))}function id(t,e,n){for(var r,i,o,a=!0;!t.A&&t.D<n.length;){var s=(s=n,o=i=void 0,i=(r=t).D,-1==(o=s.indexOf("\n",i))?ed:(i=Number(s.substring(i,o)),isNaN(i)?td:(o+=1)+i>s.length?ed:(s=s.substr(o,i),r.D=o+i,s)));if(s==ed){4==e&&(t.h=4,zp(14),a=!1),Mp(t.c,t.f,null,"[Incomplete Response]");break}if(s==td){t.h=4,zp(15),Mp(t.c,t.f,n,"[Invalid Chunk]"),a=!1;break}Mp(t.c,t.f,s,null),ld(t,s)}4==e&&0==n.length&&(t.h=1,zp(16),a=!1),t.b=t.b&&a,a?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),_v(e),e.F=!0)):(Mp(t.c,t.f,n,"[Invalid Chunked Response]"),cd(t),ud(t))}function od(t){t.U=cf()+t.P,ad(t,t.P)}function ad(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Hp(sf(t.Ua,t),e)}function sd(t){t.o&&($h.clearTimeout(t.o),t.o=null)}function ud(t){0==t.g.v||t.A||Sv(t.g,t)}function cd(t){sd(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ip(t.R),Dp(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ld(t,e){try{var n,r,i,o,a,s=t.g;if(0!=s.v&&(s.a==t||zd(s.b,t)))if(s.I=t.N,!t.C&&zd(s.b,t)&&3==s.v){try{var u=s.ka.a.parse(e)}catch(t){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){t:if(!s.j){if(s.a){if(!(s.a.u+3e3<t.u))break t;Iv(s),fv(s)}wv(s),zp(18)}}else s.oa=c[1],0<s.oa-s.P&&c[2]<37500&&s.H&&0==s.o&&!s.m&&(s.m=Hp(sf(s.Ra,s),6e3));if(Bd(s.b)<=1&&s.ea){try{s.ea()}catch(t){}s.ea=void 0}}else kv(s,11)}else if(!t.C&&s.a!=t||Iv(s),!yf(e))for(e=u=s.ka.a.parse(e),u=0;u<e.length;u++)c=e[u],s.P=c[0],c=c[1],2==s.v?"c"==c[0]?(s.J=c[1],s.ga=c[2],null!=(r=c[3])&&(s.ha=r,s.c.info("VER="+s.ha)),null!=(o=c[4])&&(s.pa=o,s.c.info("SVER="+s.pa)),null!=(r=c[5])&&"number"==typeof r&&0<r&&(n=1.5*r,s.D=n,s.c.info("backChannelRequestTimeoutMs_="+n)),n=s,(o=t.a)&&(!(r=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(i=n.b).a&&(bf(r,"spdy")||bf(r,"quic")||bf(r,"h2"))&&(i.f=i.g,i.a=new Set,i.b&&(Wd(i,i.b),i.b=null)),!n.A||(a=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(n.na=a,Ed(n.B,n.A,a))),s.v=3,s.f&&s.f.ta(),s.V&&(s.N=cf()-t.u,s.c.info("Handshake RTT: "+s.N+"ms")),i=t,(n=s).la=Av(n,n.C?n.ga:null,n.fa),i.C?(Hd(n.b,i),o=i,(a=n.D)&&o.setTimeout(a),o.o&&(sd(o),od(o)),n.a=i):bv(n),0<s.g.length&&vv(s)):"stop"!=c[0]&&"close"!=c[0]||kv(s,7):3==s.v&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?kv(s,7):hv(s):"noop"!=c[0]&&s.f&&s.f.sa(c),s.o=0);qp(4)}catch(t){}}function hd(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(tf(t)||"string"==typeof t)pf(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(tf(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(tf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function fd(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof fd)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function pd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];dd(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)dd(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function dd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(yu=Jp.prototype).setTimeout=function(t){this.P=t},yu.Wa=function(t){t=t.target;var e=this.F;e&&3==sv(t)?e.f():this.Ca(t)},yu.Ca=function(t){try{if(t==this.a)t:{var e=sv(this.a),n=this.a.ua(),r=this.a.X();if(!(e<3||3==e&&!Pf&&!this.a.$())){this.A||4!=e||7==n||qp(8==n||r<=0?3:2),sd(this);var i=this.a.X();if(this.N=i,n=this.a.$(),this.b=200==i,r=this.c,s=this.m,u=this.l,c=this.f,l=this.T,h=e,f=i,r.info((function(){return"XMLHTTP RESP ("+c+") [ attempt "+l+"]: "+s+"\n"+u+"\n"+h+" "+f})),this.b){if(this.V&&!this.C){e:{if(this.a){var o=this.a;if((o=o.a?o.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yf(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.h=3,zp(12),cd(this),ud(this);break t}Mp(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ld(this,a)}this.I?(id(this,e,n),Pf&&this.b&&3==e&&(Rp(this.J,this.R,"tick",this.Va),this.R.start())):(Mp(this.c,this.f,n,null),ld(this,n)),4==e&&cd(this),this.b&&!this.A&&(4==e?Sv(this.g,this):(this.b=!1,od(this)))}else 400==i&&0<n.indexOf("Unknown SID")?(this.h=3,zp(12)):(this.h=0,zp(13)),cd(this),ud(this)}}}catch(t){}var s,u,c,l,h,f},yu.Va=function(){var t,e;this.a&&(t=sv(this.a),e=this.a.$(),this.D<e.length&&(sd(this),id(this,t,e),this.b&&4!=t&&od(this)))},yu.cancel=function(){this.A=!0,cd(this)},yu.Ua=function(){this.o=null;var t,e,n=cf();0<=n-this.U?(t=this.c,e=this.l,t.info((function(){return"TIMEOUT: "+e})),2!=this.H&&(qp(3),zp(17)),cd(this),this.h=2,ud(this)):ad(this,this.U-n)},(yu=fd.prototype).K=function(){pd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},yu.L=function(){return pd(this),this.a.concat()},yu.get=function(t,e){return dd(this.b,t)?this.b[t]:e},yu.set=function(t,e){dd(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},yu.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var vd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yd(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof yd?(this.a=void 0!==e?e:t.a,md(this,t.f),this.j=t.j,bd(this,t.c),wd(this,t.h),this.g=t.g,e=t.b,(n=new xd).c=e.c,e.a&&(n.a=new fd(e.a),n.b=e.b),_d(this,n),this.i=t.i):t&&(n=String(t).match(vd))?(this.a=!!e,md(this,n[1]||"",!0),this.j=Sd(n[2]||""),bd(this,n[3]||"",!0),wd(this,n[4]),this.g=Sd(n[5]||"",!0),_d(this,n[6]||"",!0),this.i=Sd(n[7]||"")):(this.a=!!e,this.b=new xd(null,this.a))}function gd(t){return new yd(t)}function md(t,e,n){t.f=n?Sd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bd(t,e,n){t.c=n?Sd(e,!0):e}function wd(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function _d(t,e,n){var r,i;e instanceof xd?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(Rd(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Dd(this,e),Md(this,n,t))}),r)),r.f=i):(n||(e=Td(e,Od)),t.b=new xd(e,t.a))}function Ed(t,e,n){t.b.set(e,n)}function Id(t){return Ed(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^cf()).toString(36)),t}function Sd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Td(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,kd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yd.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Td(e,Nd,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(Td(e,Nd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Td(n,"/"==n.charAt(0)?Cd:Ad,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Td(n,Pd)),t.join("")};var Nd=/[#\/\?@]/g,Ad=/[#\?:]/g,Cd=/[#\?]/g,Od=/[#\?@]/g,Pd=/#/g;function xd(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rd(t){t.a||(t.a=new fd,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Dd(t,e){Rd(t),e=jd(t,e),dd(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,dd((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&pd(t)))}function Ld(t,e){return Rd(t),e=jd(t,e),dd(t.a.b,e)}function Md(t,e,n){Dd(t,e),0<n.length&&(t.c=null,t.a.set(jd(t,e),vf(n)),t.b+=n.length)}function jd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Fd(t,e){this.b=t,this.a=e}function Ud(t){this.g=t||Vd,t=$h.PerformanceNavigationTiming?0<(t=$h.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($h.ia&&$h.ia.ya&&$h.ia.ya()&&$h.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(yu=xd.prototype).add=function(t,e){Rd(this),this.c=null,t=jd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},yu.forEach=function(t,e){Rd(this),this.a.forEach((function(n,r){pf(n,(function(n){t.call(e,n,r,this)}),this)}),this)},yu.L=function(){Rd(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},yu.K=function(t){Rd(this);var e=[];if("string"==typeof t)Ld(this,t)&&(e=df(e,this.a.get(jd(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=df(e,t[n])}return e},yu.set=function(t,e){return Rd(this),this.c=null,Ld(this,t=jd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},yu.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},yu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.K(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.c=t.join("&")};var Vd=10;function qd(t){return t.b||t.a&&t.a.size>=t.f}function Bd(t){return t.b?1:t.a?t.a.size:0}function zd(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function Wd(t,e){t.a?t.a.add(e):t.b=e}function Hd(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Gd(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return vf(t.c);var r=t.c;try{for(var i=Xh(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Kd(){}function Qd(){this.a=new Kd}function Xd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Ud.prototype.cancel=function(){var t,e;if(this.c=Gd(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Xh(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Kd.prototype.stringify=function(t){return $h.JSON.stringify(t,void 0)},Kd.prototype.parse=function(t){return $h.JSON.parse(t,void 0)};var Yd=$h.JSON.parse;function $d(t){lp.call(this),this.headers=new fd,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Jd,this.D=this.F=!1}lf($d,lp);var Jd="",Zd=/^https?$/i,tv=["POST","PUT"];function ev(t){return"content-type"==t.toLowerCase()}function nv(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,rv(t),ov(t)}function rv(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function iv(t){if(t.b&&void 0!==Yh&&(!t.s[1]||4!=sv(t)||2!=t.X()))if(t.l&&4==sv(t))Sp(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==sv(t)){t.b=!1;try{var e,n,r,i,o=t.X();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}if((e=a)||((n=0===o)&&(!(i=String(t.B).match(vd)[1]||null)&&$h.self&&$h.self.location&&(i=(r=$h.self.location.protocol).substr(0,r.length-1)),n=!Zd.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var s=2<sv(t)?t.a.statusText:""}catch(t){s=""}t.f=s+" ["+t.X()+"]",rv(t)}}finally{ov(t)}}}function ov(t,e){if(t.a){av(t);var n=t.a,r=t.s[0]?Jh:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function av(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&($h.clearTimeout(t.m),t.m=null)}function sv(t){return t.a?t.a.readyState:0}function uv(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",Ef(n,(function(t,e){i+=e,i+=":",i+=t,i+="\r\n"})),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ed(t,e,n))}function cv(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lv(t){this.pa=0,this.g=[],this.c=new Lp,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=cv("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=cv("baseRetryDelayMs",5e3,t),this.Ma=cv("retryDelaySeedMs",1e4,t),this.Ja=cv("forwardChannelMaxRetries",2,t),this.ma=cv("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ud(t&&t.concurrentRequestLimit),this.ka=new Qd,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function hv(t){var e,n;pv(t),3==t.v&&(e=t.R++,Ed(n=gd(t.B),"SID",t.J),Ed(n,"RID",e),Ed(n,"TYPE","terminate"),gv(t,n),(e=new Jp(t,t.c,e,void 0)).H=2,e.i=Id(gd(n)),n=!1,$h.navigator&&$h.navigator.sendBeacon&&(n=$h.navigator.sendBeacon(e.i.toString(),"")),!n&&$h.Image&&((new Image).src=e.i,n=!0),n||(e.a=Cv(e.g,null),e.a.ba(e.i)),e.u=cf(),od(e)),Nv(t)}function fv(t){t.a&&(_v(t),t.a.cancel(),t.a=null)}function pv(t){fv(t),t.j&&($h.clearTimeout(t.j),t.j=null),Iv(t),t.b.cancel(),t.h&&("number"==typeof t.h&&$h.clearTimeout(t.h),t.h=null)}function dv(t,e){t.g.push(new Fd(t.La++,e)),3==t.v&&vv(t)}function vv(t){qd(t.b)||t.h||(t.h=!0,mp(t.Ba,t),t.u=0)}function yv(t,e){var n=e?e.f:t.R++,r=gd(t.B);Ed(r,"SID",t.J),Ed(r,"RID",n),Ed(r,"AID",t.P),gv(t,r),t.i&&t.l&&uv(r,t.i,t.l),n=new Jp(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=mv(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Wd(t.b,n),nd(n,r,e)}function gv(t,e){t.f&&hd({},(function(t,n){Ed(e,n,t)}))}function mv(t,e,n){n=Math.min(t.g.length,n);var r=t.f?sf(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{!function(t,e,n){var r=n||"";try{hd(t,(function(t,n){var i=t;ef(t)&&(i=fp(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function bv(t){t.a||t.j||(t.U=1,mp(t.Aa,t),t.o=0)}function wv(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=Hp(sf(t.Aa,t),Tv(t,t.o)),t.o++,1)}function _v(t){null!=t.s&&($h.clearTimeout(t.s),t.s=null)}function Ev(t){t.a=new Jp(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=gd(t.la);Ed(e,"RID","rpc"),Ed(e,"SID",t.J),Ed(e,"CI",t.H?"0":"1"),Ed(e,"AID",t.P),gv(t,e),Ed(e,"TYPE","xmlhttp"),t.i&&t.l&&uv(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Id(gd(e)),n.j=null,n.I=!0,rd(n,t)}function Iv(t){null!=t.m&&($h.clearTimeout(t.m),t.m=null)}function Sv(t,e){var n,r=null;if(t.a==e){Iv(t),_v(t),t.a=null;var i=2}else{if(!zd(t.b,e))return;r=e.s,Hd(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)1==i?(r=e.j?e.j.length:0,e=cf()-e.u,n=t.u,(i=Up()).dispatchEvent(new Wp(i)),vv(t)):bv(t);else if(3==(n=e.h)||0==n&&0<t.I||!(1==i&&function(t,e){if(!(Bd(t.b)>=t.b.f-(t.h?1:0))){if(t.h)return t.g=e.s.concat(t.g),1;if(!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)))return t.h=Hp(sf(t.Ba,t,e),Tv(t,t.u)),t.u++,1}}(t,e)||2==i&&wv(t)))switch(r&&0<r.length&&(e=t.b,e.c=e.c.concat(r)),n){case 1:kv(t,5);break;case 4:kv(t,10);break;case 3:kv(t,6);break;default:kv(t,2)}}function Tv(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function kv(t,e){var n,r,i,o;t.c.info("Error code "+e),2==e?(r=null,t.f&&(r=null),o=sf(t.Xa,t),r||(r=new yd("//www.google.com/images/cleardot.gif"),$h.location&&"http"==$h.location.protocol||md(r,"https"),Id(r)),n=r.toString(),r=o,o=new Lp,$h.Image?((i=new Image).onload=uf(Xd,o,i,"TestLoadImage: loaded",!0,r),i.onerror=uf(Xd,o,i,"TestLoadImage: error",!1,r),i.onabort=uf(Xd,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=uf(Xd,o,i,"TestLoadImage: timeout",!1,r),$h.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=n):r(!1)):zp(2),t.v=0,t.f&&t.f.ra(e),Nv(t),pv(t)}function Nv(t){t.v=0,t.I=-1,t.f&&(0==Gd(t.b).length&&0==t.g.length||(t.b.c.length=0,vf(t.g),t.g.length=0),t.f.qa())}function Av(t,e,n){var r,i,o,a,s,u=(a=n)instanceof yd?gd(a):new yd(a,void 0);return""!=u.c?(e&&bd(u,e+"."+u.c),wd(u,u.h)):(r=(s=$h.location).protocol,i=e?e+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new yd(null,void 0),r&&md(s,r),i&&bd(s,i),o&&wd(s,o),a&&(s.g=a),u=s),t.W&&Ef(t.W,(function(t,e){Ed(u,e,t)})),e=t.A,n=t.na,e&&n&&Ed(u,e,n),Ed(u,"VER",t.ha),gv(t,u),u}function Cv(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $d(t.Ka)).F=t.C,e}function Ov(){}function Pv(){if(Cf&&!(10<=Number(Uf)))throw Error("Environmental error: no available transport.")}function xv(t,e){lp.call(this),this.a=new lv(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!yf(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yf(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Lv(this)}function Rv(t){Xp.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Dv(){Yp.call(this),this.status=1}function Lv(t){this.a=t}(yu=$d.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Kp(this.H):Kp(jp),this.a.onreadystatechange=sf(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void nv(this,t)}t=n||"";var i,o=new fd(this.headers);r&&hd(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=ev,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=$h.FormData&&t instanceof $h.FormData,0<=ff(tv,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{av(this),0<this.o&&((this.D=(i=this.a,Cf&&Ff(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=sf(this.xa,this)):this.m=Sp(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){nv(this,t)}},yu.xa=function(){void 0!==Yh&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},yu.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ov(this))},yu.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ov(this,!0)),$d.S.G.call(this)},yu.za=function(){this.j||(this.A||this.l||this.g?iv(this):this.Ta())},yu.Ta=function(){iv(this)},yu.X=function(){try{return 2<sv(this)?this.a.status:-1}catch(r){return-1}},yu.$=function(){try{return this.a?this.a.responseText:""}catch(r){return""}},yu.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Yd(e)}},yu.ua=function(){return this.h},yu.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(yu=lv.prototype).ha=8,yu.v=1,yu.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Jp(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Tf(r=If(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=mv(this,n,e),Ed(i=gd(this.B),"RID",t),Ed(i,"CVER",22),this.A&&Ed(i,"X-HTTP-Session-Id",this.A),gv(this,i),this.i&&r&&uv(i,this.i,r),Wd(this.b,n),this.Ga&&Ed(i,"TYPE","init"),this.da?(Ed(i,"$req",e),Ed(i,"SID","null"),n.V=!0,nd(n,i,null)):nd(n,i,e),this.v=2}}else 3==this.v&&(t?yv(this,t):0==this.g.length||qd(this.b)||yv(this))},yu.Aa=function(){var t;this.j=null,Ev(this),this.V&&!(this.F||null==this.a||this.N<=0)&&(t=2*this.N,this.c.info("BP detection timer enabled: "+t),this.s=Hp(sf(this.Sa,this),t))},yu.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,fv(this),Ev(this))},yu.Ra=function(){null!=this.m&&(this.m=null,fv(this),wv(this),zp(19))},yu.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),zp(2)):(this.c.info("Failed to ping google.com"),zp(1))},(yu=Ov.prototype).ta=function(){},yu.sa=function(){},yu.ra=function(){},yu.qa=function(){},yu.Ha=function(){},Pv.prototype.a=function(t,e){return new xv(t,e)},lf(xv,lp),(yu=xv.prototype).addEventListener=function(t,e,n,r){xv.S.addEventListener.call(this,t,e,n,r)},yu.removeEventListener=function(t,e,n,r){xv.S.removeEventListener.call(this,t,e,n,r)},yu.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;zp(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Av(t,null,t.fa),vv(t)},yu.close=function(){hv(this.a)},yu.Pa=function(t){var e;"string"==typeof t?((e={}).__data__=t,dv(this.a,e)):this.g?((e={}).__data__=fp(t),dv(this.a,e)):dv(this.a,t)},yu.G=function(){this.a.f=null,delete this.f,hv(this.a),delete this.a,xv.S.G.call(this)},lf(Rv,Xp),lf(Dv,Yp),lf(Lv,Ov),Lv.prototype.ta=function(){this.a.dispatchEvent("a")},Lv.prototype.sa=function(t){this.a.dispatchEvent(new Rv(t))},Lv.prototype.ra=function(t){this.a.dispatchEvent(new Dv)},Lv.prototype.qa=function(){this.a.dispatchEvent("b")},Pv.prototype.createWebChannel=Pv.prototype.a,xv.prototype.send=xv.prototype.Pa,xv.prototype.open=xv.prototype.Oa,G.NO_ERROR=0,G.TIMEOUT=8,G.HTTP_ERROR=6,Dr.COMPLETE="complete",(Qp.EventType=j).OPEN="a",j.CLOSE="b",j.ERROR="c",j.MESSAGE="d",lp.prototype.listen=lp.prototype.va,$d.prototype.listenOnce=$d.prototype.wa,$d.prototype.getLastError=$d.prototype.Qa,$d.prototype.getLastErrorCode=$d.prototype.ua,$d.prototype.getStatus=$d.prototype.X,$d.prototype.getResponseJson=$d.prototype.Na,$d.prototype.getResponseText=$d.prototype.$,$d.prototype.send=$d.prototype.ba;var Mv,jv=G,Fv=Dr,Uv=Qp,Vv=$d,qv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Bv=(mo(Wv,Mv=Error),Wv),zv=new Da("@firebase/firestore");function Wv(t,e){var n=this;return(n=Mv.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Hv(){return zv.logLevel}function Gv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];zv.logLevel<=Aa.DEBUG&&(e=n.map(Xv),zv.debug.apply(zv,To(["Firestore (7.24.0): "+t],e)))}function Kv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];zv.logLevel<=Aa.ERROR&&(e=n.map(Xv),zv.error.apply(zv,To(["Firestore (7.24.0): "+t],e)))}function Qv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];zv.logLevel<=Aa.WARN&&(e=n.map(Xv),zv.warn.apply(zv,To(["Firestore (7.24.0): "+t],e)))}function Xv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(r){return t}}function Yv(t){throw void 0===t&&(t="Unexpected state"),Kv(t="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t),new Error(t)}function $v(t){t||Yv()}function Jv(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function Zv(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ty(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}Object.defineProperty(ly.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),ly.prototype.isEqual=function(t){return 0===ly.i(this,t)},ly.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof ly?t.forEach((function(t){e.push(t)})):e.push(t),this.o(e)},ly.prototype.limit=function(){return this.offset+this.length},ly.prototype.u=function(t){return t=void 0===t?1:t,this.o(this.segments,this.offset+t,this.length-t)},ly.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},ly.prototype.l=function(){return this.segments[this.offset]},ly.prototype._=function(){return this.get(this.length-1)},ly.prototype.get=function(t){return this.segments[this.offset+t]},ly.prototype.m=function(){return 0===this.length},ly.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ly.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ly.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},ly.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},ly.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0};var ey,ny,ry=(mo(cy,ny=j=ly),cy.prototype.o=function(t,e,n){return new cy(t,e,n)},cy.prototype.R=function(){return this.A().join("/")},cy.prototype.toString=function(){return this.R()},cy.g=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new Bv(qv.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(t){return 0<t.length})))}return new cy(n)},cy.P=function(){return new cy([])},cy),iy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,oy=(mo(uy,ey=j),uy.prototype.o=function(t,e,n){return new uy(t,e,n)},uy.V=function(t){return iy.test(t)},uy.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),uy.V(t)||(t="`"+t+"`"),t})).join(".")},uy.prototype.toString=function(){return this.R()},uy.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},uy.v=function(){return new uy(["__name__"])},uy.S=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Bv(qv.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new Bv(qv.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Bv(qv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new Bv(qv.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new uy(e)},uy.P=function(){return new uy([])},uy),ay=(sy.D=function(t){return new sy(ry.g(t))},sy.C=function(t){return new sy(ry.g(t).u(5))},sy.prototype.N=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},sy.prototype.isEqual=function(t){return null!==t&&0===ry.i(this.path,t.path)},sy.prototype.toString=function(){return this.path.toString()},sy.i=function(t,e){return ry.i(t.path,e.path)},sy.F=function(t){return t.length%2==0},sy.$=function(t){return new sy(new ry(t.slice()))},sy);function sy(t){this.path=t}function uy(){return null!==ey&&ey.apply(this,arguments)||this}function cy(){return null!==ny&&ny.apply(this,arguments)||this}function ly(t,e,n){void 0===e?e=0:e>t.length&&Yv(),void 0===n?n=t.length-e:n>t.length-e&&Yv(),this.segments=t,this.offset=e,this.t=n}function hy(t,e){if(0!==e.length)throw new Bv(qv.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Cy(e.length,"argument")+".")}function fy(t,e,n){if(e.length!==n)throw new Bv(qv.INVALID_ARGUMENT,"Function "+t+"() requires "+Cy(n,"argument")+", but was called with "+Cy(e.length,"argument")+".")}function py(t,e,n){if(e.length<n)throw new Bv(qv.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Cy(n,"argument")+", but was called with "+Cy(e.length,"argument")+".")}function dy(t,e,n,r){if(e.length<n||e.length>r)throw new Bv(qv.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Cy(e.length,"argument")+".")}function vy(t,e,n,r){_y(t,e,Ay(n)+" argument",r)}function yy(t,e,n,r){void 0!==r&&vy(t,e,n,r)}function gy(t,e,n,r){_y(t,e,n+" option",r)}function my(t,e,n,r){void 0!==r&&gy(t,e,n,r)}function by(t,e,n,r,i){void 0!==r&&function(t,e,n){for(var r=[],o=0,a=i;o<a.length;o++){var s=a[o];if(s===n)return;r.push(Iy(s))}var u=Iy(n);throw new Bv(qv.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+e+'". Acceptable values: '+r.join(", "))}(t,n,r)}function wy(t,e,n,r){if(!e.some((function(t){return t===r})))throw new Bv(qv.INVALID_ARGUMENT,"Invalid value "+Iy(r)+" provided to function "+t+"() for its "+Ay(n)+" argument. Acceptable values: "+e.join(", "));return r}function _y(t,e,n,r){if(!("object"===e?Ey(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e))throw r=Iy(r),new Bv(qv.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}function Ey(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Iy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":Yv();if(t instanceof Array)return"an array";var e=function(){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}();return e?"a custom "+e+" object":"an object"}function Sy(t,e,n){if(void 0===n)throw new Bv(qv.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Ay(e)+" argument, but it was undefined.")}function Ty(t,e,n){Zv(e,(function(e,r){if(n.indexOf(e)<0)throw new Bv(qv.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function ky(t,e,n,r){return r=Iy(r),new Bv(qv.INVALID_ARGUMENT,"Function "+t+"() requires its "+Ay(n)+" argument to be a "+e+", but it was: "+r)}function Ny(t,e,n){if(n<=0)throw new Bv(qv.INVALID_ARGUMENT,"Function "+t+"() requires its "+Ay(e)+" argument to be a positive number, but it was: "+n+".")}function Ay(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Cy(t,e){return t+" "+e+(1===t?"":"s")}var Oy=(Py.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Py);function Py(){}function xy(t,e){return t<e?-1:e<t?1:0}function Ry(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Dy(t){return t+"\0"}var Ly=(My.fromBase64String=function(t){return new My(atob(t))},My.fromUint8Array=function(t){return new My(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},My.prototype.toBase64=function(){return t=this.M,btoa(t);var t},My.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},My.prototype.O=function(){return 2*this.M.length},My.prototype.L=function(t){return xy(this.M,t.M)},My.prototype.isEqual=function(t){return this.M===t.M},My);function My(t){this.M=t}Ly.B=new Ly("");var jy=(Fy.fromBase64String=function(t){try{return new Fy(Ly.fromBase64String(t))}catch(t){throw new Bv(qv.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},Fy.fromUint8Array=function(t){return new Fy(Ly.fromUint8Array(t))},Fy.prototype.toBase64=function(){return this.q.toBase64()},Fy.prototype.toUint8Array=function(){return this.q.toUint8Array()},Fy.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},Fy.prototype.isEqual=function(t){return this.q.isEqual(t.q)},Fy);function Fy(t){this.q=t}function Uy(){if("undefined"==typeof Uint8Array)throw new Bv(qv.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Vy(){if("undefined"==typeof atob)throw new Bv(qv.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function qy(t,e,n,r,i,o){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o}var By,zy=(mo(Jy,By=jy),Jy.fromBase64String=function(t){fy("Blob.fromBase64String",arguments,1),vy("Blob.fromBase64String","string",1,t),Vy();try{return new Jy(Ly.fromBase64String(t))}catch(t){throw new Bv(qv.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},Jy.fromUint8Array=function(t){if(fy("Blob.fromUint8Array",arguments,1),Uy(),!(t instanceof Uint8Array))throw ky("Blob.fromUint8Array","Uint8Array",1,t);return new Jy(Ly.fromUint8Array(t))},Jy.prototype.toBase64=function(){return fy("Blob.toBase64",arguments,0),Vy(),By.prototype.toBase64.call(this)},Jy.prototype.toUint8Array=function(){return fy("Blob.toUint8Array",arguments,0),Uy(),By.prototype.toUint8Array.call(this)},Jy.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Jy),Wy=(Object.defineProperty($y.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),$y.prototype.isEqual=function(t){return t instanceof $y&&t.projectId===this.projectId&&t.database===this.database},$y.prototype.L=function(t){return xy(this.projectId,t.projectId)||xy(this.database,t.database)},$y),Hy=(Yy.prototype.get=function(t){var e=this.K(t);if(void 0!==(e=this.H[e]))for(var n=0,r=e;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.G(i,t))return o}},Yy.prototype.has=function(t){return void 0!==this.get(t)},Yy.prototype.set=function(t,e){var n=this.K(t),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.H[n]=[[t,e]]},Yy.prototype.delete=function(t){var e=this.K(t),n=this.H[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],t))return 1===n.length?delete this.H[e]:n.splice(r,1),!0;return!1},Yy.prototype.forEach=function(t){Zv(this.H,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=(a=i[r])[0],a=a[1];t(o,a)}}))},Yy.prototype.m=function(){return ty(this.H)},Yy),Gy=(Xy.now=function(){return Xy.fromMillis(Date.now())},Xy.fromDate=function(t){return Xy.fromMillis(t.getTime())},Xy.fromMillis=function(t){var e=Math.floor(t/1e3);return new Xy(e,1e6*(t-1e3*e))},Xy.prototype.toDate=function(){return new Date(this.toMillis())},Xy.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Xy.prototype.Y=function(t){return this.seconds===t.seconds?xy(this.nanoseconds,t.nanoseconds):xy(this.seconds,t.seconds)},Xy.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},Xy.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Xy.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Xy.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Xy),Ky=(Qy.J=function(t){return new Qy(t)},Qy.min=function(){return new Qy(new Gy(0,0))},Qy.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},Qy.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},Qy.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},Qy.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},Qy.prototype.Z=function(){return this.timestamp},Qy);function Qy(t){this.timestamp=t}function Xy(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Bv(qv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Bv(qv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Bv(qv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Bv(qv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function Yy(t,e){this.K=t,this.G=e,this.H={}}function $y(t,e){this.projectId=t,this.database=e||"(default)"}function Jy(){return null!==By&&By.apply(this,arguments)||this}function Zy(t){return null==t}function tg(t){return 0===t&&1/t==-1/0}function eg(t){return"number"==typeof t&&Number.isInteger(t)&&!tg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ng=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.tt=null};function rg(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ng(t,e,n,r,i,o,a)}function ig(t){var e=t;return null===e.tt&&(t=e.path.R(),null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((function(t){return t.field.R()+t.op.toString()+rm(t.value)})).join(","),t+="|ob:",t+=e.orderBy.map((function(t){return t.field.R()+t.dir})).join(","),Zy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Mw(e.startAt)),e.endAt&&(t+="|ub:",t+=Mw(e.endAt)),e.tt=t),e.tt}function og(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,a,s=0;s<t.filters.length;s++)if(o=t.filters[s],a=e.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!Zg(o.value,a.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fw(t.startAt,e.startAt)&&Fw(t.endAt,e.endAt)}function ag(t){return ay.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}function sg(t){this.count=t}var ug,cg=(lg.prototype.st=function(t){return new lg(this.target,this.targetId,this.et,t,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},lg.prototype.it=function(t,e){return new lg(this.target,this.targetId,this.et,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},lg.prototype.rt=function(t){return new lg(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,t,this.resumeToken)},lg);function lg(t,e,n,r,i,o,a){void 0===i&&(i=Ky.min()),void 0===o&&(o=Ky.min()),void 0===a&&(a=Ly.B),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function hg(t){switch(t){case qv.OK:return Yv(),0;case qv.CANCELLED:case qv.UNKNOWN:case qv.DEADLINE_EXCEEDED:case qv.RESOURCE_EXHAUSTED:case qv.INTERNAL:case qv.UNAVAILABLE:case qv.UNAUTHENTICATED:return;case qv.INVALID_ARGUMENT:case qv.NOT_FOUND:case qv.ALREADY_EXISTS:case qv.PERMISSION_DENIED:case qv.FAILED_PRECONDITION:case qv.ABORTED:case qv.OUT_OF_RANGE:case qv.UNIMPLEMENTED:case qv.DATA_LOSS:return 1;default:return Yv(),0}}function fg(t){if(void 0===t)return Kv("GRPC error has no .code"),qv.UNKNOWN;switch(t){case ug.OK:return qv.OK;case ug.CANCELLED:return qv.CANCELLED;case ug.UNKNOWN:return qv.UNKNOWN;case ug.DEADLINE_EXCEEDED:return qv.DEADLINE_EXCEEDED;case ug.RESOURCE_EXHAUSTED:return qv.RESOURCE_EXHAUSTED;case ug.INTERNAL:return qv.INTERNAL;case ug.UNAVAILABLE:return qv.UNAVAILABLE;case ug.UNAUTHENTICATED:return qv.UNAUTHENTICATED;case ug.INVALID_ARGUMENT:return qv.INVALID_ARGUMENT;case ug.NOT_FOUND:return qv.NOT_FOUND;case ug.ALREADY_EXISTS:return qv.ALREADY_EXISTS;case ug.PERMISSION_DENIED:return qv.PERMISSION_DENIED;case ug.FAILED_PRECONDITION:return qv.FAILED_PRECONDITION;case ug.ABORTED:return qv.ABORTED;case ug.OUT_OF_RANGE:return qv.OUT_OF_RANGE;case ug.UNIMPLEMENTED:return qv.UNIMPLEMENTED;case ug.DATA_LOSS:return qv.DATA_LOSS;default:return Yv()}}(G=ug=ug||{})[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";var pg=(mg.prototype.ot=function(t,e){return new mg(this.i,this.root.ot(t,e,this.i).copy(null,null,vg.at,null,null))},mg.prototype.remove=function(t){return new mg(this.i,this.root.remove(t,this.i).copy(null,null,vg.at,null,null))},mg.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},mg.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},mg.prototype.m=function(){return this.root.m()},Object.defineProperty(mg.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),mg.prototype.ct=function(){return this.root.ct()},mg.prototype.ut=function(){return this.root.ut()},mg.prototype.ht=function(t){return this.root.ht(t)},mg.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},mg.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},mg.prototype.lt=function(t){return this.root.lt(t)},mg.prototype._t=function(){return new dg(this.root,null,this.i,!1)},mg.prototype.ft=function(t){return new dg(this.root,t,this.i,!1)},mg.prototype.dt=function(){return new dg(this.root,null,this.i,!0)},mg.prototype.wt=function(t){return new dg(this.root,t,this.i,!0)},mg),dg=(gg.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},gg.prototype.At=function(){return 0<this.Et.length},gg.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},gg),vg=(yg.prototype.copy=function(t,e,n,r,i){return new yg(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},yg.prototype.m=function(){return!1},yg.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},yg.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},yg.prototype.min=function(){return this.left.m()?this:this.left.min()},yg.prototype.ct=function(){return this.min().key},yg.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},yg.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).gt()},yg.prototype.Pt=function(){if(this.left.m())return yg.EMPTY;var t=this;return t.left.yt()||t.left.left.yt()||(t=t.Vt()),(t=t.copy(null,null,null,t.left.Pt(),null)).gt()},yg.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.m()||r.left.yt()||r.left.left.yt()||(r=r.Vt()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.yt()&&(r=r.bt()),r.right.m()||r.right.yt()||r.right.left.yt()||(r=r.vt()),0===e(t,r.key)){if(r.right.m())return yg.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.Pt())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.gt()},yg.prototype.yt=function(){return this.color},yg.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},yg.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},yg.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},yg.prototype.St=function(){var t=this.copy(null,null,yg.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},yg.prototype.bt=function(){var t=this.copy(null,null,yg.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},yg.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},yg.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},yg.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw Yv();if(this.right.yt())throw Yv();var t=this.left.Nt();if(t!==this.right.Nt())throw Yv();return t+(this.yt()?0:1)},yg);function yg(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:yg.RED,this.left=null!=r?r:yg.EMPTY,this.right=null!=i?i:yg.EMPTY,this.size=this.left.size+1+this.right.size}function gg(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}function mg(t,e){this.i=t,this.root=e||vg.EMPTY}function bg(){this.size=0}vg.EMPTY=null,vg.RED=!0,vg.at=!1,vg.EMPTY=(Object.defineProperty(bg.prototype,"key",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Object.defineProperty(bg.prototype,"value",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Object.defineProperty(bg.prototype,"color",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Object.defineProperty(bg.prototype,"left",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Object.defineProperty(bg.prototype,"right",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),bg.prototype.copy=function(t,e,n,r,i){return this},bg.prototype.ot=function(t,e,n){return new vg(t,e)},bg.prototype.remove=function(t,e){return this},bg.prototype.m=function(){return!0},bg.prototype.ht=function(t){return!1},bg.prototype.lt=function(t){return!1},bg.prototype.ct=function(){return null},bg.prototype.ut=function(){return null},bg.prototype.yt=function(){return!1},bg.prototype.Ct=function(){return!0},bg.prototype.Nt=function(){return 0},new bg);var wg=(Sg.prototype.has=function(t){return null!==this.data.get(t)},Sg.prototype.first=function(){return this.data.ct()},Sg.prototype.last=function(){return this.data.ut()},Object.defineProperty(Sg.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),Sg.prototype.indexOf=function(t){return this.data.indexOf(t)},Sg.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},Sg.prototype.Ft=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(0<=this.i(r.key,t[1]))return;e(r.key)}},Sg.prototype.xt=function(t,e){for(var n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},Sg.prototype.$t=function(t){return(t=this.data.ft(t)).At()?t.It().key:null},Sg.prototype._t=function(){return new _g(this.data._t())},Sg.prototype.ft=function(t){return new _g(this.data.ft(t))},Sg.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},Sg.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},Sg.prototype.m=function(){return this.data.m()},Sg.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},Sg.prototype.isEqual=function(t){if(!(t instanceof Sg))return!1;if(this.size!==t.size)return!1;for(var e=this.data._t(),n=t.data._t();e.At();){var r=e.It().key,i=n.It().key;if(0!==this.i(r,i))return!1}return!0},Sg.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},Sg.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},Sg.prototype.copy=function(t){var e=new Sg(this.i);return e.data=t,e},Sg),_g=(Ig.prototype.It=function(){return this.Mt.It().key},Ig.prototype.At=function(){return this.Mt.At()},Ig),Eg=new pg(ay.i);function Ig(t){this.Mt=t}function Sg(t){this.i=t,this.data=new pg(this.i)}var Tg=new pg(ay.i),kg=new pg(ay.i),Ng=new wg(ay.i);function Ag(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ng,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Cg=new wg(xy),Og=(Gg.Bt=function(t){return new Gg(t.i)},Gg.prototype.has=function(t){return null!=this.Ot.get(t)},Gg.prototype.get=function(t){return this.Ot.get(t)},Gg.prototype.first=function(){return this.Lt.ct()},Gg.prototype.last=function(){return this.Lt.ut()},Gg.prototype.m=function(){return this.Lt.m()},Gg.prototype.indexOf=function(t){return(t=this.Ot.get(t))?this.Lt.indexOf(t):-1},Object.defineProperty(Gg.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),Gg.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},Gg.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},Gg.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},Gg.prototype.isEqual=function(t){if(!(t instanceof Gg))return!1;if(this.size!==t.size)return!1;for(var e=this.Lt._t(),n=t.Lt._t();e.At();){var r=e.It().key,i=n.It().key;if(!r.isEqual(i))return!1}return!0},Gg.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},Gg.prototype.copy=function(t,e){var n=new Gg;return n.i=this.i,n.Ot=t,n.Lt=e,n},Gg),Pg=(Hg.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);!n||0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):Yv()},Hg.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},Hg),xg=(Wg.Gt=function(t,e,n,r){var i=[];return e.forEach((function(t){i.push({type:0,doc:t})})),new Wg(t,e,Og.Bt(e),i,n,r,!0,!1)},Object.defineProperty(Wg.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),Wg.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&ow(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},Wg),Rg=(zg.Xt=function(t,e){var n=new Map;return n.set(t,Dg.Zt(t,e)),new zg(Ky.min(),n,Cg,Eg,Ag())},zg),Dg=(Bg.Zt=function(t,e){return new Bg(Ly.B,e,Ag(),Ag(),Ag())},Bg),Lg=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},Mg=function(t,e){this.targetId=t,this.oe=e},jg=function(t,e,n,r){void 0===n&&(n=Ly.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Fg=(Object.defineProperty(qg.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(qg.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(qg.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(qg.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),qg.prototype.de=function(t){0<t.O()&&(this.le=!0,this.ue=t)},qg.prototype.we=function(){var t=Ag(),e=Ag(),n=Ag();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Yv()}})),new Dg(this.ue,this.he,t,e,n)},qg.prototype.me=function(){this.le=!1,this.ce=Qg()},qg.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},qg.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},qg.prototype.Ie=function(){this.ae+=1},qg.prototype.Ae=function(){--this.ae},qg.prototype.Re=function(){this.le=!0,this.he=!0},qg),Ug=(Vg.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof Vb?this.ve(r,t.re):t.re instanceof qb&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];this.Se(a,t.key,t.re)}},Vg.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.Fe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.Fe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.Fe(n)&&(e.xe(n),r.de(t.resumeToken));break;default:Yv()}}))},Vg.prototype.Ce=function(t,e){var n=this;0<t.targetIds.length?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Fe(r)&&e(r)}))},Vg.prototype.$e=function(t){var e=t.targetId,n=t.oe.count;(t=this.ke(e))&&(ag(t=t.target)?0===n?(t=new ay(t.path),this.Se(e,t,new qb(t,Ky.min()))):$v(1===n):this.Me(e)!==n&&(this.xe(e),this.pe=this.pe.add(e)))},Vg.prototype.Oe=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.ke(i);o&&(r.te&&ag(o.target)&&(o=new ay(o.target.path),null!==e.ye.get(o)||e.Le(i,o)||e.Se(i,o,new qb(o,t))),r.fe&&(n.set(i,r.we()),r.me()))}));var r=Ag();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){return!(t=e.ke(t))||2===t.et||(i=!1)})),i&&(r=r.add(t))}));var i=new Rg(t,n,this.pe,this.ye,r);return this.ye=Eg,this.Ve=Kg(),this.pe=new wg(xy),i},Vg.prototype.ve=function(t,e){var n;this.Fe(t)&&(n=this.Le(t,e.key)?2:0,this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t)))},Vg.prototype.Se=function(t,e,n){var r;this.Fe(t)&&(r=this.Ne(t),this.Le(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n)))},Vg.prototype.removeTarget=function(t){this.Pe.delete(t)},Vg.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},Vg.prototype.Ie=function(t){this.Ne(t).Ie()},Vg.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new Fg,this.Pe.set(t,e)),e},Vg.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new wg(xy),this.Ve=this.Ve.ot(t,e)),e},Vg.prototype.Fe=function(t){var e=null!==this.ke(t);return e||Gv("WatchChangeAggregator","Detected inactive target",t),e},Vg.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},Vg.prototype.xe=function(t){var e=this;this.Pe.set(t,new Fg),this.ge.qe(t).forEach((function(n){e.Se(t,n,null)}))},Vg.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},Vg);function Vg(t){this.ge=t,this.Pe=new Map,this.ye=Eg,this.Ve=Kg(),this.pe=new wg(xy)}function qg(){this.ae=0,this.ce=Qg(),this.ue=Ly.B,this.he=!1,this.le=!0}function Bg(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}function zg(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}function Wg(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=a,this.Kt=s}function Hg(){this.qt=new pg(ay.i)}function Gg(t){this.i=t?function(e,n){return t(e,n)||ay.i(e.key,n.key)}:function(t,e){return ay.i(t.key,e.key)},this.Ot=Tg,this.Lt=new pg(this.i)}function Kg(){return new pg(ay.i)}function Qg(){return new pg(ay.i)}function Xg(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Yg(t){return t=im(t.mapValue.fields.__local_write_time__.timestampValue),new Gy(t.seconds,t.nanos)}var $g=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xg(t)?4:10:Yv()}function Zg(t,e){var n,r=Jg(t);if(r!==Jg(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yg(t).isEqual(Yg(e));case 3:return function(e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=im(t.timestampValue);return e=im(e.timestampValue),n.seconds===e.seconds&&n.nanos===e.nanos}(e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,am(t.bytesValue).isEqual(am(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return r=e,om((n=t).geoPointValue.latitude)===om(r.geoPointValue.latitude)&&om(n.geoPointValue.longitude)===om(r.geoPointValue.longitude);case 2:return function(t,e){return"integerValue"in t&&"integerValue"in e?om(t.integerValue)===om(e.integerValue):"doubleValue"in t&&"doubleValue"in e&&((t=om(t.doubleValue))===(e=om(e.doubleValue))?tg(t)===tg(e):isNaN(t)&&isNaN(e))}(t,e);case 9:return Ry(t.arrayValue.values||[],e.arrayValue.values||[],Zg);case 10:return function(){var n,r=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Jv(r)!==Jv(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!Zg(r[n],i[n])))return!1;return!0}();default:return Yv()}}function tm(t,e){return void 0!==(t.values||[]).find((function(t){return Zg(t,e)}))}function em(t,e){var n,r,i=Jg(t),o=Jg(e);if(i!==o)return xy(i,o);switch(i){case 0:return 0;case 1:return xy(t.booleanValue,e.booleanValue);case 2:return n=e,(r=om(t.integerValue||t.doubleValue))<(n=om(n.integerValue||n.doubleValue))?-1:n<r?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1;case 3:return nm(t.timestampValue,e.timestampValue);case 4:return nm(Yg(t),Yg(e));case 5:return xy(t.stringValue,e.stringValue);case 6:return function(t,e){return t=am(t),e=am(e),t.L(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=xy(n[i],r[i]);if(0!==o)return o}return xy(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return i=t.geoPointValue,r=e.geoPointValue,0!==(n=xy(om(i.latitude),om(r.latitude)))?n:xy(om(i.longitude),om(r.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=em(n[i],r[i]);if(o)return o}return xy(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=xy(r[a],o[a]);if(0!==s)return s;if(0!==(s=em(n[r[a]],i[o[a]])))return s}return xy(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Yv()}}function nm(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return xy(t,e);var n=im(t);return t=im(e),0!==(e=xy(n.seconds,t.seconds))?e:xy(n.nanos,t.nanos)}function rm(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){return"time("+(t=im(t)).seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?am(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ay.C(n).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Yv();var n}(t)}function im(t){if($v(!!t),"string"!=typeof t)return{seconds:om(t.seconds),nanos:om(t.nanos)};var e=0,n=$g.exec(t);return $v(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n)),t=new Date(t),{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function om(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function am(t){return"string"==typeof t?Ly.fromBase64String(t):Ly.fromUint8Array(t)}function sm(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function um(t){return t&&"integerValue"in t}function cm(t){return!!t&&"arrayValue"in t}function lm(t){return t&&"nullValue"in t}function hm(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fm(t){return t&&"mapValue"in t}var pm={asc:"ASCENDING",desc:"DESCENDING"},dm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vm=function(t,e){this.U=t,this.Qe=e};function ym(t){return{integerValue:""+t}}function gm(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(e)?"-0":e}}function mm(t,e){return eg(e)?ym(e):gm(t,e)}function bm(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function wm(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function _m(t){return $v(!!t),Ky.J((t=im(t),new Gy(t.seconds,t.nanos)))}function Em(t,e){return new ry(["projects",t.projectId,"databases",t.database]).child("documents").child(e).R()}function Im(t){return $v(qm(t=ry.g(t))),t}function Sm(t,e){return Em(t.U,e.path)}function Tm(t,e){return $v((e=Im(e)).get(1)===t.U.projectId),$v(!e.get(3)&&!t.U.database||e.get(3)===t.U.database),new ay(Cm(e))}function km(t,e){return Em(t.U,e)}function Nm(t){return 4===(t=Im(t)).length?ry.P():Cm(t)}function Am(t){return new ry(["projects",t.U.projectId,"databases",t.U.database]).R()}function Cm(t){return $v(4<t.length&&"documents"===t.get(4)),t.u(5)}function Om(t,e,n){return{name:Sm(t,e),fields:n.proto.mapValue.fields}}function Pm(t,e){var n,r,i;if(e instanceof mb)n={update:Om(t,e.key,e.value)};else if(e instanceof Cb)n={delete:Sm(t,e.key)};else if(e instanceof bb)n={update:Om(t,e.key,e.data),updateMask:(i=e.We,r=[],i.fields.forEach((function(t){return r.push(t.R())})),{fieldPaths:r})};else if(e instanceof Sb)n={transform:{document:Sm(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){var e=t.transform;if(e instanceof Hm)return{fieldPath:t.field.R(),setToServerValue:"REQUEST_TIME"};if(e instanceof Gm)return{fieldPath:t.field.R(),appendMissingElements:{values:e.elements}};if(e instanceof $m)return{fieldPath:t.field.R(),removeAllFromArray:{values:e.elements}};if(e instanceof eb)return{fieldPath:t.field.R(),increment:e.je};throw Yv()}))}};else{if(!(e instanceof Ob))return Yv();n={verify:Sm(t,e.key)}}return e.Ge.Ke||(n.currentDocument=void 0!==(i=e.Ge).updateTime?{updateTime:(e=t,t=i.updateTime,bm(e,t.Z()))}:void 0!==i.exists?{exists:i.exists}:Yv()),n}function xm(t,e){var n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?cb.updateTime(_m(o.updateTime)):void 0!==o.exists?cb.exists(o.exists):cb.ze():cb.ze();if(e.update){e.update.name;var r=Tm(t,e.update.name),i=new Pb({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=(o=e.updateMask.fieldPaths||[],new ob(o.map((function(t){return oy.S(t)}))));return new bb(r,i,o,n)}return new mb(r,i,n)}if(e.delete){var a=Tm(t,e.delete);return new Cb(a,n)}return e.transform?(i=Tm(t,e.transform.document),a=e.transform.fieldTransforms.map((function(e){return function(t,e){var n,r=null;return"setToServerValue"in e?($v("REQUEST_TIME"===e.setToServerValue),r=new Hm):"appendMissingElements"in e?(n=e.appendMissingElements.values||[],r=new Gm(n)):"removeAllFromArray"in e?(n=e.removeAllFromArray.values||[],r=new $m(n)):"increment"in e?r=new eb(t,e.increment):Yv(),e=oy.S(e.fieldPath),new ab(e,r)}(t,e)})),$v(!0===n.exists),new Sb(i,a)):e.verify?(e=Tm(t,e.verify),new Ob(e,n)):Yv()}function Rm(t,e){return{documents:[km(t,e.path)]}}function Dm(t,e){var n={structuredQuery:{}},r=e.path;return null!==e.collectionGroup?(n.parent=km(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=km(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]),r=function(t){if(0!==t.length)return t=t.map((function(t){if("=="===t.op){if(hm(t.value))return{unaryFilter:{field:Fm(t.field),op:"IS_NAN"}};if(lm(t.value))return{unaryFilter:{field:Fm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hm(t.value))return{unaryFilter:{field:Fm(t.field),op:"IS_NOT_NAN"}};if(lm(t.value))return{unaryFilter:{field:Fm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fm(t.field),op:(e=t.op,dm[e]),value:t.value}};var e})),1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(e.filters),r&&(n.structuredQuery.where=r),r=function(t){if(0!==t.length)return t.map((function(t){return{field:Fm(t.field),direction:(t=t.dir,pm[t])}}))}(e.orderBy),r&&(n.structuredQuery.orderBy=r),r=e.limit,null!==(r=t.Qe||Zy(r)?r:{value:r})&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=Mm(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Mm(e.endAt)),n}function Lm(t){var e=Nm(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;0<r&&($v(1===r),(a=n.from[0]).allDescendants?i=a.collectionId:e=e.child(a.collectionId));var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Vm(e)]:void 0!==e.fieldFilter?[(n=e,hw.create(Um(n.fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yv()}}(),n.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Yv():[];var n}(n.where)),t=[],n.orderBy&&(t=n.orderBy.map((function(t){return new Uw(Um((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}))),r=null,n.limit&&(r=Zy(s="object"==typeof(s=n.limit)?s.value:s)?null:s);var a=null;n.startAt&&(a=jm(n.startAt));var s=null;return n.endAt&&(s=jm(n.endAt)),ew(Kb(e,i,t,o,r,"F",a,s))}function Mm(t){return{before:t.before,values:t.position}}function jm(t){var e=!!t.before;return t=t.values||[],new Pw(t,e)}function Fm(t){return{fieldPath:t.R()}}function Um(t){return oy.S(t.fieldPath)}function Vm(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Um(t.unaryFilter.field);return hw.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Um(t.unaryFilter.field);return hw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":return n=Um(t.unaryFilter.field),hw.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return t=Um(t.unaryFilter.field),hw.create(t,"!=",{nullValue:"NULL_VALUE"});default:return Yv()}}function qm(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function Bm(t,e){return t instanceof eb?um(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}var zm,Wm,Hm=(mo(Qm,Wm=Dr=function(){this.He=void 0}),Qm),Gm=(mo(Km,zm=Dr),Km);function Km(t){var e=this;return(e=zm.call(this)||this).elements=t,e}function Qm(){return null!==Wm&&Wm.apply(this,arguments)||this}function Xm(t,e){for(var n=ib(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some((function(e){return Zg(e,t)}))||n.push(t)}(i[r]);return{arrayValue:{values:n}}}var Ym,$m=(mo(Jm,Ym=Dr),Jm);function Jm(t){var e=this;return(e=Ym.call(this)||this).elements=t,e}function Zm(t,e){for(var n=ib(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter((function(e){return!Zg(e,t)}))}(i[r]);return{arrayValue:{values:n}}}var tb,eb=(mo(nb,tb=Dr),nb);function nb(t,e){var n=this;return(n=tb.call(this)||this).serializer=t,n.je=e,n}function rb(t){return om(t.integerValue||t.doubleValue)}function ib(t){return cm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ob=(sb.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},sb.prototype.isEqual=function(t){return Ry(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},sb),ab=function(t,e){this.field=t,this.transform=e};function sb(t){(this.fields=t).sort(oy.i)}function ub(t,e){this.version=t,this.transformResults=e}var cb=(lb.ze=function(){return new lb},lb.exists=function(t){return new lb(void 0,t)},lb.updateTime=function(t){return new lb(t)},Object.defineProperty(lb.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),lb.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},lb);function lb(t,e){this.updateTime=t,this.exists=e}function hb(t,e){return void 0!==t.updateTime?e instanceof Vb&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Vb}function fb(t,e,n){return t instanceof mb?new Vb(t.key,n.version,t.value,{hasCommittedMutations:!0}):t instanceof bb?function(t,e,n){return hb(t.Ge,e)?(e=Eb(t,e),new Vb(t.key,n.version,e,{hasCommittedMutations:!0})):new Bb(t.key,n.version)}(t,e,n):t instanceof Sb?function(t,e,n){if($v(null!=n.transformResults),!hb(t.Ge,e))return new Bb(t.key,n.version);var r=e;return e=function(t,e,n){var r=[];$v(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Vb&&(s=e.field(o.field)),r.push((o=a,a=s,s=n[i],o instanceof Gm?Xm(o,a):o instanceof $m?Zm(o,a):s))}return r}(t.fieldTransforms,e,n.transformResults),n=n.version,e=kb(t,r.data(),e),new Vb(t.key,n,e,{hasCommittedMutations:!0})}(t,e,n):new qb(t.key,n.version,{hasCommittedMutations:!0})}function pb(t,e,n,r){return t instanceof mb?function(t,e){return hb(t.Ge,e)?(e=vb(e),new Vb(t.key,e,t.value,{Je:!0})):e}(t,e):t instanceof bb?function(t,e){if(!hb(t.Ge,e))return e;var n=vb(e);return e=Eb(t,e),new Vb(t.key,n,e,{Je:!0})}(t,e):t instanceof Sb?function(t,e,n,r){if(!hb(t.Ge,e))return e;var i=e;return r=function(t,e,n,r){for(var i,o=[],a=0,s=t;a<s.length;a++){var u=s[a],c=u.transform,l=null;n instanceof Vb&&(l=n.field(u.field)),null===l&&r instanceof Vb&&(l=r.field(u.field)),o.push((i=l,u=e,l=void 0,c instanceof Hm?(l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}},i&&(l.fields.__previous_value__=i),{mapValue:l}):c instanceof Gm?Xm(c,i):c instanceof $m?Zm(c,i):(i=rb(c=Bm(l=c,i))+rb(l.je),um(c)&&um(l.je)?ym(i):gm(l.serializer,i))))}return o}(t.fieldTransforms,n,e,r),r=kb(t,i.data(),r),new Vb(t.key,i.version,r,{Je:!0})}(t,e,r,n):hb(t.Ge,e)?new qb(t.key,Ky.min()):e}function db(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||Ry(t.fieldTransforms,t.fieldTransforms,(function(t,e){return t.field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof Gm&&e instanceof Gm||t instanceof $m&&e instanceof $m?Ry(t.elements,e.elements,Zg):t instanceof eb&&e instanceof eb?Zg(t.je,e.je):t instanceof Hm&&e instanceof Hm)})))}function vb(t){return t instanceof Vb?t.version:Ky.min()}var yb,gb,mb=(mo(_b,gb=j=function(){}),_b),bb=(mo(wb,yb=j),wb);function wb(t,e,n,r){var i=this;return(i=yb.call(this)||this).key=t,i.data=e,i.We=n,i.Ge=r,i.type=1,i}function _b(t,e,n){var r=this;return(r=gb.call(this)||this).key=t,r.value=e,r.Ge=n,r.type=0,r}function Eb(t,e){return n=t,e=e instanceof Vb?e.data():Pb.empty(),r=new xb(e),n.We.fields.forEach((function(t){var e;t.m()||(null!==(e=n.data.field(t))?r.set(t,e):r.delete(t))})),r.Xe();var n,r}var Ib,Sb=(mo(Tb,Ib=j),Tb);function Tb(t,e){var n=this;return(n=Ib.call(this)||this).key=t,n.fieldTransforms=e,n.type=2,n.Ge=cb.exists(!0),n}function kb(t,e,n){for(var r=new xb(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Xe()}var Nb,Ab,Cb=(mo(Mb,Ab=j),Mb),Ob=(mo(Lb,Nb=j),Lb),Pb=(Db.empty=function(){return new Db({mapValue:{}})},Db.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!fm(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},Db.prototype.isEqual=function(t){return Zg(this.proto,t.proto)},Db),xb=(Rb.prototype.set=function(t,e){return this.en(t,e),this},Rb.prototype.delete=function(t){return this.en(t,null),this},Rb.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===Jg(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t._(),e)},Rb.prototype.Xe=function(){var t=this.nn(oy.P(),this.tn);return null!=t?new Pb(t):this.Ze},Rb.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=fm(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){var a;e instanceof Map?null!=(a=n.nn(t.child(i),e))&&(o[i]=a,r=!0):null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},Rb);function Rb(t){void 0===t&&(t=Pb.empty()),this.Ze=t,this.tn=new Map}function Db(t){this.proto=t}function Lb(t,e){var n=this;return(n=Nb.call(this)||this).key=t,n.Ge=e,n.type=4,n}function Mb(t,e){var n=this;return(n=Ab.call(this)||this).key=t,n.Ge=e,n.type=3,n}G=function(t,e){this.key=t,this.version=e};var jb,Fb,Ub,Vb=(mo(Gb,Ub=G),Gb.prototype.field=function(t){return this.sn.field(t)},Gb.prototype.data=function(){return this.sn},Gb.prototype.rn=function(){return this.sn.proto},Gb.prototype.isEqual=function(t){return t instanceof Gb&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},Gb.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Gb.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),Gb),qb=(mo(Hb,Fb=G),Hb.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Hb.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),Hb.prototype.isEqual=function(t){return t instanceof Hb&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Hb),Bb=(mo(Wb,jb=G),Wb.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Wb.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),Wb.prototype.isEqual=function(t){return t instanceof Wb&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Wb),zb=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=a,this.endAt=s,this.cn=null,this.un=null,this.startAt,this.endAt};function Wb(){return null!==jb&&jb.apply(this,arguments)||this}function Hb(t,e,n){var r=this;return(r=Fb.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function Gb(t,e,n,r){var i=this;return(i=Ub.call(this,t,e)||this).sn=n,i.Je=!!r.Je,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function Kb(t,e,n,r,i,o,a,s){return new zb(t,e,n,r,i,o,a,s)}function Qb(t){return new zb(t)}function Xb(t){return!Zy(t.limit)&&"F"===t.an}function Yb(t){return!Zy(t.limit)&&"L"===t.an}function $b(t){return 0<t.on.length?t.on[0].field:null}function Jb(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function Zb(t){return null!==t.collectionGroup}function tw(t){var e=t;if(null===e.cn){e.cn=[];var n=Jb(e);if(t=$b(e),null!==n&&null===t)n.p()||e.cn.push(new Uw(n)),e.cn.push(new Uw(oy.v(),"asc"));else{for(var r=!1,i=0,o=e.on;i<o.length;i++){var a=o[i];e.cn.push(a),a.field.p()&&(r=!0)}r||(n=0<e.on.length?e.on[e.on.length-1].dir:"asc",e.cn.push(new Uw(oy.v(),n)))}}return e.cn}function ew(t){var e=t;if(!e.un)if("F"===e.an)e.un=rg(e.path,e.collectionGroup,tw(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=tw(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Uw(o.field,a))}var s=e.endAt?new Pw(e.endAt.position,!e.endAt.before):null;t=e.startAt?new Pw(e.startAt.position,!e.startAt.before):null,e.un=rg(e.path,e.collectionGroup,n,e.filters,e.limit,s,t)}return e.un}function nw(t,e,n){return new zb(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rw(t,e){return new zb(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function iw(t,e){return new zb(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function ow(t,e){return og(ew(t),ew(e))&&t.an===e.an}function aw(t){return ig(ew(t))+"|lt:"+t.an}function sw(t){return"Query(target="+(n=(e=ew(t)).path.R(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map((function(t){return t.field.R()+" "+t.op+" "+rm(t.value)})).join(", ")+"]"),Zy(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map((function(t){return t.field.R()+" ("+t.dir+")"})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Mw(e.startAt)),e.endAt&&(n+=", endAt: "+Mw(e.endAt)),"Target("+n+"); limitType=")+t.an+")";var e,n}function uw(t,e){return n=t,r=e.key.path,(null!==n.collectionGroup?e.key.N(n.collectionGroup)&&n.path.T(r):ay.F(n.path)?n.path.isEqual(r):n.path.I(r))&&function(e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return}return 1}(e)&&function(e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return;return 1}(e)&&(r=e,(!(e=t).startAt||jw(e.startAt,tw(e),r))&&(!e.endAt||!jw(e.endAt,tw(e),r)));var n,r}function cw(t){return function(e,n){for(var r=!1,i=0,o=tw(t);i<o.length;i++){var a=o[i],s=function(t,e,n){switch(n=t.field.p()?ay.i(e.key,n.key):function(t,n){var r=e.field(t);return t=n.field(t),null!==r&&null!==t?em(r,t):Yv()}(t.field,n),t.dir){case"asc":return n;case"desc":return-1*n;default:return Yv()}}(a,e,n);if(0!==s)return s;r=r||a.field.p()}return 0}}var lw,hw=(mo(fw,lw=function(){}),fw.create=function(t,e,n){if(t.p())return"in"===e||"not-in"===e?this.ln(t,e,n):new yw(t,e,n);if(lm(n)){if("=="!==e&&"!="!==e)throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new fw(t,e,n)}if(hm(n)){if("=="!==e&&"!="!==e)throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new fw(t,e,n)}return"array-contains"===e?new Nw(t,n):"in"===e?new Aw(t,n):"not-in"===e?new Cw(t,n):"array-contains-any"===e?new Ow(t,n):new fw(t,e,n)},fw.ln=function(t,e,n){return new("in"===e?gw:mw)(t,n)},fw.prototype.matches=function(t){return t=t.field(this.field),"!="===this.op?null!==t&&this._n(em(t,this.value)):null!==t&&Jg(this.value)===Jg(t)&&this._n(em(t,this.value))},fw.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return Yv()}},fw.prototype.hn=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},fw);function fw(t,e,n){var r=this;return(r=lw.call(this)||this).field=t,r.op=e,r.value=n,r}var pw,dw,vw,yw=(mo(_w,vw=hw),_w.prototype.matches=function(t){return t=ay.i(t.key,this.key),this._n(t)},_w),gw=(mo(ww,dw=hw),ww.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},ww),mw=(mo(bw,pw=hw),bw.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},bw);function bw(t,e){var n=this;return(n=pw.call(this,t,"not-in",e)||this).keys=Ew(0,e),n}function ww(t,e){var n=this;return(n=dw.call(this,t,"in",e)||this).keys=Ew(0,e),n}function _w(t,e,n){var r=this;return(r=vw.call(this,t,e,n)||this).key=ay.C(n.referenceValue),r}function Ew(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map((function(t){return ay.C(t.referenceValue)}))}var Iw,Sw,Tw,kw,Nw=(mo(Lw,kw=hw),Lw.prototype.matches=function(t){return cm(t=t.field(this.field))&&tm(t.arrayValue,this.value)},Lw),Aw=(mo(Dw,Tw=hw),Dw.prototype.matches=function(t){return null!==(t=t.field(this.field))&&tm(this.value.arrayValue,t)},Dw),Cw=(mo(Rw,Sw=hw),Rw.prototype.matches=function(t){return!tm(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(t=t.field(this.field))&&!tm(this.value.arrayValue,t)},Rw),Ow=(mo(xw,Iw=hw),xw.prototype.matches=function(t){var e=this;return!(!cm(t=t.field(this.field))||!t.arrayValue.values)&&t.arrayValue.values.some((function(t){return tm(e.value.arrayValue,t)}))},xw),Pw=function(t,e){this.position=t,this.before=e};function xw(t,e){return Iw.call(this,t,"array-contains-any",e)||this}function Rw(t,e){return Sw.call(this,t,"not-in",e)||this}function Dw(t,e){return Tw.call(this,t,"in",e)||this}function Lw(t,e){return kw.call(this,t,"array-contains",e)||this}function Mw(t){return(t.before?"b":"a")+":"+t.position.map(rm).join(",")}function jw(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.p()?ay.i(ay.C(a.referenceValue),n.key):em(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Fw(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Zg(t.position[n],e.position[n]))return!1;return!0}var Uw=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vw(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}var qw,Bw=($w.prototype.reset=function(){this.En=0},$w.prototype.Rn=function(){this.En=this.Tn},$w.prototype.gn=function(t){var e=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);0<i&&Gv("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},$w.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},$w.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},$w.prototype.Pn=function(){return(Math.random()-.5)*this.En},$w),zw=(Yw.prototype.catch=function(t){return this.next(void 0,t)},Yw.prototype.next=function(t,e){var n=this;return this.Dn&&Yv(),this.Dn=!0,this.Sn?this.error?this.Cn(e,this.error):this.Nn(t,this.result):new Yw((function(r,i){n.bn=function(e){n.Nn(t,e).next(r,i)},n.vn=function(t){n.Cn(e,t).next(r,i)}}))},Yw.prototype.Fn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},Yw.prototype.xn=function(t){try{var e=t();return e instanceof Yw?e:Yw.resolve(e)}catch(t){return Yw.reject(t)}},Yw.prototype.Nn=function(t,e){return t?this.xn((function(){return t(e)})):Yw.resolve(e)},Yw.prototype.Cn=function(t,e){return t?this.xn((function(){return t(e)})):Yw.reject(e)},Yw.resolve=function(t){return new Yw((function(e,n){e(t)}))},Yw.reject=function(t){return new Yw((function(e,n){n(t)}))},Yw.$n=function(t){return new Yw((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(t){return n(t)}))})),o=!0,i===r&&e()}))},Yw.kn=function(t){for(var e=Yw.resolve(!1),n=0,r=t;n<r.length;n++)!function(t){e=e.next((function(e){return e?Yw.resolve(e):t()}))}(r[n]);return e},Yw.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},Yw),Ww=(Xw.delete=function(t){return Gv("SimpleDb","Removing database:",t),r_(window.indexedDB.deleteDatabase(t)).Fn()},Xw.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(Xw.Bn())return!0;var t=Mo(),e=0<(n=Xw.On(t))&&n<10,n=0<(n=Xw.qn(t))&&n<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||e||n)},Xw.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===t?void 0:t.Un)},Xw.Qn=function(t,e){return t.store(e)},Xw.On=function(t){return t=(t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?t[1].split("_").slice(0,2).join("."):"-1",Number(t)},Xw.qn=function(t){return t=(t=t.match(/Android ([\d.]+)/i))?t[1].split(".").slice(0,2).join("."):"-1",Number(t)},Xw.prototype.Wn=function(t){return wo(this,void 0,void 0,(function(){var e,n=this;return _o(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Gv("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){t=t.target.result,e(t)},i.onblocked=function(){r(new Gw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){"VersionError"===(e=e.target.error).name?r(new Bv(qv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Gw(t,e))},i.onupgradeneeded=function(t){Gv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Mn.createOrUpgrade(e,i.transaction,t.oldVersion,n.version).next((function(){Gv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return n.jn(t)}),this.db)]}}))}))},Xw.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},Xw.prototype.runTransaction=function(t,e,n,r){return wo(this,void 0,void 0,(function(){var i,o,a,s;return _o(this,(function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u;return _o(this,(function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,a.Wn(t)];case 2:return a.db=c.sent(),e=Zw.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),zw.reject(t)})).Fn(),u={},s.catch((function(){})),[4,e.Gn];case 3:return[2,(u.value=(c.sent(),s),u)];case 4:return s=c.sent(),u="FirebaseError"!==s.name&&o<3,Gv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",u),a.close(),u?[3,5]:[2,{value:Promise.reject(s)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},Xw.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},Xw),Hw=(Object.defineProperty(Qw.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(Qw.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(Qw.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),Qw.prototype.done=function(){this.Hn=!0},Qw.prototype.Xn=function(t){this.Yn=t},Qw.prototype.delete=function(){return r_(this.zn.delete())},Qw),Gw=(mo(Kw,qw=Bv),Kw);function Kw(t,e){var n=this;return(n=qw.call(this,qv.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+e)||this).name="IndexedDbTransactionError",n}function Qw(t){this.zn=t,this.Hn=!1,this.Yn=null}function Xw(t,e,n){this.name=t,this.version=e,this.Mn=n,12.2===Xw.On(Mo())&&Kv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function Yw(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}function $w(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}function Jw(t){return"IndexedDbTransactionError"===t.name}var Zw=(n_.open=function(t,e,n,r){try{return new n_(e,t.transaction(r,n))}catch(t){throw new Gw(e,t)}},Object.defineProperty(n_.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),n_.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(Gv("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},n_.prototype.store=function(t){return t=this.transaction.objectStore(t),new t_(t)},n_),t_=(e_.prototype.put=function(t,e){return r_(t=void 0!==e?(Gv("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(Gv("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},e_.prototype.add=function(t){return Gv("SimpleDb","ADD",this.store.name,t,t),r_(this.store.add(t))},e_.prototype.get=function(t){var e=this;return r_(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Gv("SimpleDb","GET",e.store.name,t,n),n}))},e_.prototype.delete=function(t){return Gv("SimpleDb","DELETE",this.store.name,t),r_(this.store.delete(t))},e_.prototype.count=function(){return Gv("SimpleDb","COUNT",this.store.name),r_(this.store.count())},e_.prototype.ts=function(t,e){e=this.cursor(this.options(t,e));var n=[];return this.es(e,(function(t,e){n.push(e)})).next((function(){return n}))},e_.prototype.ns=function(t,e){return Gv("SimpleDb","DELETE ALL",this.store.name),(e=this.options(t,e)).ss=!1,e=this.cursor(e),this.es(e,(function(t,e,n){return n.delete()}))},e_.prototype.rs=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.es(n,e)},e_.prototype.os=function(t){var e=this.cursor({});return new zw((function(n,r){e.onerror=function(t){t=o_(t.target.error),r(t)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},e_.prototype.es=function(t,e){var n=[];return new zw((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i,o=t.target.result;o?(i=new Hw(o),(t=e(o.primaryKey,o.value,i))instanceof zw&&(t=t.catch((function(t){return i.done(),zw.reject(t)})),n.push(t)),i.Sn?r():null===i.Jn?o.continue():o.continue(i.Jn)):r()}})).next((function(){return zw.$n(n)}))},e_.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},e_.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},e_);function e_(t){this.store=t}function n_(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new Vw,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new Gw(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){e=o_(e.target.error),n.Zn.reject(new Gw(t,e))}}function r_(t){return new zw((function(e,n){t.onsuccess=function(t){t=t.target.result,e(t)},t.onerror=function(t){t=o_(t.target.error),n(t)}}))}var i_=!1;function o_(t){var e=Ww.On(Mo());if(12.2<=e&&e<13&&(e="An internal error was encountered in the Indexed Database server",0<=t.message.indexOf(e))){var n=new Bv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return i_||(i_=!0,setTimeout((function(){throw n}),0)),n}return t}function a_(){return"undefined"!=typeof window?window:null}function s_(){return"undefined"!=typeof document?document:null}var u_=(h_._s=function(t,e,n,r,i){return(i=new h_(t,e,Date.now()+n,r,i)).start(n),i},h_.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},h_.prototype.pn=function(){return this.ds()},h_.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new Bv(qv.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},h_.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},h_.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},h_),c_=(Object.defineProperty(l_.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),l_.prototype.ws=function(t){this.enqueue(t)},l_.prototype.bs=function(t){this.vs(),this.Ss(t)},l_.prototype.Ds=function(){var t;this.Is||(this.Is=!0,(t=s_())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs))},l_.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},l_.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Es.push(t),e.Ns()}))},l_.prototype.Ns=function(){return wo(this,void 0,void 0,(function(){var t,e=this;return _o(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Jw(t=n.sent()))throw t;return Gv("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:0<this.Es.length&&this.ys.gn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},l_.prototype.Ss=function(t){var e=this,n=this.Ts.then((function(){return e.gs=!0,t().catch((function(t){throw e.Rs=t,e.gs=!1,Kv("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.gs=!1,t}))}));return this.Ts=n},l_.prototype.yn=function(t,e,n){var r=this;return this.vs(),-1<this.Ps.indexOf(t)&&(e=0),n=u_._s(this,t,e,n,(function(t){return r.Fs(t)})),this.As.push(n),n},l_.prototype.vs=function(){this.Rs&&Yv()},l_.prototype.xs=function(){},l_.prototype.$s=function(){return wo(this,void 0,void 0,(function(){var t;return _o(this,(function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}}))}))},l_.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},l_.prototype.Ms=function(t){var e=this;return this.$s().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.$s()}))},l_.prototype.Os=function(t){this.Ps.push(t)},l_.prototype.Fs=function(t){t=this.As.indexOf(t),this.As.splice(t,1)},l_);function l_(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new Bw(this,"async_queue_retry"),this.Vs=function(){var e=s_();e&&Gv("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=s_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}function h_(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new Vw,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}function f_(t,e){if(Kv("AsyncQueue",e+": "+t),Jw(t))return new Bv(qv.UNAVAILABLE,e+": "+t);throw t}function p_(){this.Ls=void 0,this.listeners=[]}function d_(){this.Bs=new Hy(aw,ow),this.onlineState="Unknown",this.qs=new Set}function v_(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o,a;return _o(this,(function(s){switch(s.label){case 0:if(n=t,r=e.query,i=!1,(o=n.Bs.get(r))||(i=!0,o=new p_),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.Us(r)];case 2:return a.Ls=s.sent(),[3,4];case 3:return a=f_(a=s.sent(),"Initialization of query '"+sw(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.Bs.set(r,o),o.listeners.push(e),e.Qs(n.onlineState),o.Ls&&e.Ws(o.Ls)&&g_(n),[2]}}))}))}function y_(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o,a;return _o(this,(function(s){return n=t,r=e.query,i=!1,(o=n.Bs.get(r))&&0<=(a=o.listeners.indexOf(e))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.Bs.delete(r),n.js(r))]:[2]}))}))}function g_(t){t.qs.forEach((function(t){t.next()}))}var m_=(__.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new xg(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},__.prototype.onError=function(t){this.Ks.error(t)},__.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},__.prototype.Ys=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Xs&&n||t.docs.m()&&"Offline"!==e)},__.prototype.Hs=function(t){if(0<t.docChanges.length)return!0;var e=this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites;return!(!t.jt&&!e)&&!0===this.options.includeMetadataChanges},__.prototype.Js=function(t){t=xg.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},__),b_=(w_.prototype.Zs=function(){return null!=this.uid},w_.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},w_.prototype.isEqual=function(t){return t.uid===this.uid},w_);function w_(t){this.uid=t}function __(t,e,n){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}b_.UNAUTHENTICATED=new b_(null),b_.ei=new b_("google-credentials-uid"),b_.ni=new b_("first-party-uid");var E_=(I_.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},I_.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},I_);function I_(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}function S_(t,e){return"firestore_clients_"+t+"_"+e}function T_(t,e,n){return n="firestore_mutations_"+t+"_"+n,e.Zs()&&(n+="_"+e.uid),n}function k_(t,e){return"firestore_targets_"+t+"_"+e}E_.ai=-1;var N_=($_.ci=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Bv(r.error.code,r.error.message)),i?new $_(t,e,r.state,o):(Kv("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},$_.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},$_),A_=(Y_.ci=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new Bv(n.error.code,n.error.message)),r?new Y_(t,n.state,i):(Kv("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},Y_.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Y_),C_=(X_.ci=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Cg,o=0;r&&o<n.activeTargetIds.length;++o)r=eg(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new X_(t,i):(Kv("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},X_),O_=(Q_.ci=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Q_(e.clientId,e.onlineState):(Kv("SharedClientState","Failed to parse online state: "+t),null)},Q_),P_=(K_.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},K_.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},K_.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},K_),x_=(G_.Ln=function(t){return!(!t||!t.localStorage)},G_.prototype.start=function(){return wo(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return _o(this,(function(h){switch(h.label){case 0:return[4,this.fi.pi()];case 1:for(o=h.sent(),t=0,e=o;t<e.length;t++)(n=e[t])!==this._i&&(r=this.getItem(S_(this.persistenceKey,n)))&&(i=C_.ci(n,r))&&(this.Ti=this.Ti.ot(i.clientId,i));for(this.bi(),(o=this.storage.getItem(this.Vi))&&(a=this.vi(o))&&this.Si(a),s=0,u=this.Ii;s<u.length;s++)c=u[s],this.mi(c);return this.Ii=[],this.window.addEventListener("unload",(function(){return l.Di()})),this.Ei=!0,[2]}}))}))},G_.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},G_.prototype.Ci=function(){return this.Ni(this.Ti)},G_.prototype.Fi=function(t){var e=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},G_.prototype.xi=function(t){this.$i(t,"pending")},G_.prototype.ki=function(t,e,n){this.$i(t,e,n),this.Mi(t)},G_.prototype.Oi=function(t){var e,n="not-current";return this.Fi(t)&&(!(e=this.storage.getItem(k_(this.persistenceKey,t)))||(e=A_.ci(t,e))&&(n=e.state)),this.Li.hi(t),this.bi(),n},G_.prototype.Bi=function(t){this.Li.li(t),this.bi()},G_.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},G_.prototype.Ui=function(t){this.removeItem(k_(this.persistenceKey,t))},G_.prototype.Qi=function(t,e,n){this.Wi(t,e,n)},G_.prototype.ji=function(t,e,n){var r=this;e.forEach((function(t){r.Mi(t)})),this.currentUser=t,n.forEach((function(t){r.xi(t)}))},G_.prototype.Ki=function(t){this.Gi(t)},G_.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},G_.prototype.getItem=function(t){var e=this.storage.getItem(t);return Gv("SharedClientState","READ",t,e),e},G_.prototype.setItem=function(t,e){Gv("SharedClientState","SET",t,e),this.storage.setItem(t,e)},G_.prototype.removeItem=function(t){Gv("SharedClientState","REMOVE",t),this.storage.removeItem(t)},G_.prototype.mi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Gv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void Kv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return wo(e,void 0,void 0,(function(){var t,e,r,i,o;return _o(this,(function(a){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(t=this.Yi(n.key,n.newValue))return[2,this.Hi(t.clientId,t)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(e=this.Ji(n.key,n.newValue)))return[2,this.Xi(e)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(r=this.Zi(n.key,n.newValue)))return[2,this.tr(r)]}else if(n.key===this.Vi){if(null!==n.newValue&&(i=this.vi(n.newValue)))return[2,this.Si(i)]}else n.key===this.Ri&&(o=function(t){var e=E_.ai;if(null!=t)try{var n=JSON.parse(t);$v("number"==typeof n),e=n}catch(t){Kv("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==E_.ai&&this.si(o)}else this.Ii.push(n);return[2]}))}))}))}},Object.defineProperty(G_.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),G_.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},G_.prototype.$i=function(t,e,n){n=new N_(this.currentUser,t,e,n),t=T_(this.persistenceKey,this.currentUser,t),this.setItem(t,n.ui())},G_.prototype.Mi=function(t){t=T_(this.persistenceKey,this.currentUser,t),this.removeItem(t)},G_.prototype.Gi=function(t){t={clientId:this._i,onlineState:t},this.storage.setItem(this.Vi,JSON.stringify(t))},G_.prototype.Wi=function(t,e,n){var r=k_(this.persistenceKey,t);n=new A_(t,e,n),this.setItem(r,n.ui())},G_.prototype.zi=function(t){return(t=this.gi.exec(t))?t[1]:null},G_.prototype.Yi=function(t,e){return t=this.zi(t),C_.ci(t,e)},G_.prototype.Ji=function(t,e){var n=this.Pi.exec(t);return t=Number(n[1]),n=void 0!==n[2]?n[2]:null,N_.ci(new b_(n),t,e)},G_.prototype.Zi=function(t,e){return t=this.yi.exec(t),t=Number(t[1]),A_.ci(t,e)},G_.prototype.vi=function(t){return O_.ci(t)},G_.prototype.Xi=function(t){return wo(this,void 0,void 0,(function(){return _o(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(Gv("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},G_.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},G_.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fi.sr(a,s).then((function(){n.Ti=r}))},G_.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},G_.prototype.Ni=function(t){var e=Cg;return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},G_),R_=(H_.prototype.xi=function(t){},H_.prototype.ki=function(t,e,n){},H_.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},H_.prototype.Qi=function(t,e,n){this.rr[t]=e},H_.prototype.Bi=function(t){this.ir.li(t)},H_.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},H_.prototype.Ui=function(t){delete this.rr[t]},H_.prototype.Ci=function(){return this.ir.activeTargetIds},H_.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},H_.prototype.start=function(){return this.ir=new P_,Promise.resolve()},H_.prototype.ji=function(t,e,n){},H_.prototype.Ki=function(t){},H_.prototype.Di=function(){},H_.prototype.oi=function(t){},H_),D_=(W_.prototype.cr=function(t,e,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=fb(o,e,r[i]))}return e},W_.prototype.hr=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=pb(i,e,e,this.ar))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=pb(u,e,o,this.ar))}return e},W_.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.hr(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},W_.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ag())},W_.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ry(this.mutations,t.mutations,db)&&Ry(this.baseMutations,t.baseMutations,db)},W_),L_=(z_.from=function(t,e,n){$v(t.mutations.length===n.length);for(var r=kg,i=t.mutations,o=0;o<i.length;o++)r=r.ot(i[o].key,n[o].version);return new z_(t,e,n,r)},z_),M_=(Object.defineProperty(B_.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),B_.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},B_.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},B_.prototype.Rr=function(t,e){this.Ir();var n=this.wr.get(e);return void 0!==n?zw.resolve(n):this.gr(t,e)},B_.prototype.getEntries=function(t,e){return this.Pr(t,e)},B_.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},B_.prototype.Ir=function(){},Dr=B_,"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),j_=(q_.prototype.pr=function(t){this.Vr.push(t)},q_.prototype.br=function(){this.Vr.forEach((function(t){return t()}))},j=q_,V_.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next((function(r){return n.Fr(t,e,r)}))},V_.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].hr(e,t);return t}))},V_.prototype.$r=function(t,e,n){var r=Eg;return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].hr(t,e);r=r.ot(t,e)})),r},V_.prototype.kr=function(t,e){var n=this;return this.vr.getEntries(t,e).next((function(e){return n.Mr(t,e)}))},V_.prototype.Mr=function(t,e){var n=this;return this.Sr.Or(t,e).next((function(r){r=n.$r(t,e,r);var i=Eg;return r.forEach((function(t,e){e=e||new qb(t,Ky.min()),i=i.ot(t,e)})),i}))},V_.prototype.Lr=function(t,e,n){return r=e,ay.F(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Br(t,e.path):Zb(e)?this.qr(t,e,n):this.Ur(t,e,n);var r},V_.prototype.Br=function(t,e){return this.Cr(t,new ay(e)).next((function(t){var e=Tg;return t instanceof Vb&&(e=e.ot(t.key,t)),e}))},V_.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=Tg;return this.Dr.Qr(t,i).next((function(a){return zw.forEach(a,(function(a){var s=(s=e,a=a.child(i),new zb(a,null,s.on.slice(),s.filters.slice(),s.limit,s.an,s.startAt,s.endAt));return r.Ur(t,s,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},V_.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next((function(n){return r=n,o.Sr.Wr(t,e)})).next((function(e){return i=e,o.jr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=pb(u,l=r.get(c),l,o.ar);r=l instanceof Vb?r.ot(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){uw(e,n)||(r=r.remove(t))})),r}))},V_.prototype.jr=function(t,e,n){for(var r=Ag(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof bb&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.vr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Vb&&(c=c.ot(t,e))})),c}))},V_),F_=(U_.zr=function(t,e){for(var n=Ag(),r=Ag(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new U_(t,e.fromCache,n,r)},U_);function U_(t,e,n,r){this.targetId=t,this.fromCache=e,this.Kr=n,this.Gr=r}function V_(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}function q_(){this.Vr=[]}function B_(){this.wr=new Hy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mr=!1}function z_(t,e,n,r){this.batch=t,this._r=e,this.ur=n,this.dr=r}function W_(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}function H_(){this.ir=new P_,this.rr={},this.di=null,this.si=null}function G_(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new pg(xy),this.Ei=!1,this.Ii=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.Ai=S_(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new P_),this.gi=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}function K_(){this.activeTargetIds=Cg}function Q_(t,e){this.clientId=t,this.onlineState=e}function X_(t,e){this.clientId=t,this.activeTargetIds=e}function Y_(t,e,n){this.targetId=t,this.state=e,this.error=n}function $_(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function J_(t,e){var n=t[0],r=t[1];return t=e[0],e=e[1],0===(t=xy(n,t))?xy(r,e):t}var Z_=(rE.prototype.Jr=function(){return++this.Yr},rE.prototype.Xr=function(t){var e=[t,this.Jr()];this.buffer.size<this.Hr?this.buffer=this.buffer.add(e):J_(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(rE.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),rE),tE={Zr:!1,eo:0,no:0,so:0},eE=(nE.ao=function(t){return new nE(t,nE.co,nE.uo)},nE);function nE(t,e,n){this.io=t,this.ro=e,this.oo=n}function rE(t){this.Hr=t,this.buffer=new wg(J_),this.Yr=0}eE.ho=-1,eE.lo=1048576,eE._o=41943040,eE.co=10,eE.uo=1e3,eE.fo=new eE(eE._o,eE.co,eE.uo),eE.do=new eE(eE.ho,0,0);var iE=(sE.prototype.start=function(t){this.wo.params.io!==eE.ho&&this.Eo(t)},sE.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(sE.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),sE.prototype.Eo=function(t){var e=this,n=this.mo?3e5:6e4;Gv("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,(function(){return wo(e,void 0,void 0,(function(){var e;return _o(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return Jw(e=n.sent())?(Gv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,UI(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return n.sent(),[2]}}))}))}))},sE),oE=(aE.prototype.Ro=function(t,e){return this.Ao.Po(t).next((function(t){return Math.floor(e/100*t)}))},aE.prototype.yo=function(t,e){var n=this;if(0===e)return zw.resolve(E_.ai);var r=new Z_(e);return this.Ao.Ce(t,(function(t){return r.Xr(t.sequenceNumber)})).next((function(){return n.Ao.Vo(t,(function(t){return r.Xr(t)}))})).next((function(){return r.maxValue}))},aE.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},aE.prototype.bo=function(t,e){return this.Ao.bo(t,e)},aE.prototype.vo=function(t,e){var n=this;return this.params.io===eE.ho?(Gv("LruGarbageCollector","Garbage collection skipped; disabled"),zw.resolve(tE)):this.So(t).next((function(r){return r<n.params.io?(Gv("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),tE):n.Do(t,e)}))},aE.prototype.So=function(t){return this.Ao.So(t)},aE.prototype.Do=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.Ro(t,this.params.ro).next((function(e){return r=e>c.params.oo?(Gv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.oo+" from "+e),c.params.oo):e,o=Date.now(),c.yo(t,r)})).next((function(r){return n=r,a=Date.now(),c.po(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.bo(t,n)})).next((function(t){return u=Date.now(),Hv()<=Aa.DEBUG&&Gv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),zw.resolve({Zr:!0,eo:r,no:i,so:t})}))},aE);function aE(t,e){this.Ao=t,this.params=e}function sE(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}function uE(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=cE(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return cE(e)}function cE(t){return t+"\x01\x01"}function lE(t){var e=t.length;if($v(2<=e),2===e)return $v("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ry.P();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||n<a)&&Yv(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Yv()}o=a+2}return new ry(r)}var hE=function(t){this.Co=t};function fE(t,e){if(e.document)return n=t.Co,r=e.document,i=!!e.hasCommittedMutations,t=Tm(n,r.name),n=_m(r.updateTime),r=new Pb({mapValue:{fields:r.fields}}),new Vb(t,n,r,{hasCommittedMutations:!!i});var n,r;if(e.noDocument){var i=ay.$(e.noDocument.path),o=gE(e.noDocument.readTime);return new qb(i,o,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(o=ay.$(e.unknownDocument.path),e=gE(e.unknownDocument.version),new Bb(o,e)):Yv()}function pE(t,e,n){var r=dE(n);if(n=e.key.path.h().A(),e instanceof Vb){var i={name:Sm(i=t.Co,(o=e).key),fields:o.rn().mapValue.fields,updateTime:bm(i,o.version.Z())},o=e.hasCommittedMutations;return new $E(null,null,i,o,r,n)}if(e instanceof qb){i=e.key.path.A(),o=yE(e.version);var a=e.hasCommittedMutations;return new $E(null,new XE(i,o),null,a,r,n)}return e instanceof Bb?(a=e.key.path.A(),e=yE(e.version),new $E(new YE(a,e),null,null,!0,r,n)):Yv()}function dE(t){return[(t=t.Z()).seconds,t.nanoseconds]}function vE(t){return t=new Gy(t[0],t[1]),Ky.J(t)}function yE(t){return t=t.Z(),new VE(t.seconds,t.nanoseconds)}function gE(t){return t=new Gy(t.seconds,t.nanoseconds),Ky.J(t)}function mE(t,e){var n=(e.baseMutations||[]).map((function(e){return xm(t.Co,e)})),r=e.mutations.map((function(e){return xm(t.Co,e)})),i=Gy.fromMillis(e.localWriteTimeMs);return new D_(e.batchId,i,n,r)}function bE(t){var e=gE(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?gE(t.lastLimboFreeSnapshotVersion):Ky.min(),r=void 0!==t.query.documents?($v(1===(r=t.query).documents.length),ew(Qb(Nm(r.documents[0])))):Lm(t.query);return new cg(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Ly.fromBase64String(t.resumeToken))}function wE(t,e){var n=yE(e.nt),r=yE(e.lastLimboFreeSnapshotVersion),i=(ag(e.target)?Rm:Dm)(t.Co,e.target);return t=e.resumeToken.toBase64(),new ZE(e.targetId,ig(e.target),n,t,e.sequenceNumber,r,i)}var _E=(EE.xo=function(t,e,n,r){return $v(""!==t.uid),new EE(t.Zs()?t.uid:"",e,n,r)},EE.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return TE(t).rs({index:GE.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},EE.prototype.ko=function(t,e,n,r){var i=this,o=kE(t),a=TE(t);return a.add({}).next((function(s){$v("number"==typeof s);for(var u,c,l,h,f,p=new D_(s,e,n,r),d=(u=i.serializer,c=i.userId,h=(l=p).baseMutations.map((function(t){return Pm(u.Co,t)})),f=l.mutations.map((function(t){return Pm(u.Co,t)})),new GE(c,l.batchId,l.ar.toMillis(),h,f)),v=[],y=new wg((function(t,e){return xy(t.R(),e.R())})),g=0,m=r;g<m.length;g++){var b=m[g],w=KE.key(i.userId,b.key.path,s);y=y.add(b.key.path.h()),v.push(a.put(d)),v.push(o.put(w,KE.PLACEHOLDER))}return y.forEach((function(e){v.push(i.Dr.Mo(t,e))})),t.pr((function(){i.Fo[s]=p.keys()})),zw.$n(v).next((function(){return p}))}))},EE.prototype.Oo=function(t,e){var n=this;return TE(t).get(e).next((function(t){return t?($v(t.userId===n.userId),mE(n.serializer,t)):null}))},EE.prototype.Lo=function(t,e){var n=this;return this.Fo[e]?zw.resolve(this.Fo[e]):this.Oo(t,e).next((function(t){return t?(t=t.keys(),n.Fo[e]=t):null}))},EE.prototype.Bo=function(t,e){var n=this,r=e+1,i=(e=IDBKeyRange.lowerBound([this.userId,r]),null);return TE(t).rs({index:GE.userMutationsIndex,range:e},(function(t,e,o){e.userId===n.userId&&($v(e.batchId>=r),i=mE(n.serializer,e)),o.done()})).next((function(){return i}))},EE.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return TE(t).rs({index:GE.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},EE.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return TE(t).ts(GE.userMutationsIndex,n).next((function(t){return t.map((function(t){return mE(e.serializer,t)}))}))},EE.prototype.Nr=function(t,e){var n=this,r=KE.prefixForPath(this.userId,e.path),i=(r=IDBKeyRange.lowerBound(r),[]);return kE(t).rs({range:r},(function(r,o,a){var s=r[0],u=r[1];if(r=r[2],u=lE(u),s===n.userId&&e.path.isEqual(u))return TE(t).get(r).next((function(t){if(!t)throw Yv();$v(t.userId===n.userId),i.push(mE(n.serializer,t))}));a.done()})).next((function(){return i}))},EE.prototype.Or=function(t,e){var n=this,r=new wg(xy),i=[];return e.forEach((function(e){var o=KE.prefixForPath(n.userId,e.path);o=IDBKeyRange.lowerBound(o),o=kE(t).rs({range:o},(function(t,i,o){var a=t[0],s=t[1];t=t[2],s=lE(s),a===n.userId&&e.path.isEqual(s)?r=r.add(t):o.done()})),i.push(o)})),zw.$n(i).next((function(){return n.Qo(t,r)}))},EE.prototype.Wr=function(t,e){var n=this,r=e.path,i=r.length+1,o=(e=KE.prefixForPath(this.userId,r),e=IDBKeyRange.lowerBound(e),new wg(xy));return kE(t).rs({range:e},(function(t,e,a){var s=t[0],u=t[1];t=t[2],u=lE(u),s===n.userId&&r.T(u)?u.length===i&&(o=o.add(t)):a.done()})).next((function(){return n.Qo(t,o)}))},EE.prototype.Qo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(TE(t).get(e).next((function(t){if(null===t)throw Yv();$v(t.userId===n.userId),r.push(mE(n.serializer,t))})))})),zw.$n(i).next((function(){return r}))},EE.prototype.Wo=function(t,e){var n=this;return SE(t.jo,this.userId,e).next((function(r){return t.pr((function(){n.Ko(e.batchId)})),zw.forEach(r,(function(e){return n.No.Go(t,e)}))}))},EE.prototype.Ko=function(t){delete this.Fo[t]},EE.prototype.zo=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return zw.resolve();n=IDBKeyRange.lowerBound(KE.prefixForUser(e.userId));var r=[];return kE(t).rs({range:n},(function(t,n,i){t[0]===e.userId?(t=lE(t[1]),r.push(t)):i.done()})).next((function(){$v(0===r.length)}))}))},EE.prototype.Ho=function(t,e){return IE(t,this.userId,e)},EE.prototype.Yo=function(t){var e=this;return NE(t).get(this.userId).next((function(t){return t||new HE(e.userId,-1,"")}))},EE);function EE(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.Fo={}}function IE(t,e,n){var r=(n=KE.prefixForPath(e,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return kE(t).rs({range:n,ss:!0},(function(t,n,o){var a=t[0],s=t[1];t[2],a===e&&s===r&&(i=!0),o.done()})).next((function(){return i}))}function SE(t,e,n){var r=t.store(GE.store),i=t.store(KE.store),o=[],a=(t=IDBKeyRange.only(n.batchId),0);t=r.rs({range:t},(function(t,e,n){return a++,n.delete()})),o.push(t.next((function(){$v(1===a)})));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],h=KE.key(e,l.key.path,n.batchId);o.push(i.delete(h)),s.push(l.key)}return zw.$n(o).next((function(){return s}))}function TE(t){return bI.Qn(t,GE.store)}function kE(t){return bI.Qn(t,KE.store)}function NE(t){return bI.Qn(t,HE.store)}var AE,CE=(xE.prototype.Er=function(t,e,n){return DE(t).put(LE(e),n)},xE.prototype.Ar=function(t,e){return t=DE(t),e=LE(e),t.delete(e)},xE.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jo(t,r)}))},xE.prototype.Rr=function(t,e){var n=this;return DE(t).get(LE(e)).next((function(t){return n.Xo(t)}))},xE.prototype.Zo=function(t,e){var n=this;return DE(t).get(LE(e)).next((function(t){var e=n.Xo(t);return e?{ta:e,size:ME(t)}:null}))},xE.prototype.getEntries=function(t,e){var n=this,r=Eg;return this.ea(t,e,(function(t,e){e=n.Xo(e),r=r.ot(t,e)})).next((function(){return r}))},xE.prototype.na=function(t,e){var n=this,r=Eg,i=new pg(ay.i);return this.ea(t,e,(function(t,e){var o=n.Xo(e);i=o?(r=r.ot(t,o),i.ot(t,ME(e))):(r=r.ot(t,null),i.ot(t,0))})).next((function(){return{sa:r,ia:i}}))},xE.prototype.ea=function(t,e,n){if(e.m())return zw.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e._t(),o=i.It();return DE(t).rs({range:r},(function(t,e,r){for(var a=ay.$(t);o&&ay.i(o,a)<0;)n(o,null),o=i.It();o&&o.isEqual(a)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},xE.prototype.Lr=function(t,e,n){var r,i=this,o=Tg,a=e.path.length+1,s={};return n.isEqual(Ky.min())?(r=e.path.A(),s.range=IDBKeyRange.lowerBound(r)):(r=e.path.A(),n=dE(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=$E.collectionReadTimeIndex),DE(t).rs(s,(function(t,n,r){t.length===a&&(n=fE(i.serializer,n),e.path.T(n.key.path)?n instanceof Vb&&uw(e,n)&&(o=o.ot(n.key,n)):r.done())})).next((function(){return o}))},xE.prototype.ra=function(t){return new OE(this,!!t&&t.oa)},xE.prototype.aa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},xE.prototype.getMetadata=function(t){return RE(t).get(JE.key).next((function(t){return $v(!!t),t}))},xE.prototype.Jo=function(t,e){return RE(t).put(JE.key,e)},xE.prototype.Xo=function(t){return t?(t=fE(this.serializer,t))instanceof qb&&t.version.isEqual(Ky.min())?null:t:null},xE),OE=(mo(PE,AE=Dr),PE.prototype.yr=function(t){var e=this,n=[],r=0,i=new wg((function(t,e){return xy(t.R(),e.R())}));return this.wr.forEach((function(o,a){var s,u=e.ua.get(o);a?(s=pE(e.ca.serializer,a,e.readTime),i=i.add(o.path.h()),a=ME(s),r+=a-u,n.push(e.ca.Er(t,o,s))):(r-=u,e.oa?(u=pE(e.ca.serializer,new qb(o,Ky.min()),e.readTime),n.push(e.ca.Er(t,o,u))):n.push(e.ca.Ar(t,o)))})),i.forEach((function(r){n.push(e.ca.Dr.Mo(t,r))})),n.push(this.ca.updateMetadata(t,r)),zw.$n(n)},PE.prototype.gr=function(t,e){var n=this;return this.ca.Zo(t,e).next((function(t){return null===t?(n.ua.set(e,0),null):(n.ua.set(e,t.size),t.ta)}))},PE.prototype.Pr=function(t,e){var n=this;return this.ca.na(t,e).next((function(t){var e=t.sa;return t.ia.forEach((function(t,e){n.ua.set(t,e)})),e}))},PE);function PE(t,e){var n=this;return(n=AE.call(this)||this).ca=t,n.oa=e,n.ua=new Hy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),n}function xE(t,e){this.serializer=t,this.Dr=e}function RE(t){return bI.Qn(t,JE.store)}function DE(t){return bI.Qn(t,$E.store)}function LE(t){return t.path.A()}function ME(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Yv();e=t.noDocument}return JSON.stringify(e).length}var jE=(WE.prototype.Mo=function(t,e){return this.ha.add(e),zw.resolve()},WE.prototype.Qr=function(t,e){return zw.resolve(this.ha.getEntries(e))},WE),FE=(zE.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new wg(ry.i);return t=!r.has(n),this.index[e]=r.add(n),t},zE.prototype.has=function(t){var e=t._();return t=t.h(),(e=this.index[e])&&e.has(t)},zE.prototype.getEntries=function(t){return(this.index[t]||new wg(ry.i)).A()},zE),UE=(BE.prototype.createOrUpgrade=function(t,e,n,r){var i=this;$v(n<r&&0<=n&&r<=10);var o=new Zw("createOrUpgrade",e);n<1&&1<=r&&(t.createObjectStore(qE.store),(a=t).createObjectStore(HE.store,{keyPath:HE.keyPath}),a.createObjectStore(GE.store,{keyPath:GE.keyPath,autoIncrement:!0}).createIndex(GE.userMutationsIndex,GE.userMutationsKeyPath,{unique:!0}),a.createObjectStore(KE.store),rI(t),t.createObjectStore($E.store));var a,s=zw.resolve();return n<3&&3<=r&&(0!==n&&((a=t).deleteObjectStore(tI.store),a.deleteObjectStore(ZE.store),a.deleteObjectStore(eI.store),rI(t)),s=s.next((function(){return t=o.store(eI.store),e=new eI(0,0,Ky.min().Z(),0),t.put(eI.key,e);var t,e}))),n<4&&4<=r&&(0!==n&&(s=s.next((function(){return e=t,(n=o).store(GE.store).ts().next((function(t){e.deleteObjectStore(GE.store),e.createObjectStore(GE.store,{keyPath:GE.keyPath,autoIncrement:!0}).createIndex(GE.userMutationsIndex,GE.userMutationsKeyPath,{unique:!0});var r=n.store(GE.store);return t=t.map((function(t){return r.put(t)})),zw.$n(t)}));var e,n}))),s=s.next((function(){t.createObjectStore(iI.store,{keyPath:iI.keyPath})}))),n<5&&5<=r&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&6<=r&&(s=s.next((function(){return t.createObjectStore(JE.store),i.addDocumentGlobal(o)}))),n<7&&7<=r&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&8<=r&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&9<=r&&(s=s.next((function(){var n;(n=t).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore($E.store)).createIndex($E.readTimeIndex,$E.readTimeIndexPath,{unique:!1}),n.createIndex($E.collectionReadTimeIndex,$E.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},BE.prototype.addDocumentGlobal=function(t){var e=0;return t.store($E.store).rs((function(t,n){e+=ME(n)})).next((function(){var n=new JE(e);return t.store(JE.store).put(JE.key,n)}))},BE.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(HE.store),r=t.store(GE.store);return n.ts().next((function(n){return zw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(GE.userMutationsIndex,i).next((function(r){return zw.forEach(r,(function(r){return $v(r.userId===n.userId),r=mE(e.serializer,r),SE(t,n.userId,r).next((function(){}))}))}))}))}))},BE.prototype.ensureSequenceNumbers=function(t){var e=t.store(tI.store),n=t.store($E.store);return t.store(eI.store).get(eI.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new ry(n);n=[0,uE(o)],r.push(e.get(n).next((function(n){return n?zw.resolve():e.put(new tI(0,uE(o),t.highestListenSequenceNumber))})))})).next((function(){return zw.$n(r)}))}))},BE.prototype.createCollectionParentIndex=function(t,e){function n(t){if(i.add(t)){var e=t._();return t=t.h(),r.put({collectionId:e,parent:uE(t)})}}t.createObjectStore(nI.store,{keyPath:nI.keyPath});var r=e.store(nI.store),i=new FE;return e.store($E.store).rs({ss:!0},(function(t,e){return n((t=new ry(t)).h())})).next((function(){return e.store(KE.store).rs({ss:!0},(function(t,e){t[0];var r=t[1];return n((t[2],r=lE(r)).h())}))}))},BE.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(ZE.store);return n.rs((function(t,r){return r=bE(r),r=wE(e.serializer,r),n.put(r)}))},BE),VE=function(t,e){this.seconds=t,this.nanoseconds=e},qE=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};function BE(t){this.serializer=t}function zE(){this.index={}}function WE(){this.ha=new FE}qE.store="owner",qE.key="owner";var HE=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};HE.store="mutationQueues",HE.keyPath="userId";var GE=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};GE.store="mutations",GE.keyPath="batchId",GE.userMutationsIndex="userMutationsIndex",GE.userMutationsKeyPath=["userId","batchId"];var KE=(QE.prefixForUser=function(t){return[t]},QE.prefixForPath=function(t,e){return[t,uE(e)]},QE.key=function(t,e,n){return[t,uE(e),n]},QE);function QE(){}KE.store="documentMutations",KE.PLACEHOLDER=new KE;var XE=function(t,e){this.path=t,this.readTime=e},YE=function(t,e){this.path=t,this.version=e},$E=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};$E.store="remoteDocuments",$E.readTimeIndex="readTimeIndex",$E.readTimeIndexPath="readTime",$E.collectionReadTimeIndex="collectionReadTimeIndex",$E.collectionReadTimeIndexPath=["parentPath","readTime"];var JE=function(t){this.byteSize=t};JE.store="remoteDocumentGlobal",JE.key="remoteDocumentGlobalKey";var ZE=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ZE.store="targets",ZE.keyPath="targetId",ZE.queryTargetsIndexName="queryTargetsIndex",ZE.queryTargetsKeyPath=["canonicalId","targetId"];var tI=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};tI.store="targetDocuments",tI.keyPath=["targetId","path"],tI.documentTargetsIndex="documentTargetsIndex",tI.documentTargetsKeyPath=["path","targetId"];var eI=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};eI.key="targetGlobalKey",eI.store="targetGlobal";var nI=function(t,e){this.collectionId=t,this.parent=e};function rI(t){t.createObjectStore(tI.store,{keyPath:tI.keyPath}).createIndex(tI.documentTargetsIndex,tI.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ZE.store,{keyPath:ZE.keyPath}).createIndex(ZE.queryTargetsIndexName,ZE.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(eI.store)}nI.store="collectionParents",nI.keyPath=["collectionId","parent"];var iI=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};iI.store="clientMetadata",iI.keyPath="clientId";var oI=To(To(To([HE.store,GE.store,KE.store,$E.store,ZE.store,qE.store,eI.store,tI.store],[iI.store]),[JE.store]),[nI.store]),aI=(sI.prototype.Mo=function(t,e){var n=this;if(this.la.has(e))return zw.resolve();var r=e._(),i=e.h();return t.pr((function(){n.la.add(e)})),i={collectionId:r,parent:uE(i)},uI(t).put(i)},sI.prototype.Qr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Dy(e),""],!1,!0);return uI(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(lE(o.parent))}return n}))},sI);function sI(){this.la=new FE}function uI(t){return bI.Qn(t,nI.store)}var cI=(fI.prototype.next=function(){return this._a+=2,this._a},fI.fa=function(){return new fI(0)},fI.da=function(){return new fI(-1)},fI),lI=(hI.prototype.wa=function(t){var e=this;return this.ma(t).next((function(n){var r=new cI(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next((function(){return n.highestTargetId}))}))},hI.prototype.Ea=function(t){return this.ma(t).next((function(t){return Ky.J(new Gy(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},hI.prototype.Ia=function(t){return this.ma(t).next((function(t){return t.highestListenSequenceNumber}))},hI.prototype.Aa=function(t,e,n){var r=this;return this.ma(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Z()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)}))},hI.prototype.Ra=function(t,e){var n=this;return this.ga(t,e).next((function(){return n.ma(t).next((function(r){return r.targetCount+=1,n.Pa(e,r),n.Ta(t,r)}))}))},hI.prototype.ya=function(t,e){return this.ga(t,e)},hI.prototype.Va=function(t,e){var n=this;return this.pa(t,e.targetId).next((function(){return pI(t).delete(e.targetId)})).next((function(){return n.ma(t)})).next((function(e){return $v(0<e.targetCount),--e.targetCount,n.Ta(t,e)}))},hI.prototype.po=function(t,e,n){var r=this,i=0,o=[];return pI(t).rs((function(a,s){(s=bE(s)).sequenceNumber<=e&&null===n.get(s.targetId)&&(i++,o.push(r.Va(t,s)))})).next((function(){return zw.$n(o)})).next((function(){return i}))},hI.prototype.Ce=function(t,e){return pI(t).rs((function(t,n){n=bE(n),e(n)}))},hI.prototype.ma=function(t){return dI(t).get(eI.key).next((function(t){return $v(null!==t),t}))},hI.prototype.Ta=function(t,e){return dI(t).put(eI.key,e)},hI.prototype.ga=function(t,e){return pI(t).put(wE(this.serializer,e))},hI.prototype.Pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},hI.prototype.ba=function(t){return this.ma(t).next((function(t){return t.targetCount}))},hI.prototype.va=function(t,e){var n=ig(e),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return pI(t).rs({range:n,index:ZE.queryTargetsIndexName},(function(t,n,i){n=bE(n),og(e,n.target)&&(r=n,i.done())})).next((function(){return r}))},hI.prototype.Sa=function(t,e,n){var r=this,i=[],o=vI(t);return e.forEach((function(e){var a=uE(e.path);i.push(o.put(new tI(n,a))),i.push(r.No.Da(t,n,e))})),zw.$n(i)},hI.prototype.Ca=function(t,e,n){var r=this,i=vI(t);return zw.forEach(e,(function(e){var o=uE(e.path);return zw.$n([i.delete([n,o]),r.No.Na(t,n,e)])}))},hI.prototype.pa=function(t,e){return t=vI(t),e=IDBKeyRange.bound([e],[e+1],!1,!0),t.delete(e)},hI.prototype.Fa=function(t,e){e=IDBKeyRange.bound([e],[e+1],!1,!0),t=vI(t);var n=Ag();return t.rs({range:e,ss:!0},(function(t,e,r){t=lE(t[1]),t=new ay(t),n=n.add(t)})).next((function(){return n}))},hI.prototype.Ho=function(t,e){e=uE(e.path),e=IDBKeyRange.bound([e],[Dy(e)],!1,!0);var n=0;return vI(t).rs({index:tI.documentTargetsIndex,ss:!0,range:e},(function(t,e,r){var i=t[0];t[1],0!==i&&(n++,r.done())})).next((function(){return 0<n}))},hI.prototype.Ue=function(t,e){return pI(t).get(e).next((function(t){return t?bE(t):null}))},hI);function hI(t,e){this.No=t,this.serializer=e}function fI(t){this._a=t}function pI(t){return bI.Qn(t,ZE.store)}function dI(t){return bI.Qn(t,eI.store)}function vI(t){return bI.Qn(t,tI.store)}var yI,gI="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",mI=(mo(_I,yI=j),_I),bI=(wI.Qn=function(t,e){if(t instanceof mI)return Ww.Qn(t.jo,e);throw Yv()},wI.prototype.start=function(){var t=this;return this.za().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Bv(qv.FAILED_PRECONDITION,gI);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ka.Ia(e)}))})).then((function(e){t.Ma=new E_(e,t.$a)})).then((function(){t.Oa=!0})).catch((function(e){return t.ja&&t.ja.close(),Promise.reject(e)}))},wI.prototype.Xa=function(t){var e=this;return this.Qa=function(n){return wo(e,void 0,void 0,(function(){return _o(this,(function(e){return this.Ei?[2,t(n)]:[2]}))}))},t(this.isPrimary)},wI.prototype.Za=function(t){var e=this;this.ja.Kn((function(n){return wo(e,void 0,void 0,(function(){return _o(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},wI.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return wo(e,void 0,void 0,(function(){return _o(this,(function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},wI.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return II(e).put(new iI(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ec(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.Qa(!1)})))}))})).next((function(){return t.nc(e)})).next((function(n){return t.isPrimary&&!n?t.sc(e).next((function(){return!1})):!!n&&t.ic(e).next((function(){return!0}))}))})).catch((function(e){if(Jw(e))return Gv("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Gv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.Qa(e)})),t.isPrimary=e}))},wI.prototype.ec=function(t){var e=this;return EI(t).get(qE.key).next((function(t){return zw.resolve(e.rc(t))}))},wI.prototype.oc=function(t){return II(t).delete(this.clientId)},wI.prototype.ac=function(){return wo(this,void 0,void 0,(function(){var t,e,n,r,i=this;return _o(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=wI.Qn(t,iI.store);return e.ts().next((function(t){var n=i.uc(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return zw.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ga)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ga.removeItem(this.hc(r.clientId));o.label=2;case 2:return[2]}}))}))},wI.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.za().then((function(){return t.ac()})).then((function(){return t.Ja()}))}))},wI.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},wI.prototype.nc=function(t){var e=this;return this.ka?zw.resolve(!0):EI(t).get(qE.key).next((function(n){if(null!==n&&e.cc(n.leaseTimestampMs,5e3)&&!e.lc(n.ownerId)){if(e.rc(n)&&e.networkEnabled)return!0;if(!e.rc(n)){if(!n.allowTabSynchronization)throw new Bv(qv.FAILED_PRECONDITION,gI);return!1}}return!(!e.networkEnabled||!e.inForeground)||II(t).ts().next((function(t){return void 0===e.uc(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground;if(t=e.networkEnabled===t.networkEnabled,n||r&&t)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Gv("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},wI.prototype.Di=function(){return wo(this,void 0,void 0,(function(){var t=this;return _o(this,(function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[qE.store,iI.store],(function(e){var n=new mI(e,E_.ai);return t.sc(n).next((function(){return t.oc(n)}))}))];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}}))}))},wI.prototype.uc=function(t,e){var n=this;return t.filter((function(t){return n.cc(t.updateTimeMs,e)&&!n.lc(t.clientId)}))},wI.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return II(e).ts().next((function(e){return t.uc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(wI.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),wI.prototype.mc=function(t){return _E.xo(t,this.serializer,this.Dr,this.No)},wI.prototype.Tc=function(){return this.Ka},wI.prototype.Ec=function(){return this.vr},wI.prototype.Ic=function(){return this.Dr},wI.prototype.runTransaction=function(t,e,n){var r=this;Gv("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.ja.runTransaction(t,o,oI,(function(o){return i=new mI(o,r.Ma?r.Ma.next():E_.ai),"readwrite-primary"===e?r.ec(i).next((function(t){return!!t||r.nc(i)})).next((function(e){if(!e)throw Kv("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.fn.Cs((function(){return r.Qa(!1)})),new Bv(qv.FAILED_PRECONDITION,M_);return n(i)})).next((function(t){return r.ic(i).next((function(){return t}))})):r.Ac(i).next((function(){return n(i)}))})).then((function(t){return i.br(),t}))},wI.prototype.Ac=function(t){var e=this;return EI(t).get(qE.key).next((function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Bv(qv.FAILED_PRECONDITION,gI)}))},wI.prototype.ic=function(t){var e=new qE(this.clientId,this.allowTabSynchronization,Date.now());return EI(t).put(qE.key,e)},wI.Ln=function(){return Ww.Ln()},wI.prototype.sc=function(t){var e=this,n=EI(t);return n.get(qE.key).next((function(t){return e.rc(t)?(Gv("IndexedDbPersistence","Releasing primary lease."),n.delete(qE.key)):zw.resolve()}))},wI.prototype.cc=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Kv("Detected an update time that is in the future: "+t+" > "+n),1))},wI.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},wI.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},wI.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws((function(){return e.Di()}))},this.window.addEventListener("unload",this.La))},wI.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},wI.prototype.lc=function(t){try{var e=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return Gv("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Kv("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},wI.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){Kv("Failed to set zombie client id.",r)}},wI.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},wI.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},wI);function wI(t,e,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.fn=i,this.window=o,this.document=a,this.$a=u,this.ka=c,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!wI.Ln())throw new Bv(qv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new SI(this,r),this.Wa=e+"main",this.serializer=new hE(s),this.ja=new Ww(this.Wa,10,new UE(this.serializer)),this.Ka=new lI(this.No,this.serializer),this.Dr=new aI,this.vr=(e=this.serializer,s=this.Dr,new CE(e,s)),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===c&&Kv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function _I(t,e){var n=this;return(n=yI.call(this)||this).jo=t,n.xa=e,n}function EI(t){return bI.Qn(t,qE.store)}function II(t){return bI.Qn(t,iI.store)}var SI=(TI.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next((function(t){return e.next((function(e){return t+e}))}))},TI.prototype.Rc=function(t){var e=0;return this.Vo(t,(function(t){e++})).next((function(){return e}))},TI.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},TI.prototype.Vo=function(t,e){return this.gc(t,(function(t,n){return e(n)}))},TI.prototype.Da=function(t,e,n){return kI(t,n)},TI.prototype.Na=function(t,e,n){return kI(t,n)},TI.prototype.po=function(t,e,n){return this.db.Tc().po(t,e,n)},TI.prototype.Go=kI,TI.prototype.Pc=function(t,e){return r=e,i=!1,NE(n=t).os((function(t){return IE(n,t,r).next((function(t){return t&&(i=!0),zw.resolve(!t)}))})).next((function(){return i}));var n,r,i},TI.prototype.bo=function(t,e){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(t,(function(a,s){s<=e&&(s=n.Pc(t,a).next((function(e){if(!e)return o++,r.Rr(t,a).next((function(){return r.Ar(a),vI(t).delete([0,uE(a.path)])}))})),i.push(s))})).next((function(){return zw.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},TI.prototype.removeTarget=function(t,e){return e=e.st(t.xa),this.db.Tc().ya(t,e)},TI.prototype.yc=kI,TI.prototype.gc=function(t,e){t=vI(t);var n,r=E_.ai;return t.rs({index:tI.documentTargetsIndex},(function(t,i){var o=t[0];t[1],t=i.path,i=i.sequenceNumber,0===o?(r!==E_.ai&&e(new ay(lE(n)),r),r=i,n=t):r=E_.ai})).next((function(){r!==E_.ai&&e(new ay(lE(n)),r)}))},TI.prototype.So=function(t){return this.db.Ec().aa(t)},TI);function TI(t,e){this.db=t,this.wo=new oE(this,e)}function kI(t,e){return vI(t).put((t=t.xa,new tI(0,uE(e.path),t)))}function NI(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var AI=(CI.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.vo(n,e.bc)}))},CI);function CI(t,e,n){this.persistence=t,this.Vc=e,this.bc=new pg(xy),this.vc=new Hy(ig,og),this.Sc=Ky.min(),this.Sr=t.mc(n),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new j_(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}function OI(t,e){var n=t;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,a,s,u,c,l=e.batch.keys(),h=n.Dc.ra({oa:!0});return r=n,i=t,a=h,u=(s=(o=e).batch).keys(),c=zw.resolve(),u.forEach((function(t){c=c.next((function(){return a.Rr(i,t)})).next((function(e){var n=e;$v(null!==(e=o.dr.get(t))),(!n||n.version.L(e)<0)&&(n=s.cr(t,n,o))&&a.Er(n,o._r)}))})),c.next((function(){return r.Sr.Wo(i,s)})).next((function(){return h.apply(t)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,l)}))}))}function PI(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ka.Ea(t)}))}function xI(t,e){var n=t,r=e.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Dc.ra({oa:!0});i=n.bc;var a=[];e.zt.forEach((function(e,o){var s,u,c,l=i.get(o);l&&(a.push(n.Ka.Ca(t,e.se,o).next((function(){return n.Ka.Sa(t,e.ee,o)}))),0<(c=e.resumeToken).O()&&(s=l.it(c,r).st(t.xa),i=i.ot(o,s),u=l,c=e,$v(0<(l=s).resumeToken.O()),(0===u.resumeToken.O()||3e8<=l.nt.X()-u.nt.X()||0<c.ee.size+c.ne.size+c.se.size)&&a.push(n.Ka.ya(t,s))))}));var s,u=Eg,c=Ag();return e.Yt.forEach((function(t,e){c=c.add(t)})),a.push(o.getEntries(t,c).next((function(i){e.Yt.forEach((function(s,c){var l=i.get(s);c instanceof qb&&c.version.isEqual(Ky.min())?(o.Ar(s,r),u=u.ot(s,c)):null==l||0<c.version.L(l.version)||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Er(c,r),u=u.ot(s,c)):Gv("LocalStore","Ignoring outdated watch update for ",s,". Current version:",l.version," Watch version:",c.version),e.Jt.has(s)&&a.push(n.persistence.No.yc(t,s))}))}))),r.isEqual(Ky.min())||(s=n.Ka.Ea(t).next((function(e){return n.Ka.Aa(t,t.xa,r)})),a.push(s)),zw.$n(a).next((function(){return o.apply(t)})).next((function(){return n.Cc.Mr(t,u)}))})).then((function(t){return n.bc=i,t}))}function RI(t,e){var n=t;return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ka.va(t,e).next((function(i){return i?(r=i,zw.resolve(r)):n.Ka.wa(t).next((function(i){return r=new cg(e,i,0,t.xa),n.Ka.Ra(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.bc.get(t.targetId);return(null===r||0<t.nt.L(r.nt))&&(n.bc=n.bc.ot(t.targetId,t),n.vc.set(e,t.targetId)),t}))}function DI(t,e,n){return wo(this,void 0,void 0,(function(){var r,i,o;return _o(this,(function(a){switch(a.label){case 0:i=(r=t).bc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.No.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Jw(o=a.sent()))throw o;return Gv("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.bc=r.bc.remove(e),r.vc.delete(i.target),[2]}}))}))}function LI(t,e,n){var r=t,i=Ky.min(),o=Ag();return r.persistence.runTransaction("Execute query","readonly",(function(t){return a=r,s=t,u=ew(e),(void 0!==(a=(c=a).vc.get(u))?zw.resolve(c.bc.get(a)):c.Ka.va(s,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ka.Fa(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Vc.Lr(t,e,n?i:Ky.min(),n?o:Ag())})).next((function(t){return{documents:t,Fc:o}}));var a,s,u,c}))}function MI(t,e){var n=t,r=n.Ka;return(t=n.bc.get(e))?Promise.resolve(t.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function jI(t){var e=t;return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.Dc,r=t,t=e.Sc,i=n,o=Eg,a=dE(t),t=DE(r),r=IDBKeyRange.lowerBound(a,!0),t.rs({index:$E.readTimeIndex,range:r},(function(t,e){var n=fE(i.serializer,e);o=o.ot(n.key,n),a=e.readTime})).next((function(){return{xc:o,readTime:vE(a)}}));var n,r,i,o,a})).then((function(t){var n=t.xc;return t=t.readTime,e.Sc=t,n}))}function FI(t){return wo(this,void 0,void 0,(function(){var e;return _o(this,(function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return t=DE(t),e=Ky.min(),t.rs({index:$E.readTimeIndex,reverse:!0},(function(t,n,r){n.readTime&&(e=vE(n.readTime)),r.done()})).next((function(){return e}));var e})).then((function(t){e.Sc=t}))]}))}))}function UI(t){return wo(this,void 0,void 0,(function(){return _o(this,(function(e){if(t.code!==qv.FAILED_PRECONDITION||t.message!==M_)throw t;return Gv("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function VI(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t}function qI(t,e,n,r,i){var o=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=i,this.Xu.Zu((function(t){n.ws((function(){return wo(o,void 0,void 0,(function(){return _o(this,(function(t){switch(t.label){case 0:return _S(this)?(Gv("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return wo(this,void 0,void 0,(function(){var e;return _o(this,(function(n){switch(n.label){case 0:return(e=t).Yu.add(4),[4,pS(e)];case 1:return n.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,fS(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.th=new tS(n,r)}var BI,zI,WI,HI=(hS.prototype.m=function(){return this.$c.m()},hS.prototype.Da=function(t,e){e=new GI(t,e),this.$c=this.$c.add(e),this.Mc=this.Mc.add(e)},hS.prototype.Lc=function(t,e){var n=this;t.forEach((function(t){return n.Da(t,e)}))},hS.prototype.Na=function(t,e){this.Bc(new GI(t,e))},hS.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Na(t,e)}))},hS.prototype.Uc=function(t){var e=this,n=new ay(new ry([])),r=new GI(n,t),i=(t=new GI(n,t+1),[]);return this.Mc.Ft([r,t],(function(t){e.Bc(t),i.push(t.key)})),i},hS.prototype.Qc=function(){var t=this;this.$c.forEach((function(e){return t.Bc(e)}))},hS.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},hS.prototype.Wc=function(t){var e=new ay(new ry([])),n=new GI(e,t),r=(t=new GI(e,t+1),Ag());return this.Mc.Ft([n,t],(function(t){r=r.add(t.key)})),r},hS.prototype.Ho=function(t){var e=new GI(t,0);return null!==(e=this.$c.$t(e))&&t.isEqual(e.key)},hS),GI=(lS.kc=function(t,e){return ay.i(t.key,e.key)||xy(t.jc,e.jc)},lS.Oc=function(t,e){return xy(t.jc,e.jc)||ay.i(t.key,e.key)},lS),KI=(cS.prototype.getToken=function(){return Promise.resolve(null)},cS.prototype.zc=function(){},cS.prototype.Hc=function(t){(this.Gc=t)(b_.UNAUTHENTICATED)},cS.prototype.Yc=function(){this.Gc=null},cS),QI=(uS.prototype.getToken=function(){var t=this,e=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Zc!==e?(Gv("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?($v("string"==typeof n.accessToken),new VI(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},uS.prototype.zc=function(){this.forceRefresh=!0},uS.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},uS.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},uS.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return $v(null===t||"string"==typeof t),new b_(t)},uS),XI=(Object.defineProperty(sS.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),sS),YI=(aS.prototype.getToken=function(){return Promise.resolve(new XI(this.eu,this.nu))},aS.prototype.Hc=function(t){t(b_.ni)},aS.prototype.Yc=function(){},aS.prototype.zc=function(){},aS),$I=(oS.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},oS.prototype.uu=function(){return 2===this.state},oS.prototype.start=function(){3!==this.state?this.auth():this.hu()},oS.prototype.stop=function(){return wo(this,void 0,void 0,(function(){return _o(this,(function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},oS.prototype.lu=function(){this.state=0,this.ys.reset()},oS.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return t.fu()})))},oS.prototype.du=function(t){this.wu(),this.stream.send(t)},oS.prototype.fu=function(){return wo(this,void 0,void 0,(function(){return _o(this,(function(t){return this.uu()?[2,this.close(0)]:[2]}))}))},oS.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},oS.prototype.close=function(t,e){return wo(this,void 0,void 0,(function(){return _o(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===qv.RESOURCE_EXHAUSTED?(Kv(e.toString()),Kv("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===qv.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},oS.prototype.mu=function(){},oS.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(e){t.ou===n&&t.Iu(e)}),(function(n){e((function(){var e=new Bv(qv.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Au(e)}))}))},oS.prototype.Iu=function(t){var e=this,n=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu((function(){n((function(){return e.state=2,e.listener.gu()}))})),this.stream.Tu((function(t){n((function(){return e.Au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},oS.prototype.hu=function(){var t=this;this.state=4,this.ys.gn((function(){return wo(t,void 0,void 0,(function(){return _o(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},oS.prototype.Au=function(t){return Gv("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},oS.prototype.Eu=function(t){var e=this;return function(n){e.fn.ws((function(){return e.ou===t?n():(Gv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},mo(iS,WI=G=oS),iS.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},iS.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){if("targetChange"in e){e.targetChange;var n="NO_CHANGE"===(i=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===i?1:"REMOVE"===i?2:"CURRENT"===i?3:"RESET"===i?4:Yv(),r=e.targetChange.targetIds||[],i=(o=e.targetChange.resumeToken,t.Qe?($v(void 0===o||"string"==typeof o),Ly.fromBase64String(o||"")):($v(void 0===o||o instanceof Uint8Array),Ly.fromUint8Array(o||new Uint8Array))),o=e.targetChange.cause,a=o&&(o=void 0===(a=o).code?qv.UNKNOWN:fg(a.code),new Bv(o,a.message||""));r=new jg(n,r,i,a||null)}else if("documentChange"in e){e.documentChange,(u=e.documentChange).document,u.document.name,u.document.updateTime,i=Tm(t,u.document.name);var s=_m(u.document.updateTime),u=(a=new Pb({mapValue:{fields:u.document.fields}}),s=new Vb(i,s,a,{}),a=u.targetIds||[],u.removedTargetIds||[]);r=new Lg(a,u,s.key,s)}else if("documentDelete"in e){e.documentDelete,(u=e.documentDelete).document,s=Tm(t,u.document);var c=u.readTime?_m(u.readTime):Ky.min();c=new qb(s,c),u=u.removedTargetIds||[],r=new Lg([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove,(c=e.documentRemove).document;var l=Tm(t,c.document);c=c.removedTargetIds||[],r=new Lg([],c,l,null)}else{if(!("filter"in e))return Yv();e.filter,(l=e.filter).targetId,e=new sg(e=l.count||0),l=l.targetId,r=new Mg(l,e)}return r}(this.serializer,t);return t=function(t){return"targetChange"in t?(t=t.targetChange).targetIds&&t.targetIds.length||!t.readTime?Ky.min():_m(t.readTime):Ky.min()}(t),this.listener.yu(e,t)},iS.prototype.Vu=function(t){var e,n,r,i,o={};o.database=Am(this.serializer),o.addTarget=(e=this.serializer,(r=ag(r=(n=t).target)?{documents:Rm(e,r)}:{query:Dm(e,r)}).targetId=n.targetId,0<n.resumeToken.O()&&(r.resumeToken=wm(e,n.resumeToken)),r),this.serializer,i=t,(t=null==(t=function(){switch(i.et){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yv()}}())?null:{"goog-listen-tags":t})&&(o.labels=t),this.du(o)},iS.prototype.pu=function(t){var e={};e.database=Am(this.serializer),e.removeTarget=t,this.du(e)},iS),JI=(mo(rS,zI=G),Object.defineProperty(rS.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),rS.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,zI.prototype.start.call(this)},rS.prototype.mu=function(){this.bu&&this.Su([])},rS.prototype.Ru=function(t){return this.iu.Pu("Write",t)},rS.prototype.onMessage=function(t){if($v(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?($v(void 0!==r),n.map((function(t){return function(t,e){var n=t.updateTime?_m(t.updateTime):_m(e);return n.isEqual(Ky.min())&&(n=_m(e)),e=null,t.transformResults&&0<t.transformResults.length&&(e=t.transformResults),new ub(n,e)}(t,r)}))):[]),n=_m(t.commitTime);return this.listener.Du(n,e)}var r;return $v(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},rS.prototype.Nu=function(){var t={};t.database=Am(this.serializer),this.du(t)},rS.prototype.Su=function(t){var e=this;t={streamToken:this.lastStreamToken,writes:t.map((function(t){return Pm(e.serializer,t)}))},this.du(t)},rS),ZI=(mo(nS,BI=function(){}),nS.prototype.xu=function(){if(this.Fu)throw new Bv(qv.FAILED_PRECONDITION,"The client has already been terminated.")},nS.prototype.$u=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(t,e,n,i)})).catch((function(t){throw t.code===qv.UNAUTHENTICATED&&r.credentials.zc(),t}))},nS.prototype.ku=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(t,e,n,i)})).catch((function(t){throw t.code===qv.UNAUTHENTICATED&&r.credentials.zc(),t}))},nS.prototype.terminate=function(){this.Fu=!1},nS),tS=(eS.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()})))},eS.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,1<=this.Mu&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},eS.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},eS.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},eS.prototype.Uu=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Lu?(Kv(t),this.Lu=!1):Gv("OnlineStateTracker",t)},eS.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},eS);function eS(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}function nS(t,e,n){var r=this;return(r=BI.call(this)||this).credentials=t,r.iu=e,r.serializer=n,r.Fu=!1,r}function rS(t,e,n,r,i){var o=this;return(o=zI.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).serializer=r,o.bu=!1,o}function iS(t,e,n,r,i){var o=this;return(o=WI.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).serializer=r,o}function oS(t,e,n,r,i,o){this.fn=t,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new Bw(t,e)}function aS(t,e){this.eu=t,this.nu=e}function sS(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=b_.ni}function uS(t){var e=this;this.Jc=null,this.currentUser=b_.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then((function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)}),(function(){})))}function cS(){this.Gc=null}function lS(t,e){this.key=t,this.jc=e}function hS(){this.$c=new wg(GI.kc),this.Mc=new wg(GI.Oc)}function fS(t){return wo(this,void 0,void 0,(function(){var e,n;return _o(this,(function(r){switch(r.label){case 0:if(!_S(t))return[3,4];e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function pS(t){return wo(this,void 0,void 0,(function(){var e,n;return _o(this,(function(r){switch(r.label){case 0:e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function dS(t){return wo(this,void 0,void 0,(function(){var e;return _o(this,(function(n){switch(n.label){case 0:return e=t,Gv("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,pS(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}}))}))}function vS(t,e){t.Hu.has(e.targetId)||(t.Hu.set(e.targetId,e),wS(t)?bS(t):OS(t).uu()&&gS(t,e))}function yS(t,e){var n=t;t=OS(n),n.Hu.delete(e),t.uu()&&mS(n,e),0===n.Hu.size&&(t.uu()?t._u():_S(n)&&n.th.set("Unknown"))}function gS(t,e){t.eh.Ie(e.targetId),OS(t).Vu(e)}function mS(t,e){t.eh.Ie(e),OS(t).pu(e)}function bS(t){t.eh=new Ug({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),OS(t).start(),t.th.Bu()}function wS(t){return _S(t)&&!OS(t).cu()&&0<t.Hu.size}function _S(t){return 0===t.Yu.size}function ES(t){t.eh=void 0}function IS(t,e,n){return wo(this,void 0,void 0,(function(){var r,i;return _o(this,(function(o){switch(o.label){case 0:if(t.th.set("Online"),!(e instanceof jg&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o;return _o(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Hu.has(o)?[4,t.Gu.nh(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Hu.delete(o),t.eh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Gv("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,SS(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Lg?t.eh.be(e):e instanceof Mg?t.eh.$e(e):t.eh.De(e),n.isEqual(Ky.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,PI(t.ju)];case 8:return i=o.sent(),0<=n.L(i)?[4,(s=n,(u=(a=t).eh.Oe(s)).zt.forEach((function(t,e){var n;0<t.resumeToken.O()&&(n=a.Hu.get(e))&&a.Hu.set(e,n.it(t.resumeToken,s))})),u.Ht.forEach((function(t){var e=a.Hu.get(t);e&&(a.Hu.set(t,e.it(Ly.B,e.nt)),mS(a,t),e=new cg(e.target,t,1,e.sequenceNumber),gS(a,e))})),a.Gu.sh(u))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Gv("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,SS(t,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var a,s,u}))}))}function SS(t,e,n){return wo(this,void 0,void 0,(function(){var r=this;return _o(this,(function(i){switch(i.label){case 0:if(!Jw(e))throw e;return t.Yu.add(1),[4,pS(t)];case 1:return i.sent(),t.th.set("Offline"),n=n||function(){return PI(t.ju)},t.cs.Cs((function(){return wo(r,void 0,void 0,(function(){return _o(this,(function(e){switch(e.label){case 0:return Gv("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Yu.delete(1),[4,fS(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function TS(t,e){return e().catch((function(n){return SS(t,n,e)}))}function kS(t){return wo(this,void 0,void 0,(function(){var e,n,r,i;return _o(this,(function(o){switch(o.label){case 0:n=PS(e=t),r=0<e.zu.length?e.zu[e.zu.length-1].batchId:-1,o.label=1;case 1:if(!(_S(e)&&e.zu.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=e.ju,s=r,(u=a).persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===s&&(s=-1),u.Sr.Bo(t,s)})))];case 3:return null===(i=o.sent())?(0===e.zu.length&&n._u(),[3,7]):(r=i.batchId,function(t,e){t.zu.push(e),(t=PS(t)).uu()&&t.vu&&t.Su(e.mutations)}(e,i),[3,6]);case 4:return i=o.sent(),[4,SS(e,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return NS(e)&&AS(e),[2]}var a,s,u}))}))}function NS(t){return _S(t)&&!PS(t).cu()&&0<t.zu.length}function AS(t){PS(t).start()}function CS(t,e){return wo(this,void 0,void 0,(function(){var n;return _o(this,(function(r){switch(r.label){case 0:return n=t,e?(n.Yu.delete(2),[4,fS(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,pS(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function OS(t){var e,n,r,i=this;return t.oh||(t.oh=(e=t.Ku,n=t.cs,r={gu:function(t){return wo(this,void 0,void 0,(function(){return _o(this,(function(e){return t.Hu.forEach((function(e,n){gS(t,e)})),[2]}))}))}.bind(null,t),Tu:function(t,e){return wo(this,void 0,void 0,(function(){return _o(this,(function(n){return ES(t),wS(t)?(t.th.Qu(e),bS(t)):t.th.set("Unknown"),[2]}))}))}.bind(null,t),yu:IS.bind(null,t)},e.xu(),new $I(n,e.iu,e.credentials,e.serializer,r)),t.Ju.push((function(e){return wo(i,void 0,void 0,(function(){return _o(this,(function(n){switch(n.label){case 0:return e?(t.oh.lu(),wS(t)?bS(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:n.sent(),ES(t),n.label=3;case 3:return[2]}}))}))}))),t.oh}function PS(t){var e,n,r,i=this;return t.ah||(t.ah=(e=t.Ku,n=t.cs,r={gu:function(t){return wo(this,void 0,void 0,(function(){return _o(this,(function(e){return PS(t).Nu(),[2]}))}))}.bind(null,t),Tu:function(t,e){return wo(this,void 0,void 0,(function(){return _o(this,(function(n){switch(n.label){case 0:return e&&PS(t).vu?[4,function(t,e){return wo(this,void 0,void 0,(function(){var n,r;return _o(this,(function(i){switch(i.label){case 0:return hg(r=e.code)&&r!==qv.ABORTED?(n=t.zu.shift(),PS(t).lu(),[4,TS(t,(function(){return t.Gu.rh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,kS(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return NS(t)&&AS(t),[2]}}))}))}.bind(null,t),Cu:function(t){return wo(this,void 0,void 0,(function(){var e,n,r,i;return _o(this,(function(o){for(e=PS(t),n=0,r=t.zu;n<r.length;n++)i=r[n],e.Su(i.mutations);return[2]}))}))}.bind(null,t),Du:function(t,e,n){return wo(this,void 0,void 0,(function(){var r,i;return _o(this,(function(o){switch(o.label){case 0:return r=t.zu.shift(),i=L_.from(r,e,n),[4,TS(t,(function(){return t.Gu.ih(i)}))];case 1:return o.sent(),[4,kS(t)];case 2:return o.sent(),[2]}}))}))}.bind(null,t)},e.xu(),new JI(n,e.iu,e.credentials,e.serializer,r)),t.Ju.push((function(e){return wo(i,void 0,void 0,(function(){return _o(this,(function(n){switch(n.label){case 0:return e?(t.ah.lu(),[4,kS(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:n.sent(),0<t.zu.length&&(Gv("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),n.label=4;case 4:return[2]}}))}))}))),t.ah}var xS=function(t){this.key=t},RS=function(t){this.key=t},DS=(Object.defineProperty(US.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),US.prototype.wh=function(t,e){var n=this,r=e?e.mh:new Pg,i=(e||this).fh,o=(e||this).Wt,a=i,s=!1,u=Xb(this.query)&&i.size===this.query.limit?i.last():null,c=Yb(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=(h=e instanceof Vb?e:null)&&(uw(n.query,h)?h:null),f=!!l&&n.Wt.has(l.key),p=!!h&&(h.Je||n.Wt.has(h.key)&&h.hasCommittedMutations);e=!1,l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),e=!0):n.Th(l,h)||(r.track({type:2,doc:h}),e=!0,(u&&0<n._h(h,u)||c&&n._h(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),e=!0):l&&!h&&(r.track({type:1,doc:l}),e=!0,(u||c)&&(s=!0)),e&&(o=h?(a=a.add(h),p?o.add(t):o.delete(t)):(a=a.delete(t),o.delete(t)))})),Xb(this.query)||Yb(this.query))for(;a.size>this.query.limit;){var l=Xb(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fh:a,mh:r,Eh:s,Wt:o}},US.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},US.prototype.yr=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Wt=t.Wt;var o=t.mh.Ut();o.sort((function(t,e){return i=t.type,o=e.type,n(i)-n(o)||r._h(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yv()}}var i,o})),this.Ih(n);var a=e?this.Ah():[];return e=(n=0===this.lh.size&&this.te?1:0)!==this.hh,this.hh=n,0!==o.length||e?{snapshot:new xg(this.query,t.fh,i,o,t.Wt,0==n,e,!1),Rh:a}:{Rh:a}},US.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new Pg,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},US.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},US.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},US.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Ag(),this.fh.forEach((function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new RS(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new xS(t))})),n},US.prototype.Ph=function(t){return this.uh=t.Fc,this.lh=Ag(),t=this.wh(t.documents),this.yr(t,!0)},US.prototype.yh=function(){return xg.Gt(this.query,this.fh,this.Wt,0===this.hh)},US),LS=function(t,e,n){this.query=t,this.targetId=e,this.view=n},MS=function(t){this.key=t,this.Vh=!1},jS=(Object.defineProperty(FS.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),FS);function FS(t,e,n,r,i,o){this.ju=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new Hy(aw,ow),this.Fh=new Map,this.xh=[],this.$h=new pg(ay.i),this.kh=new Map,this.Mh=new HI,this.Oh={},this.Lh=new Map,this.Bh=cI.da(),this.onlineState="Unknown",this.qh=void 0}function US(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Ag(),this.Wt=Ag(),this._h=cw(t),this.fh=new Og(this._h)}function VS(t,e,n,r){return wo(this,void 0,void 0,(function(){var i,o,a;return _o(this,(function(s){switch(s.label){case 0:return t.Qh=function(e,n,r){return function(t,e,n,r){return wo(this,void 0,void 0,(function(){var i,o;return _o(this,(function(a){switch(a.label){case 0:return(i=e.view.wh(n)).Eh?[4,LI(t.ju,e.query,!1).then((function(t){return t=t.documents,e.view.wh(t,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.zt.get(e.targetId),o=e.view.yr(i,t.Uh,o),[2,(QS(t,e.targetId,o.Rh),o.snapshot)]}}))}))}(t,e,n,r)},[4,LI(t.ju,e,!0)];case 1:return o=s.sent(),a=new DS(e,o.Fc),i=a.wh(o.documents),o=Dg.Zt(n,r&&"Offline"!==t.onlineState),o=a.yr(i,t.Uh,o),QS(t,n,o.Rh),a=new LS(e,n,a),[2,(t.Nh.set(e,a),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),o.snapshot)]}}))}))}function qS(t,e){return wo(this,void 0,void 0,(function(){var n,r;return _o(this,(function(i){switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,xI(n.ju,e)];case 2:return r=i.sent(),e.zt.forEach((function(t,e){(e=n.kh.get(e))&&($v(t.ee.size+t.ne.size+t.se.size<=1),0<t.ee.size?e.Vh=!0:0<t.ne.size?$v(e.Vh):0<t.se.size&&($v(e.Vh),e.Vh=!1))})),[4,YS(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,UI(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function BS(t,e,n){var r;(t.Uh&&0===n||!t.Uh&&1===n)&&(r=[],t.Nh.forEach((function(t,n){(n=n.view.Qs(e)).snapshot&&r.push(n.snapshot)})),function(t,e){t.onlineState=e;var n=!1;t.Bs.forEach((function(t,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Qs(e)&&(n=!0)})),n&&g_(t)}(t.bh,e),r.length&&t.Ch.yu(r),t.onlineState=e,t.Uh&&t.Sh.Ki(e))}function zS(t,e,n){return wo(this,void 0,void 0,(function(){var r,i;return _o(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.ju,s=e,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u.Sr.Oo(t,s).next((function(n){return $v(null!==n),e=n.keys(),u.Sr.Wo(t,n)})).next((function(){return u.Sr.zo(t)})).next((function(){return u.Cc.kr(t,e)}))})))];case 2:return i=o.sent(),HS(r,e,n),WS(r,e),r.Sh.ki(e,"rejected",n),[4,YS(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,UI(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function WS(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function HS(t,e,n){var r=t,i=r.Oh[r.currentUser.ti()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Oh[r.currentUser.ti()]=i)}function GS(t,e,n){void 0===n&&(n=null),t.Sh.Bi(e);for(var r=0,i=t.Fh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Wh(o,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach((function(e){t.Mh.Ho(e)||KS(t,e)}))}function KS(t,e){var n=t.$h.get(e);null!==n&&(yS(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),XS(t))}function QS(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof xS?(t.Mh.Da(o.key,e),function(t,e){e=e.key,t.$h.get(e)||(Gv("SyncEngine","New document in limbo: "+e),t.xh.push(e),XS(t))}(t,o)):o instanceof RS?(Gv("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Na(o.key,e),t.Mh.Ho(o.key)||KS(t,o.key)):Yv()}}function XS(t){for(;0<t.xh.length&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new MS(e)),t.$h=t.$h.ot(e,n),vS(t.ph,new cg(ew(Qb(e.path)),n,2,E_.ai))}}function YS(t,e,n){return wo(this,void 0,void 0,(function(){var r,i,o,a;return _o(this,(function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=t).Nh.m()?[3,3]:(r.Nh.forEach((function(t,s){a.push(r.Qh(s,e,n).then((function(t){t&&(r.Uh&&r.Sh.Qi(s.targetId,t.fromCache?"not-current":"current"),i.push(t),t=F_.zr(s.targetId,t),o.push(t))})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.Ch.yu(i),[4,function(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return _o(this,(function(c){switch(c.label){case 0:n=t,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return zw.forEach(e,(function(e){return zw.forEach(e.Kr,(function(r){return n.persistence.No.Da(t,e.targetId,r)})).next((function(){return zw.forEach(e.Gr,(function(r){return n.persistence.No.Na(t,e.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!Jw(r=c.sent()))throw r;return Gv("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=o[i],a=u.targetId,u.fromCache||(s=n.bc.get(a),u=s.nt,u=s.rt(u),n.bc=n.bc.ot(a,u));return[2]}}))}))}(r.ju,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function $S(t,e){return wo(this,void 0,void 0,(function(){var n,r;return _o(this,(function(i){switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(Gv("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o;return _o(this,(function(a){switch(a.label){case 0:return r=(n=t).Sr,i=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Sr.Uo(t).next((function(a){return o=a,r=n.persistence.mc(e),i=new j_(n.Dc,r,n.persistence.Ic()),r.Uo(t)})).next((function(e){for(var n=[],r=[],a=Ag(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i.kr(t,a).next((function(t){return{jh:t,Kh:n,Gh:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Sr=r,n.Cc=i,n.Vc.Nc(n.Cc),o)]}}))}))}(n.ju,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Lh.forEach((function(t){t.forEach((function(t){t.reject(new Bv(qv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Lh.clear(),n.Sh.ji(e,r.Kh,r.Gh),[4,YS(n,r.jh)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function JS(t,e,n,r){return wo(this,void 0,void 0,(function(){var i,o;return _o(this,(function(a){switch(a.label){case 0:return[4,(s=(i=t).ju,u=e,l=(c=s).Sr,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.Lo(t,u).next((function(e){return e?c.Cc.kr(t,e):zw.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,kS(i.ph)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(HS(i,e,r||null),WS(i,e),i.ju.Sr.Ko(e)):Yv(),a.label=4;case 4:return[4,YS(i,o)];case 5:return a.sent(),[3,7];case 6:Gv("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function ZS(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return _o(this,(function(l){switch(l.label){case 0:return nT(n=t),rT(n),!0!==e||!0===n.qh?[3,3]:(r=n.Sh.Ci(),[4,tT(n,r.A())]);case 1:return i=l.sent(),n.qh=!0,[4,CS(n.ph,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],vS(n.ph,s);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(u=[],c=Promise.resolve(),n.Fh.forEach((function(t,e){n.Sh.qi(e)?u.push(e):c=c.then((function(){return GS(n,e),DI(n.ju,e,!0)})),yS(n.ph,e)})),[4,c]);case 4:return l.sent(),[4,tT(n,u)];case 5:return l.sent(),(h=n).kh.forEach((function(t,e){yS(h.ph,e)})),h.Mh.Qc(),h.kh=new Map,h.$h=new pg(ay.i),n.qh=!1,[4,CS(n.ph,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function tT(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,p;return _o(this,(function(d){switch(d.label){case 0:n=t,r=[],i=[],o=0,a=e,d.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Fh.get(s))&&0!==c.length?[4,RI(n.ju,ew(c[0]))]:[3,7]):[3,13];case 2:u=d.sent(),l=0,h=c,d.label=3;case 3:return l<h.length?(f=h[l],f=n.Nh.get(f),[4,function(t,e){return wo(this,void 0,void 0,(function(){var n,r;return _o(this,(function(i){switch(i.label){case 0:return[4,LI((n=t).ju,e.query,!0)];case 1:return r=i.sent(),r=e.view.Ph(r),[2,(n.Uh&&QS(n,e.targetId,r.Rh),r)]}}))}))}(n,f)]):[3,6];case 4:(f=d.sent()).snapshot&&i.push(f.snapshot),d.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,MI(n.ju,s)];case 8:return p=d.sent(),[4,RI(n.ju,p)];case 9:return u=d.sent(),[4,VS(n,eT(p),s,!1)];case 10:d.sent(),d.label=11;case 11:r.push(u),d.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Ch.yu(i),r)]}}))}))}function eT(t){return Kb(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function nT(t){return t.ph.Gu.sh=qS.bind(null,t),t.ph.Gu.qe=function(t,e){var n=t;if((t=n.kh.get(e))&&t.Vh)return Ag().add(t.key);var r=Ag();if(!(e=n.Fh.get(e)))return r;for(var i=0,o=e;i<o.length;i++){var a=o[i];a=n.Nh.get(a),r=r.kt(a.view.dh)}return r}.bind(null,t),t.ph.Gu.nh=function(t,e,n){return wo(this,void 0,void 0,(function(){var r,i,o,a;return _o(this,(function(s){switch(s.label){case 0:return(r=t).Sh.Qi(e,"rejected",n),a=r.kh.get(e),(i=a&&a.key)?(o=(o=new pg(ay.i)).ot(i,new qb(i,Ky.min())),a=Ag().add(i),a=new Rg(Ky.min(),new Map,new wg(xy),o,a),[4,qS(r,a)]):[3,2];case 1:return s.sent(),r.$h=r.$h.remove(i),r.kh.delete(e),XS(r),[3,4];case 2:return[4,DI(r.ju,e,!1).then((function(){return GS(r,e,n)})).catch(UI)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}.bind(null,t),t.Ch.yu=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query;if(s=n.Bs.get(s)){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Ws(a)&&(r=!0);s.Ls=a}}r&&g_(n)}.bind(null,t.bh),t.Ch.Wh=function(t,e,n){var r=t;if(t=r.Bs.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.Bs.delete(e)}.bind(null,t.bh),t}function rT(t){return t.ph.Gu.ih=function(t,e){return wo(this,void 0,void 0,(function(){var n,r,i;return _o(this,(function(o){switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,OI(n.ju,e)];case 2:return i=o.sent(),HS(n,r,null),WS(n,r),n.Sh.ki(r,"acknowledged"),[4,YS(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,UI(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}.bind(null,t),t.ph.Gu.rh=zS.bind(null,t),t}var iT,oT,aT,sT=(xT.prototype.Nc=function(t){this.zh=t},xT.prototype.Lr=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.on.length||1===e.on.length&&e.on[0].field.p())||n.isEqual(Ky.min())?this.Hh(t,e):this.zh.kr(t,r).next((function(o){var a=i.Yh(e,o);return(Xb(e)||Yb(e))&&i.Eh(e.an,a,r,n)?i.Hh(t,e):(Hv()<=Aa.DEBUG&&Gv("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),sw(e)),i.zh.Lr(t,e,n).next((function(t){return a.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},xT.prototype.Yh=function(t,e){var n=new wg(cw(t));return e.forEach((function(e,r){r instanceof Vb&&uw(t,r)&&(n=n.add(r))})),n},xT.prototype.Eh=function(t,e,n,r){return n.size!==e.size||!!(e="F"===t?e.last():e.first())&&(e.hasPendingWrites||0<e.version.L(r))},xT.prototype.Hh=function(t,e){return Hv()<=Aa.DEBUG&&Gv("IndexFreeQueryEngine","Using full collection scan to execute query:",sw(e)),this.zh.Lr(t,e,Ky.min())},xT),uT=(PT.prototype.$o=function(t){return zw.resolve(0===this.Sr.length)},PT.prototype.ko=function(t,e,n,r){var i=this.Jh;this.Jh++,0<this.Sr.length&&this.Sr[this.Sr.length-1],n=new D_(i,e,n,r),this.Sr.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.Xh=this.Xh.add(new GI(s.key,i)),this.Dr.Mo(t,s.key.path.h())}return zw.resolve(n)},PT.prototype.Oo=function(t,e){return zw.resolve(this.Zh(e))},PT.prototype.Bo=function(t,e){return e+=1,e=(e=this.tl(e))<0?0:e,zw.resolve(this.Sr.length>e?this.Sr[e]:null)},PT.prototype.qo=function(){return zw.resolve(0===this.Sr.length?-1:this.Jh-1)},PT.prototype.Uo=function(t){return zw.resolve(this.Sr.slice())},PT.prototype.Nr=function(t,e){var n=this,r=new GI(e,0),i=(e=new GI(e,Number.POSITIVE_INFINITY),[]);return this.Xh.Ft([r,e],(function(t){t=n.Zh(t.jc),i.push(t)})),zw.resolve(i)},PT.prototype.Or=function(t,e){var n=this,r=new wg(xy);return e.forEach((function(t){var e=new GI(t,0);t=new GI(t,Number.POSITIVE_INFINITY),n.Xh.Ft([e,t],(function(t){r=r.add(t.jc)}))})),zw.resolve(this.el(r))},PT.prototype.Wr=function(t,e){var n=e.path,r=n.length+1;e=n,ay.F(e)||(e=e.child("")),e=new GI(new ay(e),0);var i=new wg(xy);return this.Xh.xt((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(i=i.add(t.jc)),!0)}),e),zw.resolve(this.el(i))},PT.prototype.el=function(t){var e=this,n=[];return t.forEach((function(t){null!==(t=e.Zh(t))&&n.push(t)})),n},PT.prototype.Wo=function(t,e){var n=this;$v(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xh;return zw.forEach(e.mutations,(function(i){var o=new GI(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)})).next((function(){n.Xh=r}))},PT.prototype.Ko=function(t){},PT.prototype.Ho=function(t,e){var n=new GI(e,0);return n=this.Xh.$t(n),zw.resolve(e.isEqual(n&&n.key))},PT.prototype.zo=function(t){return this.Sr.length,zw.resolve()},PT.prototype.nl=function(t,e){return this.tl(t)},PT.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},PT.prototype.Zh=function(t){return(t=this.tl(t))<0||t>=this.Sr.length?null:this.Sr[t]},PT),cT=(OT.prototype.Er=function(t,e,n){var r=e.key,i=(o=this.docs.get(r))?o.size:0,o=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:o,readTime:n}),this.size+=o-i,this.Dr.Mo(t,r.path.h())},OT.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},OT.prototype.Rr=function(t,e){return e=this.docs.get(e),zw.resolve(e?e.ta:null)},OT.prototype.getEntries=function(t,e){var n=this,r=Eg;return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)})),zw.resolve(r)},OT.prototype.Lr=function(t,e,n){for(var r=Tg,i=new ay(e.path.child("")),o=this.docs.ft(i);o.At();){var a=(s=o.It()).key,s=(u=s.value).ta,u=u.readTime;if(!e.path.T(a.path))break;u.L(n)<=0||s instanceof Vb&&uw(e,s)&&(r=r.ot(s.key,s))}return zw.resolve(r)},OT.prototype.il=function(t,e){return zw.forEach(this.docs,(function(t){return e(t)}))},OT.prototype.ra=function(t){return new lT(this)},OT.prototype.aa=function(t){return zw.resolve(this.size)},OT),lT=(mo(CT,aT=Dr),CT.prototype.yr=function(t){var e=this,n=[];return this.wr.forEach((function(r,i){i?n.push(e.ca.Er(t,i,e.readTime)):e.ca.Ar(r)})),zw.$n(n)},CT.prototype.gr=function(t,e){return this.ca.Rr(t,e)},CT.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},CT),hT=(AT.prototype.Ce=function(t,e){return this.rl.forEach((function(t,n){return e(n)})),zw.resolve()},AT.prototype.Ea=function(t){return zw.resolve(this.lastRemoteSnapshotVersion)},AT.prototype.Ia=function(t){return zw.resolve(this.ol)},AT.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),zw.resolve(this.highestTargetId)},AT.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),zw.resolve()},AT.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new cI(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},AT.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,zw.resolve()},AT.prototype.ya=function(t,e){return this.ga(e),zw.resolve()},AT.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),--this.targetCount,zw.resolve()},AT.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.rl.delete(a),o.push(r.pa(t,s.targetId)),i++)})),zw.$n(o).next((function(){return i}))},AT.prototype.ba=function(t){return zw.resolve(this.targetCount)},AT.prototype.va=function(t,e){return e=this.rl.get(e)||null,zw.resolve(e)},AT.prototype.Sa=function(t,e,n){return this.al.Lc(e,n),zw.resolve()},AT.prototype.Ca=function(t,e,n){this.al.qc(e,n);var r=this.persistence.No,i=[];return r&&e.forEach((function(e){i.push(r.Go(t,e))})),zw.$n(i)},AT.prototype.pa=function(t,e){return this.al.Uc(e),zw.resolve()},AT.prototype.Fa=function(t,e){return e=this.al.Wc(e),zw.resolve(e)},AT.prototype.Ho=function(t,e){return zw.resolve(this.al.Ho(e))},AT),fT=(NT.prototype.start=function(){return Promise.resolve()},NT.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(NT.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),NT.prototype.Za=function(){},NT.prototype.tc=function(){},NT.prototype.Ic=function(){return this.Dr},NT.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new uT(this.Dr,this.No),this.ul[t.ti()]=e),e},NT.prototype.Tc=function(){return this.Ka},NT.prototype.Ec=function(){return this.vr},NT.prototype.runTransaction=function(t,e,n){var r=this;Gv("MemoryPersistence","Starting transaction:",t);var i=new pT(this.Ma.next());return this.No.ll(),n(i).next((function(t){return r.No._l(i).next((function(){return t}))})).Fn().then((function(t){return i.br(),t}))},NT.prototype.fl=function(t,e){return zw.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(t,e)}})))},NT),pT=(mo(kT,oT=j),kT),dT=(TT.ml=function(t){return new TT(t)},Object.defineProperty(TT.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw Yv()},enumerable:!1,configurable:!0}),TT.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),zw.resolve()},TT.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),zw.resolve()},TT.prototype.Go=function(t,e){return this.Tl.add(e.toString()),zw.resolve()},TT.prototype.removeTarget=function(t,e){var n=this;this.dl.Uc(e.targetId).forEach((function(t){return n.Tl.add(t.toString())}));var r=this.persistence.Tc();return r.Fa(t,e.targetId).next((function(t){t.forEach((function(t){return n.Tl.add(t.toString())}))})).next((function(){return r.Va(t,e)}))},TT.prototype.ll=function(){this.wl=new Set},TT.prototype._l=function(t){var e=this,n=this.persistence.Ec().ra();return zw.forEach(this.Tl,(function(r){var i=ay.D(r);return e.El(t,i).next((function(t){t||n.Ar(i)}))})).next((function(){return e.wl=null,n.apply(t)}))},TT.prototype.yc=function(t,e){var n=this;return this.El(t,e).next((function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())}))},TT.prototype.hl=function(t){return 0},TT.prototype.El=function(t,e){var n=this;return zw.kn([function(){return zw.resolve(n.dl.Ho(e))},function(){return n.persistence.Tc().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},TT),vT=(ST.prototype.gu=function(t){this.Rl=t},ST.prototype.Tu=function(t){this.gl=t},ST.prototype.onMessage=function(t){this.Pl=t},ST.prototype.close=function(){this.Al()},ST.prototype.send=function(t){this.Il(t)},ST.prototype.yl=function(){this.Rl()},ST.prototype.Vl=function(t){this.gl(t)},ST.prototype.pl=function(t){this.Pl(t)},ST),yT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gT=(IT.prototype.$u=function(t,e,n,r){var i=this.Dl(t,e);return Gv("RestConnection","Sending: ",i,n),e={},this.Cl(e,r),this.Nl(t,i,e,n).then((function(t){return Gv("RestConnection","Received: ",t),t}),(function(e){throw Qv("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},IT.prototype.ku=function(t,e,n,r){return this.$u(t,e,n,r)},IT.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var n in e.Kc)e.Kc.hasOwnProperty(n)&&(t[n]=e.Kc[n])},IT.prototype.Dl=function(t,e){return t=yT[t],this.vl+"/v1/"+e+":"+t},mo(ET,iT=IT),ET.prototype.Nl=function(t,e,n,r){return new Promise((function(i,o){var a=new Vv;a.listenOnce(Fv.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case jv.NO_ERROR:var e=a.getResponseJson();Gv("Connection","XHR received:",JSON.stringify(e)),i(e);break;case jv.TIMEOUT:Gv("Connection",'RPC "'+t+'" timed out'),o(new Bv(qv.DEADLINE_EXCEEDED,"Request time out"));break;case jv.HTTP_ERROR:var n=a.getStatus();Gv("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),0<n?(e=a.getResponseJson().error)&&e.status&&e.message?(n=e.status.toLowerCase().replace("_","-"),n=0<=Object.values(qv).indexOf(n)?n:qv.UNKNOWN,o(new Bv(n,e.message))):o(new Bv(qv.UNKNOWN,"Server responded with status "+a.getStatus())):o(new Bv(qv.UNAVAILABLE,"Connection failed."));break;default:Yv()}}finally{Gv("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},ET.prototype.Pu=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Pv;t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W},this.Cl(t.initMessageHeaders,e),jo()||Uo()||0<=Mo().indexOf("Electron/")||0<=(e=Mo()).indexOf("MSIE ")||0<=e.indexOf("Trident/")||0<=Mo().indexOf("MSAppHost/")||Fo()||(t.httpHeadersOverwriteParam="$httpHeaders"),Gv("Connection","Creating WebChannel: "+(n=n.join("")),t);var i=r.createWebChannel(n,t),o=!1,a=!1,s=new vT({Il:function(t){a?Gv("Connection","Not sending because WebChannel is closed:",t):(o||(Gv("Connection","Opening WebChannel transport."),i.open(),o=!0),Gv("Connection","WebChannel sending:",t),i.send(t))},Al:function(){return i.close()}});return t=function(t,e){i.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))},t(Uv.EventType.OPEN,(function(){a||Gv("Connection","WebChannel transport opened.")})),t(Uv.EventType.CLOSE,(function(){a||(a=!0,Gv("Connection","WebChannel transport closed"),s.Vl())})),t(Uv.EventType.ERROR,(function(t){a||(a=!0,Qv("Connection","WebChannel transport errored:",t),s.Vl(new Bv(qv.UNAVAILABLE,"The operation could not be completed")))})),t(Uv.EventType.MESSAGE,(function(t){var e,n,r,o;a||($v(!!(e=t.data[0])),(n=e.error||(null===(o=e[0])||void 0===o?void 0:o.error))?(Gv("Connection","WebChannel received error:",n),r=n.status,t=function(){var t=ug[r];if(void 0!==t)return fg(t)}(),o=n.message,void 0===t&&(t=qv.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),a=!0,s.Vl(new Bv(t,o)),i.close()):(Gv("Connection","WebChannel received:",e),s.pl(e)))})),setTimeout((function(){s.yl()}),0),s},ET),mT=(_T.prototype.Zu=function(t){this.Ml.push(t)},_T.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},_T.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},_T.prototype.xl=function(){Gv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},_T.prototype.kl=function(){Gv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},_T.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},_T),bT=(wT.prototype.Zu=function(t){},wT.prototype.Di=function(){},wT);function wT(){}function _T(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}function ET(t){var e=this;return(e=iT.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.W=t.W,e}function IT(t){this.bl=t,this.U=t.U;var e=t.ssl?"https":"http";this.vl=e+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}function ST(t){this.Il=t.Il,this.Al=t.Al}function TT(t){this.persistence=t,this.dl=new HI,this.wl=null}function kT(t){var e=this;return(e=oT.call(this)||this).xa=t,e}function NT(t){var e=this;this.ul={},this.Ma=new E_(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new hT(this),this.Dr=new jE,this.vr=(t=this.Dr,new cT(t,(function(t){return e.No.hl(t)})))}function AT(t){this.persistence=t,this.rl=new Hy(ig,og),this.lastRemoteSnapshotVersion=Ky.min(),this.highestTargetId=0,this.ol=0,this.al=new HI,this.targetCount=0,this.cl=cI.fa()}function CT(t){var e=this;return(e=aT.call(this)||this).ca=t,e}function OT(t,e){this.Dr=t,this.sl=e,this.docs=new pg(ay.i),this.size=0}function PT(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new wg(GI.kc)}function xT(){}function RT(t){return new vm(t,!0)}var DT,LT,MT,jT,FT="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",UT=(tk.prototype.initialize=function(t){return wo(this,void 0,void 0,(function(){return _o(this,(function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}}))}))},tk.prototype.Ul=function(t){return null},tk.prototype.Ql=function(t){return e=this.persistence,n=new sT,t=t.Wl,new AI(e,n,t);var e,n},tk.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new Bv(qv.FAILED_PRECONDITION,FT);return new fT(dT.ml)},tk.prototype.Ll=function(t){return new R_},tk.prototype.terminate=function(){return wo(this,void 0,void 0,(function(){return _o(this,(function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}}))}))},tk.prototype.clearPersistence=function(t,e){throw new Bv(qv.FAILED_PRECONDITION,FT)},tk),VT=(mo(ZT,jT=UT),ZT.prototype.initialize=function(t){return wo(this,void 0,void 0,(function(){return _o(this,(function(e){switch(e.label){case 0:return[4,jT.prototype.initialize.call(this,t)];case 1:return e.sent(),[4,FI(this.ju)];case 2:return e.sent(),[4,this.Kl.initialize(this,t)];case 3:return e.sent(),[4,rT(this.Kl.fi)];case 4:return e.sent(),[4,kS(this.Kl.ph)];case 5:return e.sent(),[2]}}))}))},ZT.prototype.Ul=function(t){var e=this.persistence.No.wo;return new iE(e,t.cs)},ZT.prototype.Bl=function(t){var e=NI(t.bl.U,t.bl.persistenceKey),n=RT(t.bl.U);return new bI(t.persistenceSettings.synchronizeTabs,e,t.clientId,eE.ao(t.persistenceSettings.cacheSizeBytes),t.cs,a_(),s_(),n,this.Sh,t.persistenceSettings.ka)},ZT.prototype.Ll=function(t){return new R_},ZT.prototype.clearPersistence=function(t,e){return function(t){return wo(this,void 0,void 0,(function(){var e;return _o(this,(function(n){switch(n.label){case 0:return Ww.Ln()?(e=t+"main",[4,Ww.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(NI(t,e))},mo(JT,MT=ZT),JT.prototype.initialize=function(t){return wo(this,void 0,void 0,(function(){var e,n=this;return _o(this,(function(r){switch(r.label){case 0:return[4,MT.prototype.initialize.call(this,t)];case 1:return r.sent(),e=this.Kl.fi,this.Sh instanceof x_?(this.Sh.fi={er:JS.bind(null,e),nr:function(t,e,n,r){return wo(this,void 0,void 0,(function(){var i,o,a;return _o(this,(function(s){switch(s.label){case 0:return(i=t).qh?(Gv("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jI(i.ju)];case 3:return o=s.sent(),a=Rg.Xt(e,"current"===n),[4,YS(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,DI(i.ju,e,!0)];case 6:return s.sent(),GS(i,e,r),[3,8];case 7:Yv(),s.label=8;case 8:return[2]}}))}))}.bind(null,e),sr:function(t,e,n){return wo(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return _o(this,(function(h){switch(h.label){case 0:if(!(r=nT(t)).qh)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?(o=o[i],r.Fh.has(o)?(Gv("SyncEngine","Adding an already active target "+o),[3,5]):[4,MI(r.ju,o)]):[3,6];case 2:return a=h.sent(),[4,RI(r.ju,a)];case 3:return s=h.sent(),[4,VS(r,eT(a),s.targetId,!1)];case 4:h.sent(),vS(r.ph,s),h.label=5;case 5:return i++,[3,1];case 6:u=function(t){return _o(this,(function(e){switch(e.label){case 0:return r.Fh.has(t)?[4,DI(r.ju,t,!1).then((function(){yS(r.ph,t),GS(r,t)})).catch(UI)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,l=n,h.label=7;case 7:return c<l.length?(l=l[c],[5,u(l)]):[3,10];case 8:h.sent(),h.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}.bind(null,e),pi:function(t){return t.ju.persistence.pi()}.bind(null,e)},[4,this.Sh.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.Xa((function(t){return wo(n,void 0,void 0,(function(){return _o(this,(function(e){switch(e.label){case 0:return[4,ZS(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},JT.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=a_();if(!x_.Ln(e))throw new Bv(qv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=NI(t.bl.U,t.bl.persistenceKey);return new x_(e,t.cs,n,t.clientId,t.Wl)}return new R_},JT),qT=($T.prototype.initialize=function(t,e){return wo(this,void 0,void 0,(function(){var n=this;return _o(this,(function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return BS(n.fi,t,1)},this.ph.Gu.Jl=$S.bind(null,this.fi),[4,CS(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},$T.prototype.Hl=function(t){return new d_},$T.prototype.Gl=function(t){var e=RT(t.bl.U),n=(n=t.bl,new gT(n));return t=t.credentials,new ZI(t,n,e)},$T.prototype.zl=function(t){var e=this,n=function(t){return BS(e.fi,t,0)};return new qI(this.ju,this.Ku,t.cs,n,t=new(mT.Ln()?mT:bT))},$T.prototype.Yl=function(t){return function(t,e,n,r,i,o,a){return o=new jS(t,e,n,r,i,o),a&&(o.qh=!0),o}(this.ju,this.ph,this.bh,this.Sh,t.Wl,t.Dh,!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs)},$T.prototype.terminate=function(){return dS(this.ph)},$T),BT=(YT.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},YT.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},YT.prototype.Zl=function(){this.muted=!0},YT.prototype.Xl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},YT),zT=function(t){!function(){if(!(t instanceof Array)||t.length<1)throw new Bv(qv.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least 1 element.")}();for(var e=0;e<t.length;++e)if(vy("FieldPath","string",e,t[e]),0===t[e].length)throw new Bv(qv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new oy(t)},WT=(mo(XT,LT=zT),XT.documentId=function(){return new XT(oy.v().R())},XT.prototype.isEqual=function(t){if(!(t instanceof XT))throw ky("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},XT),HT=new RegExp("[~\\*/\\[\\]]"),GT=function(t){this.e_=t},KT=(mo(QT,DT=GT),QT.prototype.n_=function(t){if(2!==t.s_)throw 1===t.s_?t.i_(this.e_+"() can only appear at the top level of your update data"):t.i_(this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},QT.prototype.isEqual=function(t){return t instanceof QT},QT);function QT(){return null!==DT&&DT.apply(this,arguments)||this}function XT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return LT.call(this,t)||this}function YT(t){this.observer=t,this.muted=!1}function $T(){}function JT(){return null!==MT&&MT.apply(this,arguments)||this}function ZT(t){var e=this;return(e=jT.call(this)||this).Kl=t,e}function tk(){}function ek(t,e,n){return new Sk({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var nk,rk,ik,ok,ak=(mo(Ek,ok=GT),Ek.prototype.n_=function(t){return new ab(t.path,new Hm)},Ek.prototype.isEqual=function(t){return t instanceof Ek},Ek),sk=(mo(_k,ik=GT),_k.prototype.n_=function(t){var e=ek(this,t,!0),n=this.a_.map((function(t){return xk(t,e)}));return n=new Gm(n),new ab(t.path,n)},_k.prototype.isEqual=function(t){return this===t},_k),uk=(mo(wk,rk=GT),wk.prototype.n_=function(t){var e=ek(this,t,!0),n=this.a_.map((function(t){return xk(t,e)}));return n=new $m(n),new ab(t.path,n)},wk.prototype.isEqual=function(t){return this===t},wk),ck=(mo(bk,nk=GT),bk.prototype.n_=function(t){var e=new eb(t.serializer,mm(t.serializer,this.c_));return new ab(t.path,e)},bk.prototype.isEqual=function(t){return this===t},bk),lk=(Object.defineProperty(mk.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(mk.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),mk.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},mk.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},mk.prototype.Y=function(t){return xy(this.u_,t.u_)||xy(this.h_,t.h_)},mk),hk=function(t){this.l_=t},fk=/^__.*__$/,pk=function(t,e,n){this.__=t,this.f_=e,this.d_=n},dk=(gk.prototype.w_=function(t,e){var n=[];return null!==this.We?n.push(new bb(t,this.data,this.We,e)):n.push(new mb(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new Sb(t,this.fieldTransforms)),n},gk),vk=(yk.prototype.w_=function(t,e){return e=[new bb(t,this.data,this.We,e)],0<this.fieldTransforms.length&&e.push(new Sb(t,this.fieldTransforms)),e},yk);function yk(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}function gk(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}function mk(t,e){if(fy("GeoPoint",arguments,2),vy("GeoPoint","number",1,t),vy("GeoPoint","number",2,e),!isFinite(t)||t<-90||90<t)throw new Bv(qv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Bv(qv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}function bk(t,e){var n=this;return(n=nk.call(this,t)||this).c_=e,n}function wk(t,e){var n=this;return(n=rk.call(this,t)||this).a_=e,n}function _k(t,e){var n=this;return(n=ik.call(this,t)||this).a_=e,n}function Ek(){return null!==ok&&ok.apply(this,arguments)||this}function Ik(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Yv()}}var Sk=(Object.defineProperty(Nk.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(Nk.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),Nk.prototype.T_=function(t){return new Nk(Object.assign(Object.assign({},this.settings),t),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},Nk.prototype.E_=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t);return(e=this.T_({path:e,o_:!1})).I_(t),e},Nk.prototype.A_=function(t){var e;return t=null===(e=this.path)||void 0===e?void 0:e.child(t),(t=this.T_({path:t,o_:!1})).m_(),t},Nk.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},Nk.prototype.i_=function(t){return Fk(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},Nk.prototype.contains=function(t){return void 0!==this.We.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},Nk.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},Nk.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(Ik(this.s_)&&fk.test(t))throw this.i_('Document fields cannot begin and end with "__"')},Nk),Tk=(kk.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new Sk({s_:t,methodName:e,r_:n,path:oy.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},kk);function kk(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||RT(t)}function Nk(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}function Ak(t,e,n,r,i,o){void 0===o&&(o={});var a,s,u=t.P_(o.merge||o.mergeFields?2:0,e,n,i);if(Lk("Data must be an object, but it was:",u,r),r=Rk(r,u),o.merge)a=new ob(u.We),s=u.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,h=o.mergeFields;l<h.length;l++){var f=h[l],p=void 0;if(f instanceof zT)p=f.t_;else{if("string"!=typeof f)throw Yv();p=jk(e,f,n)}if(!u.contains(p))throw new Bv(qv.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Uk(c,p)||c.push(p)}a=new ob(c),s=u.fieldTransforms.filter((function(t){return a.Ye(t.field)}))}else a=null,s=u.fieldTransforms;return new dk(new Pb(r),a,s)}function Ck(t,e,n,r){var i=t.P_(1,e,n);Lk("Data must be an object, but it was:",i,r);var o=[],a=new xb;return Zv(r,(function(t,r){var s=jk(e,t,n);t=i.A_(s),r instanceof KT||r instanceof hk&&r.l_ instanceof KT?o.push(s):null!=(t=xk(r,t))&&(o.push(s),a.set(s,t))})),r=new ob(o),new vk(a.Xe(),r,i.fieldTransforms)}function Ok(t,e,n,r,i,o){var a=t.P_(1,e,n),s=[Mk(e,r,n)],u=[i];if(o.length%2!=0)throw new Bv(qv.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Mk(e,o[c])),u.push(o[c+1]);for(var l,h,f,p=[],d=new xb,v=s.length-1;0<=v;--v)Uk(p,s[v])||(l=s[v],h=u[v],f=a.A_(l),h instanceof KT||h instanceof hk&&h.l_ instanceof KT?p.push(l):null!=(f=xk(h,f))&&(p.push(l),d.set(l,f)));return i=new ob(p),new vk(d.Xe(),i,a.fieldTransforms)}function Pk(t,e,n,r){return void 0===r&&(r=!1),xk(n,t.P_(r?4:3,e))}function xk(t,e){if(t instanceof hk&&(t=t.l_),Dk(t))return Lk("Unsupported field value:",e,t),Rk(t,e);if(t instanceof GT)return function(t,e){if(!Ik(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");(t=t.n_(e))&&e.fieldTransforms.push(t)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=xk(o[i],e.R_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return mm(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Gy.fromDate(t);return{timestampValue:bm(e.serializer,n)}}if(t instanceof Gy){var r=new Gy(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bm(e.serializer,r)}}if(t instanceof lk)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jy)return{bytesValue:wm(e.serializer,t.q)};if(t instanceof pk){if(n=e.U,!(r=t.__).isEqual(n))throw e.i_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Em(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+Iy(t))}(t,e)}function Rk(t,e){var n={};return ty(t)?e.path&&0<e.path.length&&e.We.push(e.path):Zv(t,(function(t,r){null!=(r=xk(r,e.E_(t)))&&(n[t]=r)})),{mapValue:{fields:n}}}function Dk(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Gy||t instanceof lk||t instanceof jy||t instanceof pk||t instanceof GT)}function Lk(t,e,n){if(!Dk(n)||!Ey(n))throw"an object"===(n=Iy(n))?e.i_(t+" a custom object"):e.i_(t+" "+n)}function Mk(t,e,n){if(e instanceof zT)return e.t_;if("string"==typeof e)return jk(t,e);throw Fk("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function jk(t,e,n){try{return function(e){if(0<=e.search(HT))throw new Bv(qv.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(WT.bind.apply(WT,To([void 0],e.split("."))))}catch(t){throw new Bv(qv.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw Fk(e instanceof Error?e.message:e.toString(),t,!1,void 0,n)}}function Fk(t,e,n,r,i){var o=r&&!r.m(),a=void 0!==i;return e="Function "+e+"() called with invalid data",n&&(e+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new Bv(qv.INVALID_ARGUMENT,(e+=". ")+t+n)}function Uk(t,e){return t.some((function(t){return t.isEqual(e)}))}var Vk=(Hk.prototype.v_=function(t){return wo(this,void 0,void 0,(function(){var e,n=this;return _o(this,(function(r){switch(r.label){case 0:if(this.S_(),0<this.mutations.length)throw new Bv(qv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o,a;return _o(this,(function(s){switch(s.label){case 0:return r=Am((n=t).serializer)+"/documents",i={documents:e.map((function(t){return Sm(n.serializer,t)}))},[4,n.ku("BatchGetDocuments",r,i)];case 1:return i=s.sent(),o=new Map,i.forEach((function(t){var e;e=n.serializer,t="found"in t?function(t,e){$v(!!e.found),e.found.name,e.found.updateTime;var n=Tm(t,e.found.name);return t=_m(e.found.updateTime),e=new Pb({mapValue:{fields:e.found.fields}}),new Vb(n,t,e,{})}(e,t):"missing"in t?function(t,e){return $v(!!e.missing),$v(!!e.readTime),t=Tm(t,e.missing),e=_m(e.readTime),new qb(t,e)}(e,t):Yv(),o.set(t.key.toString(),t)})),a=[],[2,(e.forEach((function(t){$v(!!(t=o.get(t.toString()))),a.push(t)})),a)]}}))}))}(this.Ku,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof qb||t instanceof Vb?n.D_(t):Yv()})),e)]}}))}))},Hk.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},Hk.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},Hk.prototype.delete=function(t){this.write([new Cb(t,this.Ge(t))]),this.b_.add(t.toString())},Hk.prototype.commit=function(){return wo(this,void 0,void 0,(function(){var t,e=this;return _o(this,(function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){n=ay.D(n),e.mutations.push(new Ob(n,e.Ge(n)))})),[4,function(t,e){return wo(this,void 0,void 0,(function(){var n,r,i;return _o(this,(function(o){switch(o.label){case 0:return r=Am((n=t).serializer)+"/documents",i={writes:e.map((function(t){return Pm(n.serializer,t)}))},[4,n.$u("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},Hk.prototype.D_=function(t){var e;if(t instanceof Vb)e=t.version;else{if(!(t instanceof qb))throw Yv();e=Ky.min()}var n=this.y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Bv(qv.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},Hk.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?cb.updateTime(e):cb.ze()},Hk.prototype.C_=function(t){var e=this.y_.get(t.toString());if(this.b_.has(t.toString())||!e)return cb.exists(!0);if(e.isEqual(Ky.min()))throw new Bv(qv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cb.updateTime(e)},Hk.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},Hk.prototype.S_=function(){},Hk),qk=(Wk.prototype.run=function(){this.F_()},Wk.prototype.F_=function(){var t=this;this.ys.gn((function(){return wo(t,void 0,void 0,(function(){var t,e,n=this;return _o(this,(function(r){return t=new Vk(this.Ku),(e=this.x_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.k_(t)}))}))})).catch((function(t){n.k_(t)})),[2]}))}))}))},Wk.prototype.x_=function(t){try{var e=this.updateFunction(t);return!Zy(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},Wk.prototype.k_=function(t){var e=this;0<this.N_&&this.M_(t)?(--this.N_,this.cs.ws((function(){return e.F_(),Promise.resolve()}))):this.ls.reject(t)},Wk.prototype.M_=function(t){return"FirebaseError"===t.name&&("aborted"===(t=t.code)||"failed-precondition"===t||!hg(t))},Wk),Bk=(zk.prototype.start=function(t,e,n,r){var i=this;this.L_(),this.bl=t;var o=new Vw,a=!1;return this.credentials.Hc((function(t){return a?void i.cs.Cs((function(){return function(t,e){return wo(this,void 0,void 0,(function(){var n,r;return _o(this,(function(i){switch(i.label){case 0:return(n=t).cs.xs(),Gv("RemoteStore","RemoteStore received new credentials"),r=_S(n),n.Yu.add(3),[4,pS(n)];case 1:return i.sent(),r&&n.th.set("Unknown"),[4,n.Gu.Jl(e)];case 2:return i.sent(),n.Yu.delete(3),[4,fS(n)];case 3:return i.sent(),[2]}}))}))}(i.ph,t)})):(a=!0,Gv("FirestoreClient","Initializing. user=",t.uid),i.B_(e,n,r,t,o).then(i.O_.resolve,i.O_.reject))})),this.cs.ws((function(){return i.O_.promise})),o.promise},zk.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!0),(e=t.ph).Yu.delete(0),fS(e);var e}))},zk.prototype.B_=function(t,e,n,r,i){return wo(this,void 0,void 0,(function(){var o,a=this;return _o(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),o={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:r,Dh:100,persistenceSettings:n},[4,t.initialize(o)];case 1:return s.sent(),[4,e.initialize(t,o)];case 2:return s.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=function(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o,a;return _o(this,(function(s){switch(s.label){case 0:return n=nT(t),(a=n.Nh.get(e))?(r=a.targetId,n.Sh.Oi(r),i=a.view.yh(),[3,4]):[3,1];case 1:return[4,RI(n.ju,ew(e))];case 2:return o=s.sent(),a=n.Sh.Oi(o.targetId),r=o.targetId,[4,VS(n,e,r,"current"===a)];case 3:i=s.sent(),n.Uh&&vS(n.ph,o),s.label=4;case 4:return[2,i]}}))}))}.bind(null,this.fi),this.q_.js=function(t,e){return wo(this,void 0,void 0,(function(){var n,r,i;return _o(this,(function(o){switch(o.label){case 0:return r=(n=t).Nh.get(e),1<(i=n.Fh.get(r.targetId)).length?[2,(n.Fh.set(r.targetId,i.filter((function(t){return!ow(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(r.targetId),n.Sh.Fi(r.targetId)?[3,2]:[4,DI(n.ju,r.targetId,!1).then((function(){n.Sh.Ui(r.targetId),yS(n.ph,r.targetId),GS(n,r.targetId)})).catch(UI)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return GS(n,r.targetId),[4,DI(n.ju,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}.bind(null,this.fi),this.persistence.Za((function(){return wo(a,void 0,void 0,(function(){return _o(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(o=s.sent(),i.reject(o),!this.U_(o))throw o;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),this.B_(new UT,new qT,{jl:!1},r,i))];case 4:return[2]}}))}))},zk.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===qv.FAILED_PRECONDITION||t.code===qv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},zk.prototype.L_=function(){if(this.cs.ps)throw new Bv(qv.FAILED_PRECONDITION,"The client has already been terminated.")},zk.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!1),function(t){return wo(this,void 0,void 0,(function(){var e;return _o(this,(function(n){switch(n.label){case 0:return(e=t).Yu.add(0),[4,pS(e)];case 1:return n.sent(),e.th.set("Offline"),[2]}}))}))}(t.ph)}))},zk.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new Vw;return this.cs.bs((function(){return wo(t,void 0,void 0,(function(){var t;return _o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,dS(this.ph)];case 1:return n.sent(),[4,this.Sh.Di()];case 2:return n.sent(),[4,this.persistence.Di()];case 3:return n.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=f_(t=n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,5];case 5:return[2]}}))}))})),e.promise},zk.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new Vw;return this.cs.ws((function(){return function(t,e){return wo(this,void 0,void 0,(function(){var n,r,i;return _o(this,(function(o){switch(o.label){case 0:_S((n=t).ph)||Gv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.ju).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return a.Sr.qo(t)}))];case 2:return-1===(r=o.sent())?[2,void e.resolve()]:((i=n.Lh.get(r)||[]).push(e),n.Lh.set(r,i),[3,4]);case 3:return i=f_(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(i),[3,4];case 4:return[2]}var a}))}))}(t.fi,e)})),e.promise},zk.prototype.listen=function(t,e,n){var r=this;this.L_();var i=new BT(n),o=new m_(t,i,e);return this.cs.ws((function(){return v_(r.q_,o)})),function(){i.Zl(),r.cs.ws((function(){return y_(r.q_,o)}))}},zk.prototype.Q_=function(t){return wo(this,void 0,void 0,(function(){var e,n=this;return _o(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),e=new Vw,[2,(this.cs.ws((function(){return function(t,e,n){return wo(this,void 0,void 0,(function(){var r;return _o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(o=e,(a=t).persistence.runTransaction("read document","readonly",(function(t){return a.Cc.Cr(t,o)})))];case 1:return(r=i.sent())instanceof Vb?n.resolve(r):r instanceof qb?n.resolve(null):n.reject(new Bv(qv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=f_(r=i.sent(),"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}var o,a}))}))}(n.ju,t,e)})),e.promise)]}}))}))},zk.prototype.W_=function(t,e){return void 0===e&&(e={}),wo(this,void 0,void 0,(function(){var n,r=this;return _o(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),n=new Vw,[2,(this.cs.ws((function(){return i=r.q_,o=r.cs,a=t,s=e,u=n,c=new BT({next:function(t){o.ws((function(){return y_(i,l)}));var e=t.docs.has(a);!e&&t.fromCache?u.reject(new Bv(qv.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&s&&"server"===s.source?u.reject(new Bv(qv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(t)},error:function(t){return u.reject(t)}}),l=new m_(Qb(a.path),c,{includeMetadataChanges:!0,Xs:!0}),v_(i,l);var i,o,a,s,u,c,l})),n.promise)]}}))}))},zk.prototype.j_=function(t){return wo(this,void 0,void 0,(function(){var e,n=this;return _o(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),e=new Vw,[2,(this.cs.ws((function(){return function(t,e,n){return wo(this,void 0,void 0,(function(){var r,i;return _o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,LI(t,e,!0)];case 1:return i=o.sent(),r=new DS(e,i.Fc),i=r.wh(i.documents),i=r.yr(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=f_(i=o.sent(),"Failed to execute query '"+e+" against cache"),n.reject(i),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},zk.prototype.K_=function(t,e){return void 0===e&&(e={}),wo(this,void 0,void 0,(function(){var n,r=this;return _o(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),n=new Vw,[2,(this.cs.ws((function(){return i=r.q_,o=r.cs,a=t,s=e,u=n,c=new BT({next:function(t){o.ws((function(){return y_(i,l)})),t.fromCache&&"server"===s.source?u.reject(new Bv(qv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(t)},error:function(t){return u.reject(t)}}),l=new m_(a,c,{includeMetadataChanges:!0,Xs:!0}),v_(i,l);var i,o,a,s,u,c,l})),n.promise)]}}))}))},zk.prototype.write=function(t){var e=this;this.L_();var n=new Vw;return this.cs.ws((function(){return function(t,e,n){return wo(this,void 0,void 0,(function(){var r,i;return _o(this,(function(o){switch(o.label){case 0:i=rT(t),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.ju,l=e,f=c,p=Gy.now(),d=l.reduce((function(t,e){return t.add(e.key)}),Ag()),f.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return f.Cc.kr(t,d).next((function(e){h=e;for(var n,r=[],i=0,o=l;i<o.length;i++){var a=o[i],s=(n=a,s=h.get(a.key),n instanceof Sb?function(t){for(var e=null,r=0,i=n.fieldTransforms;r<i.length;r++){var o=i[r],a=t instanceof Vb?t.field(o.field):void 0;null!=(a=Bm(o.transform,a||null))&&(e=(null==e?new xb:e).set(o.field,a))}return e?e.Xe():null}(s):null);null!=s&&r.push(new bb(a.key,s,function t(e){var n=[];return Zv(e.fields||{},(function(e,r){var i=new oy([e]);if(fm(r))if(0===(r=t(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)})),new ob(n)}(s.proto.mapValue),cb.exists(!0)))}return f.Sr.ko(t,p,r,l)}))})).then((function(t){var e=t.lr(h);return{batchId:t.batchId,wr:e}})))];case 2:return r=o.sent(),i.Sh.xi(r.batchId),a=i,s=r.batchId,u=n,c=(c=(c=a.Oh[a.currentUser.ti()])||new pg(xy)).ot(s,u),a.Oh[a.currentUser.ti()]=c,[4,YS(i,r.wr)];case 3:return o.sent(),[4,kS(i.ph)];case 4:return o.sent(),[3,6];case 5:return i=f_(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,l,h,f,p,d}))}))}(e.fi,t,n)})),n.promise},zk.prototype.U=function(){return this.bl.U},zk.prototype.G_=function(t){var e=this;this.L_();var n=new BT(t);return this.cs.ws((function(){return wo(e,void 0,void 0,(function(){return _o(this,(function(t){return[2,(e=this.q_,r=n,e.qs.add(r),void r.next())];var e,r}))}))})),function(){n.Zl(),e.cs.ws((function(){return wo(e,void 0,void 0,(function(){return _o(this,(function(t){return[2,void this.q_.qs.delete(n)]}))}))}))}},Object.defineProperty(zk.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),zk.prototype.transaction=function(t){var e=this;this.L_();var n=new Vw;return this.cs.ws((function(){return new qk(e.cs,e.Ku,t,n).run(),Promise.resolve()})),n.promise},zk);function zk(t,e){this.credentials=t,this.cs=e,this.clientId=Oy.k(),this.O_=new Vw}function Wk(t,e,n,r){this.cs=t,this.Ku=e,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new Bw(this.cs,"transaction_retry")}function Hk(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}function Gk(t){return function(){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}()}var Kk,Qk,Xk=(pN.prototype.X_=function(t){switch(Jg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return om(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(am(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw Yv()}},pN.prototype.if=function(t){var e=this,n={};return Zv(t.fields||{},(function(t,r){n[t]=e.X_(r)})),n},pN.prototype.nf=function(t){return new lk(om(t.latitude),om(t.longitude))},pN.prototype.sf=function(t){var e=this;return(t.values||[]).map((function(t){return e.X_(t)}))},pN.prototype.tf=function(t){switch(this.H_){case"previous":var e=function t(e){return Xg(e=e.mapValue.fields.__previous_value__)?t(e):e}(t);return null==e?null:this.X_(e);case"estimate":return this.Z_(Yg(t));default:return null}},pN.prototype.Z_=function(t){return t=im(t),t=new Gy(t.seconds,t.nanos),this.timestampsInSnapshots?t:t.toDate()},pN.prototype.ef=function(t){var e=ry.g(t);return $v(qm(e)),t=new Wy(e.get(1),e.get(3)),e=new ay(e.u(5)),t.isEqual(this.U)||Kv("Document "+e+" contains a document reference within a different database ("+t.projectId+"/"+t.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(e)},pN),Yk=eE.ho,$k=(fN.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},fN),Jk=(Object.defineProperty(hN.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Tk(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),hN.prototype.settings=function(t){if(fy("Firestore.settings",arguments,1),vy("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge,t=new $k(t),this.lf&&!this.wf.isEqual(t))throw new Bv(qv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this.wf=t).credentials&&(this.df=function(t){if(!t)return new KI;switch(t.type){case"gapi":var e=t.client;return $v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new YI(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Bv(qv.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},hN.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},hN.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},hN.prototype.enablePersistence=function(t){var e;if(this.lf)throw new Bv(qv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var n=!1,r=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&Kv("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),n=null!==(e=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==e&&e,r=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,n&&r))throw new Bv(qv.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:n,ka:r})},hN.prototype.clearPersistence=function(){return wo(this,void 0,void 0,(function(){var t,e=this;return _o(this,(function(n){if(void 0!==this.lf&&!this.lf.z_)throw new Bv(qv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new Vw,[2,(this.uf.bs((function(){return wo(e,void 0,void 0,(function(){var e;return _o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},hN.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(hN.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),hN.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},hN.prototype.onSnapshotsInSync=function(t){return this.hf(),Gk(t)||(vy("Firestore.onSnapshotsInSync","function",1,t),t={next:t}),this.lf.G_(t)},hN.prototype.hf=function(){return this.lf||this.Ef(new UT,new qT,{jl:!1}),this.lf},hN.prototype.Af=function(){return new qy(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},hN.prototype.Ef=function(t,e,n){var r=this.Af();return this.lf=new Bk(this.df,this.uf),this.lf.start(r,t,e,n)},hN._f=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new Bv(qv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e;if(!(t=t.options.projectId)||"string"!=typeof t)throw new Bv(qv.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Wy(t)},Object.defineProperty(hN.prototype,"app",{get:function(){if(!this.cf)throw new Bv(qv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),hN.prototype.collection=function(t){return fy("Firestore.collection",arguments,1),vy("Firestore.collection","non-empty string",1,t),this.hf(),new _N(ry.g(t),this,null)},hN.prototype.doc=function(t){return fy("Firestore.doc",arguments,1),vy("Firestore.doc","non-empty string",1,t),this.hf(),eN.Rf(ry.g(t),this,null)},hN.prototype.collectionGroup=function(t){if(fy("Firestore.collectionGroup",arguments,1),vy("Firestore.collectionGroup","non-empty string",1,t),0<=t.indexOf("/"))throw new Bv(qv.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new bN(new zb(ry.P(),t),this,null)},hN.prototype.runTransaction=function(t){var e=this;return fy("Firestore.runTransaction",arguments,1),vy("Firestore.runTransaction","function",1,t),this.hf().transaction((function(n){return t(new Zk(e,n))}))},hN.prototype.batch=function(){return this.hf(),new tN(this)},Object.defineProperty(hN,"logLevel",{get:function(){switch(Hv()){case Aa.DEBUG:return"debug";case Aa.ERROR:return"error";case Aa.SILENT:return"silent";case Aa.WARN:return"warn";case Aa.INFO:return"info";case Aa.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),hN.setLogLevel=function(t){fy("Firestore.setLogLevel",arguments,1),wy("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),zv.setLogLevel(t)},hN.prototype.gf=function(){return this.wf.timestampsInSnapshots},hN.prototype.Pf=function(){return this.wf},hN),Zk=(lN.prototype.get=function(t){var e=this;fy("Transaction.get",arguments,1);var n=AN("Transaction.get",t,this.yf);return this.Vf.v_([n.f_]).then((function(t){if(!t||1!==t.length)return Yv();if((t=t[0])instanceof qb)return new rN(e.yf,n.f_,null,!1,!1,n.d_);if(t instanceof Vb)return new rN(e.yf,n.f_,t,!1,!1,n.d_);throw Yv()}))},lN.prototype.set=function(t,e,n){return dy("Transaction.set",arguments,2,3),t=AN("Transaction.set",t,this.yf),n=TN("Transaction.set",n),e=CN(t.d_,e,n),n=Ak(this.yf.mf,"Transaction.set",t.f_,e,null!==t.d_,n),this.Vf.set(t.f_,n),this},lN.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return e="string"==typeof e||e instanceof WT?(py("Transaction.update",arguments,3),r=AN("Transaction.update",t,this.yf),Ok(this.yf.mf,"Transaction.update",r.f_,e,n,i)):(fy("Transaction.update",arguments,2),r=AN("Transaction.update",t,this.yf),Ck(this.yf.mf,"Transaction.update",r.f_,e)),this.Vf.update(r.f_,e),this},lN.prototype.delete=function(t){return fy("Transaction.delete",arguments,1),t=AN("Transaction.delete",t,this.yf),this.Vf.delete(t.f_),this},lN),tN=(cN.prototype.set=function(t,e,n){return dy("WriteBatch.set",arguments,2,3),this.vf(),t=AN("WriteBatch.set",t,this.yf),n=TN("WriteBatch.set",n),e=CN(t.d_,e,n),n=Ak(this.yf.mf,"WriteBatch.set",t.f_,e,null!==t.d_,n),this.pf=this.pf.concat(n.w_(t.f_,cb.ze())),this},cN.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return this.vf(),e="string"==typeof e||e instanceof WT?(py("WriteBatch.update",arguments,3),r=AN("WriteBatch.update",t,this.yf),Ok(this.yf.mf,"WriteBatch.update",r.f_,e,n,i)):(fy("WriteBatch.update",arguments,2),r=AN("WriteBatch.update",t,this.yf),Ck(this.yf.mf,"WriteBatch.update",r.f_,e)),this.pf=this.pf.concat(e.w_(r.f_,cb.exists(!0))),this},cN.prototype.delete=function(t){return fy("WriteBatch.delete",arguments,1),this.vf(),t=AN("WriteBatch.delete",t,this.yf),this.pf=this.pf.concat(new Cb(t.f_,cb.ze())),this},cN.prototype.commit=function(){return this.vf(),this.bf=!0,0<this.pf.length?this.yf.hf().write(this.pf):Promise.resolve()},cN.prototype.vf=function(){if(this.bf)throw new Bv(qv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},cN),eN=(mo(uN,Qk=pk),uN.Rf=function(t,e,n){if(t.length%2!=0)throw new Bv(qv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new uN(new ay(t),e,n)},Object.defineProperty(uN.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(uN.prototype,"parent",{get:function(){return new _N(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(uN.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),uN.prototype.collection=function(t){if(fy("DocumentReference.collection",arguments,1),vy("DocumentReference.collection","non-empty string",1,t),!t)throw new Bv(qv.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");return t=ry.g(t),new _N(this.f_.path.child(t),this.firestore,null)},uN.prototype.isEqual=function(t){if(!(t instanceof uN))throw ky("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},uN.prototype.set=function(t,e){return dy("DocumentReference.set",arguments,1,2),e=TN("DocumentReference.set",e),t=CN(this.d_,t,e),e=Ak(this.firestore.mf,"DocumentReference.set",this.f_,t,null!==this.d_,e),this.lf.write(e.w_(this.f_,cb.ze()))},uN.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return t="string"==typeof t||t instanceof WT?(py("DocumentReference.update",arguments,2),Ok(this.firestore.mf,"DocumentReference.update",this.f_,t,e,n)):(fy("DocumentReference.update",arguments,1),Ck(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(t.w_(this.f_,cb.exists(!0)))},uN.prototype.delete=function(){return fy("DocumentReference.delete",arguments,0),this.lf.write([new Cb(this.f_,cb.ze())])},uN.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];dy("DocumentReference.onSnapshot",arguments,1,4);var r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||Gk(e[i])||(Ty("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),my("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};Gk(e[i])?(a=e[i],e[i]=null===(r=a.next)||void 0===r?void 0:r.bind(a),e[i+1]=null===(r=a.error)||void 0===r?void 0:r.bind(a),e[i+2]=null===(r=a.complete)||void 0===r?void 0:r.bind(a)):(vy("DocumentReference.onSnapshot","function",i,e[i]),yy("DocumentReference.onSnapshot","function",i+1,e[i+1]),yy("DocumentReference.onSnapshot","function",i+2,e[i+2]));var a={next:function(n){e[i]&&e[i](t.Sf(n))},error:e[i+1],complete:e[i+2]};return this.lf.listen(Qb(this.f_.path),o,a)},uN.prototype.get=function(t){var e=this;dy("DocumentReference.get",arguments,0,1),NN("DocumentReference.get",t);var n=this.firestore.hf();return t&&"cache"===t.source?n.Q_(this.f_).then((function(t){return new rN(e.firestore,e.f_,t,!0,t instanceof Vb&&t.Je,e.d_)})):n.W_(this.f_,t).then((function(t){return e.Sf(t)}))},uN.prototype.withConverter=function(t){return new uN(this.f_,this.firestore,t)},uN.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new rN(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},uN),nN=(sN.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},sN),rN=(aN.prototype.data=function(t){var e=this;if(dy("DocumentSnapshot.data",arguments,0,1),t=kN("DocumentSnapshot.data",t),this.Df){if(this.d_){var n=new iN(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,t)}return new Xk(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(t){return new eN(t,e.yf,null)}),(function(t){return new zy(t)})).X_(this.Df.rn())}},aN.prototype.get=function(t,e){var n=this;if(dy("DocumentSnapshot.get",arguments,1,2),e=kN("DocumentSnapshot.get",e),this.Df&&null!==(t=this.Df.data().field(Mk("DocumentSnapshot.get",t,this.f_))))return new Xk(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(t){return new eN(t,n.yf,n.d_)}),(function(t){return new zy(t)})).X_(t)},Object.defineProperty(aN.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(aN.prototype,"ref",{get:function(){return new eN(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(aN.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(aN.prototype,"metadata",{get:function(){return new nN(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),aN.prototype.isEqual=function(t){if(!(t instanceof aN))throw ky("isEqual","DocumentSnapshot",1,t);return this.yf===t.yf&&this.Cf===t.Cf&&this.f_.isEqual(t.f_)&&(null===this.Df?null===t.Df:this.Df.isEqual(t.Df))&&this.d_===t.d_},aN),iN=(mo(oN,Kk=rN),oN.prototype.data=function(t){return Kk.prototype.data.call(this,t)},oN);function oN(){return null!==Kk&&Kk.apply(this,arguments)||this}function aN(t,e,n,r,i,o){this.yf=t,this.f_=e,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}function sN(t,e){this.hasPendingWrites=t,this.fromCache=e}function uN(t,e,n){var r=this;return(r=Qk.call(this,e.__,t,n)||this).f_=t,r.firestore=e,r.d_=n,r.lf=r.firestore.hf(),r}function cN(t){this.yf=t,this.pf=[],this.bf=!1}function lN(t,e){this.yf=t,this.Vf=e}function hN(t,e,n,r){var i=this;if(void 0===n&&(n=new UT),void 0===r&&(r=new qT),this.rf=n,this.af=r,this.cf=null,this.uf=new c_,this.INTERNAL={delete:function(){return wo(i,void 0,void 0,(function(){return _o(this,(function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof t.options)r=t,this.cf=r,this.__=hN._f(r),this.ff=r.name,this.df=new QI(e);else{if(!t.projectId)throw new Bv(qv.INVALID_ARGUMENT,"Must provide projectId");this.__=new Wy(t.projectId,t.database),this.ff="[DEFAULT]",this.df=new KI}this.wf=new $k({})}function fN(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Bv(qv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else gy("settings","non-empty string","host",t.host),this.host=t.host,my("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Ty("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),my("settings","object","credentials",t.credentials),this.credentials=t.credentials,my("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),my("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?Kv("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&Kv("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(e=t.timestampsInSnapshots)||void 0===e||e,this.ignoreUndefinedProperties=null!==(e=t.ignoreUndefinedProperties)&&void 0!==e&&e,my("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=eE._o;else{if(t.cacheSizeBytes!==Yk&&t.cacheSizeBytes<eE.lo)throw new Bv(qv.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+eE.lo);this.cacheSizeBytes=t.cacheSizeBytes}my("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(e=t.experimentalForceLongPolling)&&void 0!==e&&e,my("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(e=t.experimentalAutoDetectLongPolling)&&void 0!==e&&e,function(t,e){if(!0===t&&!0===e)throw new Bv(qv.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(t.experimentalForceLongPolling,t.experimentalAutoDetectLongPolling)}function pN(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.H_=n,this.Y_=r,this.J_=i}function dN(t,e,n){if("string"==typeof n){if(""===n)throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zb(e)&&-1!==n.indexOf("/"))throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(e=e.path.child(ry.g(n)),!ay.F(e))throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return sm(t,new ay(e))}if(n instanceof pk)return sm(t,n.f_);throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Iy(n)+".")}function vN(t,e){if(!Array.isArray(t)||0===t.length)throw new Bv(qv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Bv(qv.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(0<=t.indexOf(null))throw new Bv(qv.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(0<t.filter((function(t){return Number.isNaN(t)})).length)throw new Bv(qv.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function yN(t,e,n){if(!n.isEqual(e))throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function gN(t){if(Yb(t)&&0===t.on.length)throw new Bv(qv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mN,bN=(SN.prototype.where=function(t,e,n){return fy("Query.where",arguments,3),Sy("Query.where",3,n),e=wy("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,e),t=Mk("Query.where",t),e=function(t,e,n,r,i,o,a){if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new Bv(qv.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){vN(a,o);for(var s=[],u=0,c=a;u<c.length;u++){var l=c[u];s.push(dN(r,t,l))}h={arrayValue:{values:s}}}else h=dN(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||vN(a,o),h=Pk(n,e,a,"in"===o||"not-in"===o);var h=hw.create(i,o,h);return function(t,e){if(e.hn()){var n=Jb(t);if(null!==n&&!n.isEqual(e.field))throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");null!==(n=$b(t))&&yN(0,e.field,n)}if(t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}()),null!==t)throw t===e.op?new Bv(qv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Bv(qv.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+t.toString()+"' filters.")}(t,h),h}(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,t,e,n),new SN((e=(n=this.Ff).filters.concat([e]),new zb(n.path,n.collectionGroup,n.on.slice(),e,n.limit,n.an,n.startAt,n.endAt)),this.firestore,this.d_)},SN.prototype.orderBy=function(t,e){if(dy("Query.orderBy",arguments,1,2),yy("Query.orderBy","non-empty string",2,e),void 0===e||"asc"===e)n="asc";else{if("desc"!==e)throw new Bv(qv.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n="desc"}var n;return t=Mk("Query.orderBy",t),t=function(t,e,n){if(null!==t.startAt)throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Uw(e,n);return e=r,null!==$b(n=t)||null!==(t=Jb(n))&&yN(0,t,e.field),r}(this.Ff,t,n),new SN((t=(n=this.Ff).on.concat([t]),new zb(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.an,n.startAt,n.endAt)),this.firestore,this.d_)},SN.prototype.limit=function(t){return fy("Query.limit",arguments,1),vy("Query.limit","number",1,t),Ny("Query.limit",1,t),new SN(nw(this.Ff,t,"F"),this.firestore,this.d_)},SN.prototype.limitToLast=function(t){return fy("Query.limitToLast",arguments,1),vy("Query.limitToLast","number",1,t),Ny("Query.limitToLast",1,t),new SN(nw(this.Ff,t,"L"),this.firestore,this.d_)},SN.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return py("Query.startAt",arguments,1),t=this.xf("Query.startAt",t,e,!0),new SN(rw(this.Ff,t),this.firestore,this.d_)},SN.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return py("Query.startAfter",arguments,1),t=this.xf("Query.startAfter",t,e,!1),new SN(rw(this.Ff,t),this.firestore,this.d_)},SN.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return py("Query.endBefore",arguments,1),t=this.xf("Query.endBefore",t,e,!0),new SN(iw(this.Ff,t),this.firestore,this.d_)},SN.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return py("Query.endAt",arguments,1),t=this.xf("Query.endAt",t,e,!1),new SN(iw(this.Ff,t),this.firestore,this.d_)},SN.prototype.isEqual=function(t){if(!(t instanceof SN))throw ky("isEqual","Query",1,t);return this.firestore===t.firestore&&ow(this.Ff,t.Ff)&&this.d_===t.d_},SN.prototype.withConverter=function(t){return new SN(this.Ff,this.firestore,t)},SN.prototype.xf=function(t,e,n,r){return Sy(t,1,e),e instanceof rN?(fy(t,To([e],n),1),function(e,n,r,i){if(!r)throw new Bv(qv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var o=[],a=0,s=tw(e);a<s.length;a++){var u=s[a];if(u.field.p())o.push(sm(n,r.key));else{var c=r.field(u.field);if(Xg(c))throw new Bv(qv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.R(),new Bv(qv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new Pw(o,i)}(this.Ff,this.firestore.__,e.Df,r)):(n=[e].concat(n),function(t,e,n,r,i,o){var a=t.on;if(i.length>a.length)throw new Bv(qv.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.p()){if("string"!=typeof c)throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Zb(t)&&-1!==c.indexOf("/"))throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ry.g(c));if(!ay.F(l))throw new Bv(qv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new ay(l),s.push(sm(e,l))}else c=Pk(n,r,c),s.push(c)}return new Pw(s,o)}(this.Ff,this.firestore.__,this.firestore.mf,t,n,r))},SN.prototype.onSnapshot=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];dy("Query.onSnapshot",arguments,1,4);var i={},o=0;"object"!=typeof n[o]||Gk(n[o])||(Ty("Query.onSnapshot",i=n[o],["includeMetadataChanges"]),my("Query.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),o++),Gk(n[o])?(a=n[o],n[o]=null===(t=a.next)||void 0===t?void 0:t.bind(a),n[o+1]=null===(t=a.error)||void 0===t?void 0:t.bind(a),n[o+2]=null===(t=a.complete)||void 0===t?void 0:t.bind(a)):(vy("Query.onSnapshot","function",o,n[o]),yy("Query.onSnapshot","function",o+1,n[o+1]),yy("Query.onSnapshot","function",o+2,n[o+2]));var a={next:function(t){n[o]&&n[o](new wN(e.firestore,e.Ff,t,e.d_))},error:n[o+1],complete:n[o+2]};return gN(this.Ff),this.firestore.hf().listen(this.Ff,i,a)},SN.prototype.get=function(t){var e=this;dy("Query.get",arguments,0,1),NN("Query.get",t),gN(this.Ff);var n=this.firestore.hf();return(t&&"cache"===t.source?n.j_(this.Ff):n.K_(this.Ff,t)).then((function(t){return new wN(e.firestore,e.Ff,t,e.d_)}))},SN),wN=(Object.defineProperty(IN.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(IN.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(IN.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),IN.prototype.forEach=function(t,e){var n=this;dy("QuerySnapshot.forEach",arguments,1,2),vy("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach((function(r){t.call(e,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(IN.prototype,"query",{get:function(){return new bN(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),IN.prototype.docChanges=function(t){if(t&&(Ty("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),my("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges)),(t=!(!t||!t.includeMetadataChanges))&&this.kf.Kt)throw new Bv(qv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===t||(this.Mf=function(t,e,n){if(t.Qt.m()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Wt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Qt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),o=-1,a=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(a=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yv()}}(e.type),doc:r,oldIndex:o,newIndex:a}}))}(this.kf,t,this.Lf.bind(this)),this.Of=t),this.Mf},IN.prototype.isEqual=function(t){if(!(t instanceof IN))throw ky("isEqual","QuerySnapshot",1,t);return this.yf===t.yf&&ow(this.$f,t.$f)&&this.kf.isEqual(t.kf)&&this.d_===t.d_},IN.prototype.Lf=function(t,e,n){return new iN(this.yf,t.key,t,e,n,this.d_)},IN),_N=(mo(EN,mN=bN),Object.defineProperty(EN.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(EN.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new eN(new ay(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(EN.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),EN.prototype.doc=function(t){return dy("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Oy.k()),vy("CollectionReference.doc","non-empty string",1,t),t=ry.g(t),eN.Rf(this.Ff.path.child(t),this.firestore,this.d_)},EN.prototype.add=function(t){fy("CollectionReference.add",arguments,1),vy("CollectionReference.add","object",1,t=this.d_?this.d_.toFirestore(t):t);var e=this.doc();return new eN(e.f_,this.firestore,null).set(t).then((function(){return e}))},EN.prototype.withConverter=function(t){return new EN(this.Bf,this.firestore,t)},EN);function EN(t,e,n){var r=this;if(((r=mN.call(this,Qb(t),e,n)||this).Bf=t).length%2!=1)throw new Bv(qv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.R()+" has "+t.length);return r}function IN(t,e,n,r){this.yf=t,this.$f=e,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new nN(n.hasPendingWrites,n.fromCache)}function SN(t,e,n){this.Ff=t,this.firestore=e,this.d_=n}function TN(t,e){if(void 0===e)return{merge:!1};if(Ty(t,e,["merge","mergeFields"]),my(t,"boolean","merge",e.merge),void 0!==(n=e.mergeFields)&&function(t,e,n,r){if(!(n instanceof Array))throw new Bv(qv.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Iy(n));for(var i=0;i<n.length;++i)if(!r(n[i]))throw new Bv(qv.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+i+" was: "+Iy(n[i]))}(t,"mergeFields",n,(function(t){return"string"==typeof t||t instanceof WT})),void 0!==e.mergeFields&&void 0!==e.merge)throw new Bv(qv.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function kN(t,e){return void 0===e?{}:(Ty(t,e,["serverTimestamps"]),by(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function NN(t,e){yy(t,"object",1,e),e&&(Ty(t,e,["source"]),by(t,0,"source",e.source,["default","server","cache"]))}function AN(t,e,n){if(e instanceof pk){if(e.firestore!==n)throw new Bv(qv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw ky(t,"DocumentReference",1,e)}function CN(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}mo(RN,ON=hk),RN.serverTimestamp=function(){hy("FieldValue.serverTimestamp",arguments);var t=new ak("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new RN(t)},RN.delete=function(){hy("FieldValue.delete",arguments);var t=new KT("deleteField");return t.e_="FieldValue.delete",new RN(t)},RN.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];py("FieldValue.arrayUnion",arguments,1);var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return py("arrayUnion()",arguments,1),new sk("arrayUnion",t)}.apply(void 0,t);return n.e_="FieldValue.arrayUnion",new RN(n)},RN.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];py("FieldValue.arrayRemove",arguments,1);var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return py("arrayRemove()",arguments,1),new uk("arrayRemove",t)}.apply(void 0,t);return n.e_="FieldValue.arrayRemove",new RN(n)},RN.increment=function(t){return vy("FieldValue.increment","number",1,t),fy("FieldValue.increment",arguments,1),(t=new ck("increment",t)).e_="FieldValue.increment",new RN(t)},RN.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)};var ON,PN,xN={Firestore:Jk,GeoPoint:lk,Timestamp:Gy,Blob:zy,Transaction:Zk,WriteBatch:tN,DocumentReference:eN,DocumentSnapshot:rN,Query:bN,QueryDocumentSnapshot:iN,QuerySnapshot:wN,CollectionReference:_N,FieldPath:WT,FieldValue:Dr=RN,setLogLevel:Jk.setLogLevel,CACHE_SIZE_UNLIMITED:Yk};function RN(){return null!==ON&&ON.apply(this,arguments)||this}(PN=$a).INTERNAL.registerComponent(new wa("firestore",(function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=new qT,t=new VT(r),new Jk(e,n,t,r);var e,n,r}),"PUBLIC").setServiceProps(Object.assign({},xN))),PN.registerVersion("@firebase/firestore","1.18.0");var DN,LN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},MN=(mo(jN,DN=Error),jN);function jN(t,e,n){return e=DN.call(this,e)||this,Object.setPrototypeOf(e,jN.prototype),e.code=t,e.details=n,e}function FN(t,e,n){var r=function(t){if(200<=t&&t<300)return"ok";switch(t){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!LN[s])return new MN("internal","internal");r=LN[s],i=s}"string"==typeof(s=a.message)&&(i=s),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new MN(r,i,o)}var UN=(VN.prototype.getAuthToken=function(){return wo(this,void 0,void 0,(function(){var t;return _o(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},VN.prototype.getInstanceIdToken=function(){return wo(this,void 0,void 0,(function(){return _o(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},VN.prototype.getContext=function(){return wo(this,void 0,void 0,(function(){var t,e;return _o(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},VN);function VN(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}function qN(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}var BN=(zN.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return qN(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},zN.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?qN(t,(function(t){return e.decode(t)})):t},zN);function zN(){}var WN,HN,GN,KN=(Object.defineProperty(QN.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),QN.prototype._url=function(t){var e=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t:this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t},QN.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},QN.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},QN.prototype.postJSON=function(t,e,n){return wo(this,void 0,void 0,(function(){var r,i;return _o(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},QN.prototype.call=function(t,e,n){return wo(this,void 0,void 0,(function(){var r,i,o,a,s;return _o(this,(function(u){switch(u.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=u.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=s,h=new Promise((function(t,e){l=setTimeout((function(){e(new MN("deadline-exceeded","deadline-exceeded"))}),c)})),s=(a={timer:l,promise:h}).timer,a=a.promise,[4,Promise.race([XN(s,this.postJSON(r,i,o)),a,XN(s,this.cancelAllRequests)])];case 2:if(!(a=u.sent()))throw new MN("cancelled","Firebase Functions instance was deleted.");if(s=FN(a.status,a.json,this.serializer))throw s;if(!a.json)throw new MN("internal","Response is not valid JSON object.");if(void 0===(s=a.json.data)&&(s=a.json.result),void 0===s)throw new MN("internal","Response is missing data field.");return[2,{data:this.serializer.decode(s)}]}var c,l,h}))}))},QN);function QN(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new BN,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new UN(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}function XN(t,e){return wo(this,void 0,void 0,(function(){var n;return _o(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}function YN(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function $N(t,e,n){var r,i=new Promise((function(i,o){YN(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function JN(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function ZN(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return $N(this[e],r,arguments)})}))}function tA(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function eA(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return t=this[e],(n=$N(t,r,arguments)).then((function(t){if(t)return new rA(t,n.request)}));var t,n})}))}function nA(t){this._index=t}function rA(t,e){this._cursor=t,this._request=e}function iA(t){this._store=t}function oA(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function aA(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new oA(n)}function sA(t){this._db=t}function uA(t,e,n){var r=(e=$N(indexedDB,"open",[t,e])).request;return r&&(r.onupgradeneeded=function(t){n&&n(new aA(r.result,t.oldVersion,r.transaction))}),e.then((function(t){return new sA(t)}))}function cA(t){return $N(indexedDB,"deleteDatabase",[t])}WN=$a,HN=fetch.bind(self),GN={Functions:KN},WN.INTERNAL.registerComponent(new wa("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return t=t.getProvider("messaging"),new KN(n,r,t,e,HN)}),"PUBLIC").setServiceProps(GN).setMultipleInstances(!0)),$a.registerVersion("@firebase/functions","0.5.1"),JN(nA,"_index",["name","keyPath","multiEntry","unique"]),ZN(nA,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),eA(nA,"_index",IDBIndex,["openCursor","openKeyCursor"]),JN(rA,"_cursor",["direction","key","primaryKey","value"]),ZN(rA,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(rA.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),YN(e._request).then((function(t){if(t)return new rA(t,e._request)}))}))})})),iA.prototype.createIndex=function(){return new nA(this._store.createIndex.apply(this._store,arguments))},iA.prototype.index=function(){return new nA(this._store.index.apply(this._store,arguments))},JN(iA,"_store",["name","keyPath","indexNames","autoIncrement"]),ZN(iA,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),eA(iA,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),tA(iA,"_store",IDBObjectStore,["deleteIndex"]),oA.prototype.objectStore=function(){return new iA(this._tx.objectStore.apply(this._tx,arguments))},JN(oA,"_tx",["objectStoreNames","mode"]),tA(oA,"_tx",IDBTransaction,["abort"]),aA.prototype.createObjectStore=function(){return new iA(this._db.createObjectStore.apply(this._db,arguments))},JN(aA,"_db",["name","version","objectStoreNames"]),tA(aA,"_db",IDBDatabase,["deleteObjectStore","close"]),sA.prototype.transaction=function(){return new oA(this._db.transaction.apply(this._db,arguments))},JN(sA,"_db",["name","version","objectStoreNames"]),tA(sA,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[iA,nA].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=(r=arguments,Array.prototype.slice.call(r)),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[nA,iA].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var lA=1e4,hA="w:0.4.17",fA="FIS_v2",pA="https://firebaseinstallations.googleapis.com/v1",dA=36e5,vA=((j={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',j["not-registered"]="Firebase Installation is not registered.",j["installation-not-found"]="Firebase Installation not found.",j["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',j["app-offline"]="Could not process request. Application offline.",j["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",new Qo("installations","Installations",Dr=j));function yA(t){return t instanceof Go&&t.code.includes("request-failed")}function gA(t){return t=t.projectId,pA+"/projects/"+t+"/installations"}function mA(t){return{token:t.token,requestStatus:2,expiresIn:(t=t.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()}}function bA(t,e){return wo(this,void 0,void 0,(function(){var n;return _o(this,(function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=(n=r.sent()).error,[2,vA.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}}))}))}function wA(t){return t=t.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _A(t,e){return e=e.refreshToken,(t=wA(t)).append("Authorization",fA+" "+e),t}function EA(t){return wo(this,void 0,void 0,(function(){var e;return _o(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return 500<=(e=n.sent()).status&&e.status<600?[2,t()]:[2,e]}}))}))}function IA(t){return new Promise((function(e){setTimeout(e,t)}))}var SA=/^[cdef][\w-]{21}$/,TA="";function kA(){try{var t=new Uint8Array(17);return(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16,t=function(t){return btoa(String.fromCharCode.apply(String,So(t))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22),SA.test(t)?t:TA}catch(t){return TA}}function NA(t){return t.appName+"!"+t.appId}var AA=new Map;function CA(t,e){OA(t=NA(t),e),function(t,e){var n=xA();n&&n.postMessage({key:t,fid:e}),RA()}(t,e)}function OA(t,e){var n,r,i=AA.get(t);if(i)try{for(var o=Eo(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var PA=null;function xA(){return!PA&&"BroadcastChannel"in self&&((PA=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){OA(t.data.key,t.data.fid)}),PA}function RA(){0===AA.size&&PA&&(PA.close(),PA=null)}var DA,LA="firebase-installations-database",MA=1,jA="firebase-installations-store",FA=null;function UA(){return FA=FA||uA(LA,MA,(function(t){0===t.oldVersion&&t.createObjectStore(jA)}))}function VA(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o;return _o(this,(function(a){switch(a.label){case 0:return n=NA(t),[4,UA()];case 1:return i=a.sent(),r=i.transaction(jA,"readwrite"),[4,(i=r.objectStore(jA)).get(n)];case 2:return o=a.sent(),[4,i.put(e,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),o&&o.fid===e.fid||CA(t,e.fid),[2,e]}}))}))}function qA(t){return wo(this,void 0,void 0,(function(){var e,n;return _o(this,(function(r){switch(r.label){case 0:return e=NA(t),[4,UA()];case 1:return[4,(n=(n=r.sent()).transaction(jA,"readwrite")).objectStore(jA).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}function BA(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o,a;return _o(this,(function(s){switch(s.label){case 0:return n=NA(t),[4,UA()];case 1:return i=s.sent(),r=i.transaction(jA,"readwrite"),[4,(i=r.objectStore(jA)).get(n)];case 2:return o=s.sent(),void 0!==(a=e(o))?[3,4]:[4,i.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(a,n)];case 5:s.sent(),s.label=6;case 6:return[4,r.complete];case 7:return s.sent(),!a||o&&o.fid===a.fid||CA(t,a.fid),[2,a]}}))}))}function zA(t){return wo(this,void 0,void 0,(function(){var e,n,r;return _o(this,(function(i){switch(i.label){case 0:return[4,BA(t,(function(n){return n=HA(n||{fid:kA(),registrationStatus:0}),n=function(t,e){return 0!==e.registrationStatus?1===e.registrationStatus?{installationEntry:e,registrationPromise:function(t){return wo(this,void 0,void 0,(function(){var e,n,r;return _o(this,(function(i){switch(i.label){case 0:return[4,WA(t)];case 1:e=i.sent(),i.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,IA(100)];case 3:return i.sent(),[4,WA(t)];case 4:return e=i.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,zA(t)];case 6:return r=i.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,e]}}))}))}(t)}:{installationEntry:e}:navigator.onLine?(t=function(t,e){return wo(this,void 0,void 0,(function(){var n,r;return _o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(t,e){var n=e.fid;return wo(this,void 0,void 0,(function(){var e,r,i,o,a;return _o(this,(function(s){switch(s.label){case 0:return e=gA(t),r=wA(t),a={fid:n,authVersion:fA,appId:t.appId,sdkVersion:hA},i={method:"POST",headers:r,body:JSON.stringify(a)},[4,EA((function(){return fetch(e,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:mA(a.authToken)}];case 3:return[4,bA("Create Installation",o)];case 4:throw s.sent()}}))}))}(t,e)];case 1:return n=i.sent(),[2,VA(t,n)];case 2:return yA(r=i.sent())&&409===r.serverCode?[4,qA(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,VA(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,e={fid:e.fid,registrationStatus:1,registrationTime:Date.now()}),{installationEntry:e,registrationPromise:t}):{installationEntry:e,registrationPromise:Promise.reject(vA.create("app-offline"))}}(t,n),e=n.registrationPromise,n.installationEntry}))];case 1:return(n=i.sent()).fid!==TA?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function WA(t){return BA(t,(function(t){if(!t)throw vA.create("installation-not-found");return HA(t)}))}function HA(t){return 1===(e=t).registrationStatus&&e.registrationTime+lA<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function GA(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return wo(this,void 0,void 0,(function(){var t,i,o,a,s;return _o(this,(function(u){switch(u.label){case 0:return t=function(t,e){return e=e.fid,gA(t)+"/"+e+"/authTokens:generate"}(n,e),i=_A(n,e),(s=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",s.getPlatformInfoString()),s={installation:{sdkVersion:hA}},o={method:"POST",headers:i,body:JSON.stringify(s)},[4,EA((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,mA(s=u.sent())];case 3:return[4,bA("Generate Auth Token",a)];case 4:throw u.sent()}}))}))}function KA(t,e){return void 0===e&&(e=!1),wo(this,void 0,void 0,(function(){var n,r,i;return _o(this,(function(o){switch(o.label){case 0:return[4,BA(t.appConfig,(function(r){if(!XA(r))throw vA.create("not-registered");var i,o=r.authToken;if(e||2!==(i=o).requestStatus||function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dA}(i)){if(1===o.requestStatus)return n=function(t,e){return wo(this,void 0,void 0,(function(){var n;return _o(this,(function(r){switch(r.label){case 0:return[4,QA(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,IA(100)];case 3:return r.sent(),[4,QA(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(n=n.authToken).requestStatus?[2,KA(t,e)]:[2,n]}}))}))}(t,e),r;if(!navigator.onLine)throw vA.create("app-offline");return i=r,o={requestStatus:1,requestTime:Date.now()},o=bo(bo({},i),{authToken:o}),n=function(t,e){return wo(this,void 0,void 0,(function(){var n,r,i;return _o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,GA(t,e)];case 1:return n=o.sent(),i=bo(bo({},e),{authToken:n}),[4,VA(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!yA(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,qA(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=bo(bo({},e),{authToken:{requestStatus:0}}),[4,VA(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}return r}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function QA(t){return BA(t,(function(t){if(!XA(t))throw vA.create("not-registered");var e=t.authToken;return 1===e.requestStatus&&e.requestTime+lA<Date.now()?bo(bo({},t),{authToken:{requestStatus:0}}):t}))}function XA(t){return void 0!==t&&2===t.registrationStatus}function YA(t,e){return void 0===e&&(e=!1),wo(this,void 0,void 0,(function(){return _o(this,(function(n){switch(n.label){case 0:return[4,function(t){return wo(this,void 0,void 0,(function(){var e;return _o(this,(function(n){switch(n.label){case 0:return[4,zA(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}(t.appConfig)];case 1:return n.sent(),[4,KA(t,e)];case 2:return[2,n.sent().token]}}))}))}function $A(t,e){return wo(this,void 0,void 0,(function(){var n,r,i;return _o(this,(function(o){switch(o.label){case 0:return n=function(t,e){return e=e.fid,gA(t)+"/"+e}(t,e),i=_A(t,e),r={method:"DELETE",headers:i},[4,EA((function(){return fetch(n,r)}))];case 1:return(i=o.sent()).ok?[3,3]:[4,bA("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}}))}))}function JA(t,e){var n=t.appConfig;return function(t,e){xA();var n=NA(t);(t=AA.get(n))||(t=new Set,AA.set(n,t)),t.add(e)}(n,e),function(){var t,r,i;r=e,i=NA(t=n),(t=AA.get(i))&&(t.delete(r),0===t.size&&AA.delete(i),RA())}}function ZA(t){return vA.create("missing-app-config-values",{valueName:t})}(DA=$a).INTERNAL.registerComponent(new wa("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw ZA("App Configuration");if(!t.name)throw ZA("App Name");try{for(var r=Eo(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw ZA(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return wo(this,void 0,void 0,(function(){var e,n;return _o(this,(function(r){switch(r.label){case 0:return[4,zA(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(e.registrationPromise||KA(t)).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return YA(n,t)},delete:function(){return function(t){return wo(this,void 0,void 0,(function(){var e,n;return _o(this,(function(r){switch(r.label){case 0:return[4,BA(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw vA.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw vA.create("app-offline");case 3:return[4,$A(e,n)];case 4:return r.sent(),[4,qA(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return JA(n,t)}}}),"PUBLIC")),DA.registerVersion("@firebase/installations","0.4.17"),(j={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',j["only-available-in-window"]="This method is available in a Window context.",j["only-available-in-sw"]="This method is available in a service worker context.",j["permission-default"]="The notification permission was not granted and dismissed instead.",j["permission-blocked"]="The notification permission was not granted and blocked instead.",j["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",j["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",j["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",j["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",j["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",j["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",j["token-update-no-token"]="FCM returned no token when updating the user to push.",j["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",j["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",j["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",j["invalid-vapid-key"]="The public VAPID key must be a string.",j["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.";var tC,eC=new Qo("messaging","Messaging",Dr=j),nC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rC="https://fcmregistrations.googleapis.com/v1",iC="FCM_MSG",oC="google.c.a.c_id";function aC(t){return t=new Uint8Array(t),btoa(String.fromCharCode.apply(String,So(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(j=tC=tC||{}).PUSH_RECEIVED="push-received",j.NOTIFICATION_CLICKED="notification-clicked";var sC="fcm_token_details_db",uC=5,cC="fcm_token_object_Store";function lC(t){return wo(this,void 0,void 0,(function(){var e,n=this;return _o(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes(sC))return[2,null];r.label=2;case 2:return e=null,[4,uA(sC,uC,(function(r){return wo(n,void 0,void 0,(function(){var n,i,o;return _o(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(cC)?[4,(o=r.transaction.objectStore(cC)).index("fcmSenderId").get(t)]:[2];case 1:return n=a.sent(),[4,o.clear()];case 2:if(a.sent(),!n)return[2];if(2===r.oldVersion){if(!(i=n).auth||!i.p256dh||!i.endpoint)return[2];e={token:i.fcmToken,createTime:null!==(o=i.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"==typeof i.vapidKey?i.vapidKey:aC(i.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(i=n).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:aC(i.auth),p256dh:aC(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:aC(i.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,cA(sC)];case 4:return r.sent(),[4,cA("fcm_vapid_details_db")];case 5:return r.sent(),[4,cA("undefined")];case 6:return r.sent(),[2,function(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&0<t.createTime&&"string"==typeof t.token&&0<t.token.length&&"string"==typeof e.auth&&0<e.auth.length&&"string"==typeof e.p256dh&&0<e.p256dh.length&&"string"==typeof e.endpoint&&0<e.endpoint.length&&"string"==typeof e.swScope&&0<e.swScope.length&&"string"==typeof e.vapidKey&&0<e.vapidKey.length}(e)?e:null]}}))}))}var hC="firebase-messaging-database",fC=1,pC="firebase-messaging-store",dC=null;function vC(){return dC=dC||uA(hC,fC,(function(t){0===t.oldVersion&&t.createObjectStore(pC)}))}function yC(t){return wo(this,void 0,void 0,(function(){var e,n;return _o(this,(function(r){switch(r.label){case 0:return e=mC(t),[4,vC()];case 1:return[4,r.sent().transaction(pC).objectStore(pC).get(e)];case 2:return(e=r.sent())?[2,e]:[3,3];case 3:return[4,lC(t.appConfig.senderId)];case 4:return(n=r.sent())?[4,gC(t,n)]:[3,6];case 5:return r.sent(),[2,n];case 6:return[2]}}))}))}function gC(t,e){return wo(this,void 0,void 0,(function(){var n,r;return _o(this,(function(i){switch(i.label){case 0:return n=mC(t),[4,vC()];case 1:return[4,(r=(r=i.sent()).transaction(pC,"readwrite")).objectStore(pC).put(e,n)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2,e]}}))}))}function mC(t){return t.appConfig.appId}function bC(t,e){return wo(this,void 0,void 0,(function(){var n,r;return _o(this,(function(i){switch(i.label){case 0:return[4,_C(t)];case 1:n={method:"DELETE",headers:n=i.sent()},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(wC(t.appConfig)+"/"+e,n)];case 3:return[4,i.sent().json()];case 4:if((n=i.sent()).error)throw r=n.error.message,eC.create("token-unsubscribe-failed",{errorInfo:r});return[3,6];case 5:throw r=i.sent(),eC.create("token-unsubscribe-failed",{errorInfo:r});case 6:return[2]}}))}))}function wC(t){return t=t.projectId,rC+"/projects/"+t+"/registrations"}function _C(t){var e=t.appConfig,n=t.installations;return wo(this,void 0,void 0,(function(){var t;return _o(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function EC(t){var e=t.p256dh,n=t.auth;return e={web:{endpoint:t.endpoint,auth:n,p256dh:e}},(t=t.vapidKey)!==nC&&(e.web.applicationPubKey=t),e}function IC(t,e,n){return wo(this,void 0,void 0,(function(){var r,i,o;return _o(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw eC.create("permission-blocked");return[4,function(t,e){return wo(this,void 0,void 0,(function(){var n;return _o(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(t){t=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");for(var e=atob(t),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}(e)})]}}))}))}(e,n)];case 1:return o=a.sent(),[4,yC(t)];case 2:return r=a.sent(),i={vapidKey:n,swScope:e.scope,endpoint:o.endpoint,auth:aC(o.getKey("auth")),p256dh:aC(o.getKey("p256dh"))},r?[3,3]:[2,TC(t,i)];case 3:if(s=r.subscriptionOptions,c=(u=i).vapidKey===s.vapidKey,l=u.endpoint===s.endpoint,h=u.auth===s.auth,s=u.p256dh===s.p256dh,c&&l&&h&&s)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,bC(t,r.token)];case 5:return a.sent(),[3,7];case 6:return o=a.sent(),console.warn(o),[3,7];case 7:return[2,TC(t,i)];case 8:return Date.now()>=r.createTime+6048e5?[2,function(t,e,n){return wo(this,void 0,void 0,(function(){var r,i,o;return _o(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,function(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o;return _o(this,(function(a){switch(a.label){case 0:return[4,_C(t)];case 1:n=a.sent(),r=EC(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(wC(t.appConfig)+"/"+e.token,r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),eC.create("token-update-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,eC.create("token-update-failed",{errorInfo:o});if(!i.token)throw eC.create("token-update-no-token");return[2,i.token]}}))}))}(e,t)];case 1:return r=a.sent(),i=bo(bo({},t),{token:r,createTime:Date.now()}),[4,gC(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,SC(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}({token:r.token,createTime:Date.now(),subscriptionOptions:i},t,e)]:[2,r.token];case 9:return[2]}var s,u,c,l,h}))}))}function SC(t,e){return wo(this,void 0,void 0,(function(){var n;return _o(this,(function(r){switch(r.label){case 0:return[4,yC(t)];case 1:return(n=r.sent())?[4,bC(t,n.token)]:[3,4];case 2:return r.sent(),[4,function(t){return wo(this,void 0,void 0,(function(){var e,n;return _o(this,(function(r){switch(r.label){case 0:return e=mC(t),[4,vC()];case 1:return[4,(n=(n=r.sent()).transaction(pC,"readwrite")).objectStore(pC).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}}))}))}function TC(t,e){return wo(this,void 0,void 0,(function(){var n;return _o(this,(function(r){switch(r.label){case 0:return[4,function(t,e){return wo(this,void 0,void 0,(function(){var n,r,i,o;return _o(this,(function(a){switch(a.label){case 0:return[4,_C(t)];case 1:n=a.sent(),r=EC(e),r={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(wC(t.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),eC.create("token-subscribe-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,eC.create("token-subscribe-failed",{errorInfo:o});if(!i.token)throw eC.create("token-subscribe-no-token");return[2,i.token]}}))}))}(t,e)];case 1:return n={token:n=r.sent(),createTime:Date.now(),subscriptionOptions:e},[4,gC(t,n)];case 2:return r.sent(),[2,n.token]}}))}))}function kC(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n),(n=e.notification.body)&&(t.notification.body=n),(e=e.notification.image)&&(t.notification.image=e)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n),(e=e.fcmOptions.analytics_label)&&(t.fcmOptions.analyticsLabel=e)}}(e,t),e}function NC(t){return"object"==typeof t&&t&&oC in t}var AC=(Object.defineProperty(CC.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),CC.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw eC.create("invalid-bg-handler");this.bgMessageHandler=t},CC.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},CC.prototype.getToken=function(){var t;return wo(this,void 0,void 0,(function(){var e;return _o(this,(function(n){switch(n.label){case 0:return this.vapidKey?[3,2]:[4,yC(this.firebaseDependencies)];case 1:e=n.sent(),this.vapidKey=null!==(t=null===(t=null==e?void 0:e.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==t?t:nC,n.label=2;case 2:return[2,IC(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},CC.prototype.deleteToken=function(){return SC(this.firebaseDependencies,self.registration)},CC.prototype.requestPermission=function(){throw eC.create("only-available-in-window")},CC.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw eC.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw eC.create("invalid-vapid-key");this.vapidKey=t},CC.prototype.useServiceWorker=function(){throw eC.create("only-available-in-window")},CC.prototype.onMessage=function(){throw eC.create("only-available-in-window")},CC.prototype.onTokenRefresh=function(){throw eC.create("only-available-in-window")},CC.prototype.onPush=function(t){return wo(this,void 0,void 0,(function(){var e,n,r;return _o(this,(function(i){switch(i.label){case 0:return(r=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,OC()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(e=i.sent()).some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))?[2,function(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=tC.PUSH_RECEIVED;try{for(var i=Eo(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(e,r)]:(n=!1,r.notification?[4,function(t){var e=t.actions,n=Notification.maxActions;return e&&n&&e.length>n&&console.warn("This browser only supports "+n+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(n=t.title)&&void 0!==n?n:"",t)}(((s=bo({},(o=r).notification)).data=((a={})[iC]=o,a),s))]:[3,3]);case 2:i.sent(),n=!0,i.label=3;case 3:return!0===n&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(r=kC(r),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[2]}var o,a,s}))}))},CC.prototype.onSubChange=function(t){var e;return wo(this,void 0,void 0,(function(){var n;return _o(this,(function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,SC(this.firebaseDependencies,self.registration)];case 1:case 5:return r.sent(),[2];case 2:return[4,yC(this.firebaseDependencies)];case 3:return n=r.sent(),[4,SC(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,IC(this.firebaseDependencies,self.registration,null!==(e=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==e?e:nC)]}}))}))},CC.prototype.onNotificationClick=function(t){var e;return wo(this,void 0,void 0,(function(){var n,r,i,o,a;return _o(this,(function(s){switch(s.label){case 0:return(n=null===(e=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===e?void 0:e[iC])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var e,n=null!==(e=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==e?e:null===(n=t.notification)||void 0===n?void 0:n.click_action;return n||(NC(t.data)?self.location.origin:null)}(n))?(i=new URL(r,self.location.href),o=new URL(self.location.origin),i.host!==o.host?[2]:[4,function(t){return wo(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return _o(this,(function(u){switch(u.label){case 0:return[4,OC()];case 1:e=u.sent();try{for(n=Eo(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){a={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}(i)]):[2]):[2];case 1:return(a=s.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return a=s.sent(),[4,(u=3e3,new Promise((function(t){setTimeout(t,u)})))];case 3:return s.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=s.sent(),s.label=6;case 6:return a?(n.messageType=tC.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,[2,a.postMessage(n)]):[2]}var u}))}))},CC);function CC(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}function OC(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var PC=(Object.defineProperty(xC.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),xC.prototype.messageEventListener=function(t){return wo(this,void 0,void 0,(function(){var e,n;return _o(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===tC.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(i=Object.assign({},e)).messageType,delete i.isFirebaseMessaging,i)):this.onMessageCallback.next(Object.assign({},e))),NC(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}var i}))}))},xC.prototype.getVapidKey=function(){return this.vapidKey},xC.prototype.getSwReg=function(){return this.swRegistration},xC.prototype.getToken=function(t){return wo(this,void 0,void 0,(function(){return _o(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw eC.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,IC(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},xC.prototype.updateVapidKey=function(t){return wo(this,void 0,void 0,(function(){return _o(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=nC),[2]}))}))},xC.prototype.updateSwReg=function(t){return wo(this,void 0,void 0,(function(){return _o(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw eC.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},xC.prototype.registerDefaultSw=function(){return wo(this,void 0,void 0,(function(){var t;return _o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=e.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=e.sent(),eC.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},xC.prototype.deleteToken=function(){return wo(this,void 0,void 0,(function(){return _o(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,SC(this.firebaseDependencies,this.swRegistration)]}}))}))},xC.prototype.requestPermission=function(){return wo(this,void 0,void 0,(function(){var t;return _o(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?eC.create("permission-blocked"):eC.create("permission-default")}}))}))},xC.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw eC.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw eC.create("invalid-vapid-key");this.vapidKey=t},xC.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw eC.create("invalid-sw-registration");if(this.swRegistration)throw eC.create("use-sw-after-get-token");this.swRegistration=t},xC.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},xC.prototype.setBackgroundMessageHandler=function(){throw eC.create("only-available-in-sw")},xC.prototype.onBackgroundMessage=function(){throw eC.create("only-available-in-sw")},xC.prototype.onTokenRefresh=function(){return function(){}},xC.prototype.logEvent=function(t,e){return wo(this,void 0,void 0,(function(){var n;return _o(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case tC.NOTIFICATION_CLICKED:return"notification_open";case tC.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e[oC],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},xC);function xC(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}function RC(t){return eC.create("missing-app-config-values",{valueName:t})}function DC(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Dr={isSupported:DC},$a.INTERNAL.registerComponent(new wa("messaging",(function(t){var e=t.getProvider("app").getImmediate();if(t={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw RC("App Configuration Object");if(!t.name)throw RC("App Name");var r=t.options;try{for(var i=Eo(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw RC(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")},!DC())throw eC.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?AC:PC)(t)}),"PUBLIC").setServiceProps(Dr));var LC="firebasestorage.googleapis.com",MC=12e4,jC=6e5,FC=(UC.prototype.codeProp=function(){return this.code},UC.prototype.codeEquals=function(t){return qC(t)===this.codeProp()},UC.prototype.serverResponseProp=function(){return this.serverResponse_},UC.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(UC.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(UC.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(UC.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(UC.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),UC);function UC(t,e){this.code_=qC(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}var VC={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function qC(t){return"storage/"+t}function BC(){return new FC(VC.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function zC(){return new FC(VC.CANCELED,"User canceled the upload/download.")}function WC(){return new FC(VC.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HC(t,e,n){return new FC(VC.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function GC(){return new FC(VC.APP_DELETED,"The Firebase app was deleted.")}function KC(t,e){return new FC(VC.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function QC(t){throw new FC(VC.INTERNAL_ERROR,"Internal error: "+t)}var XC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function YC(t){switch(t){case XC.RAW:case XC.BASE64:case XC.BASE64URL:case XC.DATA_URL:return;default:throw"Expected one of the event types: ["+XC.RAW+", "+XC.BASE64+", "+XC.BASE64URL+", "+XC.DATA_URL+"]."}}var $C=function(t,e){this.data=t,this.contentType=e||null};function JC(t,e){switch(t){case XC.RAW:return new $C(ZC(e));case XC.BASE64:case XC.BASE64URL:return new $C(tO(t,e));case XC.DATA_URL:return new $C(function(t){return(t=new nO(t)).base64?tO(XC.BASE64,t.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw KC(XC.DATA_URL,"Malformed data URL.")}return ZC(e)}(t.rest)}(e),new nO(e).contentType)}throw BC()}function ZC(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function tO(t,e){switch(t){case XC.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw KC(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case XC.BASE64URL:if(r=-1!==e.indexOf("+"),n=-1!==e.indexOf("/"),r||n)throw KC(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(e)}catch(e){throw KC(t,"Invalid character found")}for(var o=new Uint8Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return o}var eO,nO=function(t){var e;if(this.base64=!1,(this.contentType=null)===(e=t.match(/^data:([^,]+)?,/)))throw KC(XC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=";base64",(e=r).length>=n.length&&e.substring(e.length-n.length)===n),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},rO={STATE_CHANGED:"state_changed"},iO="running",oO="pausing",aO="paused",sO="success",uO="canceling",cO="canceled",lO="error",hO={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fO(t){switch(t){case iO:case oO:case uO:return hO.RUNNING;case aO:return hO.PAUSED;case sO:return hO.SUCCESS;case cO:return hO.CANCELED;default:return hO.ERROR}}function pO(t){return null!=t}function dO(t){return void 0!==t}function vO(t){return"function"==typeof t}function yO(t){return"object"==typeof t}function gO(t){return"string"==typeof t||t instanceof String}function mO(t){return"number"==typeof t||t instanceof Number}function bO(t){return wO()&&t instanceof Blob}function wO(){return"undefined"!=typeof Blob}(j=eO=eO||{})[j.NO_ERROR=0]="NO_ERROR",j[j.NETWORK_ERROR=1]="NETWORK_ERROR",j[j.ABORT=2]="ABORT";var _O=(EO.prototype.send=function(t,e,n,r){if(this.sent_)throw QC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),pO(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return pO(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},EO.prototype.getErrorCode=function(){if(!this.sent_)throw QC("cannot .getErrorCode() before sending");return this.errorCode_},EO.prototype.getStatus=function(){if(!this.sent_)throw QC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(r){return-1}},EO.prototype.getResponseText=function(){if(!this.sent_)throw QC("cannot .getResponseText() before sending");return this.xhr_.responseText},EO.prototype.abort=function(){this.xhr_.abort()},EO.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},EO.prototype.addUploadProgressListener=function(t){pO(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},EO.prototype.removeUploadProgressListener=function(t){pO(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},EO);function EO(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=eO.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=eO.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=eO.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}var IO=(SO.prototype.createXhrIo=function(){return new _O},SO);function SO(){}function TO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(wO())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var kO=(NO.prototype.size=function(){return this.size_},NO.prototype.type=function(){return this.type_},NO.prototype.slice=function(t,e){if(bO(this.data_)){var n=this.data_;return null===(r=t,i=e,i=n.webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null)?null:new NO(i)}var r,i;return new NO(new Uint8Array(this.data_.buffer,t,e-t),!0)},NO.getBlob=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(wO()){var n=t.map((function(t){return t instanceof NO?t.data_:t}));return new NO(TO.apply(null,n))}n=t.map((function(t){return gO(t)?JC(XC.RAW,t).data:t.data_}));var r=0;n.forEach((function(t){r+=t.byteLength}));var i=new Uint8Array(r),o=0;return n.forEach((function(t){for(var e=0;e<t.length;e++)i[o++]=t[e]})),new NO(i,!0)},NO.prototype.uploadData=function(){return this.data_},NO);function NO(t,e){var n=0,r="";bO(t)?(n=(this.data_=t).size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}var AO=(Object.defineProperty(CO.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(CO.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),CO.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},CO.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},CO.makeFromBucketSpec=function(t){var e,n;try{e=CO.makeFromUrl(t)}catch(e){return new CO(t,"")}if(""===e.path)return e;throw n=t,new FC(VC.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")},CO.makeFromUrl=function(t){var e=null,n="([A-Za-z0-9.\\-_]+)",r=new RegExp("^gs://"+n+"(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o=LC.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+n+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+n+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var u=a[s],c=u.regex.exec(t);if(c){e=new CO(c[u.indices.bucket],c[u.indices.path]||""),u.postModify(e);break}}if(null==e)throw n=t,new FC(VC.INVALID_URL,"Invalid URL '"+n+"'.");return e},CO);function CO(t,e){this.bucket=t,this.path_=e}function OO(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return yO(n=e)&&!Array.isArray(n)?e:null}function PO(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function xO(t){return"https://"+LC+"/v0"+t}function RO(t){var e,n=encodeURIComponent,r="?";for(e in t)t.hasOwnProperty(e)&&(r=r+(n(e)+"=")+n(t[e])+"&");return r.slice(0,-1)}function DO(t,e){return e}var LO=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||DO},MO=null;function jO(){if(MO)return MO;var t=[];t.push(new LO("bucket")),t.push(new LO("generation")),t.push(new LO("metageneration")),t.push(new LO("name","fullPath",!0));var e=new LO("name");return e.xform=function(t,e){return!gO(e)||e.length<2?e:PO(e)},t.push(e),(e=new LO("size")).xform=function(t,e){return pO(e)?Number(e):e},t.push(e),t.push(new LO("timeCreated")),t.push(new LO("updated")),t.push(new LO("md5Hash",null,!0)),t.push(new LO("cacheControl",null,!0)),t.push(new LO("contentDisposition",null,!0)),t.push(new LO("contentEncoding",null,!0)),t.push(new LO("contentLanguage",null,!0)),t.push(new LO("contentType",null,!0)),t.push(new LO("metadata","customMetadata",!0)),MO=t}function FO(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath;return r=new AO(n,r),e.makeStorageReference(r)}})}function UO(t,e,n){return null===(e=OO(e))?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return FO(r,t),r}(t,e,n)}function VO(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function qO(t){if(!yO(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!yO(n))throw"Expected object for 'customMetadata' mapping."}else if(yO(n)&&null!==n)throw"Mapping for '"+e+"' cannot be an object."}}var BO="maxResults",zO=1e3,WO="pageToken",HO="prefixes",GO="items";function KO(t,e,n){return null===(n=OO(n))?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[HO])for(var i=0,o=n[HO];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new AO(e,a));r.prefixes.push(s)}if(n[GO])for(var u=0,c=n[GO];u<c.length;u++){var l=c[u];s=t.makeStorageReference(new AO(e,l.name)),r.items.push(s)}return r}(t,e,n)}function QO(t){if(!yO(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===BO){if(!mO(n=t[BO])||!Number.isInteger(n)||t[BO]<=0)throw"Expected maxResults to be a positive number.";if(1e3<t[BO])throw"Expected maxResults to be less than or equal to "+zO+"."}else{if(e!==WO)throw"Unknown option: "+e;if(t[WO]&&!gO(t[WO]))throw"Expected pageToken to be string."}var n}var XO=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function YO(t){if(!t)throw BC()}function $O(t,e){return function(n,r){return YO(null!==(r=UO(t,r,e))),r}}function JO(t,e){return function(n,r){return YO(null!==(r=KO(t,e,r))),r}}function ZO(t,e){return function(n,r){var i=UO(t,r,e);return YO(null!==i),function(t,e){if(null===(e=OO(e)))return null;if(!gO(e.downloadTokens))return null;if(0===(e=e.downloadTokens).length)return null;var n=encodeURIComponent;return e.split(",").map((function(e){var r=t.bucket,i=t.fullPath;return xO("/b/"+n(r)+"/o/"+n(i))+RO({alt:"media",token:e})}))[0]}(i,r)}}function tP(t){return function(e,n){var r,i=401===e.getStatus()?new FC(VC.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(r=t.bucket,new FC(VC.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,new FC(VC.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):n;return i.setServerResponseProp(n.serverResponseProp()),i}}function eP(t){var e=tP(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(n=t.path,i=new FC(VC.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function nP(t,e,n){var r=xO(e.fullServerUrl()),i=t.maxOperationRetryTime;return(i=new XO(r,"GET",$O(t,n),i)).errorHandler=eP(e),i}function rP(t,e,n){return(n=Object.assign({},n)).fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=(t=e,(e=null)&&e.contentType||t&&t.type()||"application/octet-stream")),n}function iP(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=rP(e,r,i);if(i="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+VO(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",s="\r\n--"+s+"--",null===(r=kO.getBlob(i,r,s)))throw WC();return s={name:u.fullPath},u=xO(o),o=t.maxUploadRetryTime,(o=new XO(u,"POST",$O(t,n),o)).urlParams=s,o.headers=a,o.body=r.uploadData(),o.errorHandler=tP(e),o}var oP=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function aP(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){YO(!1)}return YO(!!n&&-1!==(e||["active"]).indexOf(n)),n}function sP(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=rP(e,r,i);return i={name:a.fullPath},o=xO(o),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=VO(a,n),t=t.maxUploadRetryTime,t=new XO(o,"POST",(function(t){var e;aP(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){YO(!1)}return YO(gO(e)),e}),t),t.urlParams=i,t.headers=r,t.body=n,t.errorHandler=tP(e),t}function uP(t,e,n,r){return t=t.maxUploadRetryTime,t=new XO(n,"POST",(function(t){var e=aP(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){YO(!1)}n||YO(!1);var i=Number(n);return YO(!isNaN(i)),new oP(i,r.size(),"final"===e)}),t),t.headers={"X-Goog-Upload-Command":"query"},t.errorHandler=tP(e),t}function cP(t,e,n,r,i,o,a,s){var u=new oP(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new FC(VC.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;if(0<i&&(l=Math.min(l,i)),i=(a=u.current)+l,c={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},null===(a=r.slice(a,i)))throw WC();return i=e.maxUploadRetryTime,i=new XO(n,"POST",(function(t,n){var i=aP(t,["active","final"]),a=u.current+l,s=r.size();return n="final"===i?$O(e,o)(t,n):null,new oP(a,s,"final"===i,n)}),i),i.headers=c,i.body=a.uploadData(),i.progressCallback=s||null,i.errorHandler=tP(t),i}var lP=function(t,e,n){vO(t)||pO(e)||pO(n)?(this.next=t,this.error=e||null,this.complete=n||null):(this.next=t.next||null,this.error=t.error||null,this.complete=t.complete||null)},hP=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function fP(t,e,n){for(var r,i,o,a,s=e.length,u=e.length,c=0;c<e.length;c++)if(e[c].optional){s=c;break}if(!(s<=n.length&&n.length<=u))throw r=s,i=u,o=t,u=n.length,i=r===i?1===(a=r)?"argument":"arguments":(a="between "+r+" and "+i,"arguments"),new FC(VC.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+o+"`: Expected "+a+" "+i+", received "+u+".");for(c=0;c<n.length;c++)try{e[c].validator(n[c])}catch(e){throw e instanceof Error?HC(c,t,e.message):HC(c,t,e)}}var pP=function(t,e){var n=this;this.validator=function(e){n.optional&&!dO(e)||t(e)},this.optional=!!e};function dP(t,e){function n(t){if(!gO(t))throw"Expected string."}var r,i;return t=t?(r=n,i=t,function(t){r(t),i(t)}):n,new pP(t,e)}function vP(){return new pP((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||wO()&&t instanceof Blob))throw"Expected Blob or File."}))}function yP(t){return new pP(qO,t)}function gP(){return new pP((function(t){if(!(mO(t)&&0<=t))throw"Expected a number 0 or greater."}))}function mP(t,e){return new pP((function(e){if(!(null===e||pO(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function bP(t){return new pP((function(t){if(null!==t&&!vO(t))throw"Expected a Function."}),t)}function wP(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var _P=(EP.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},EP.prototype.shouldDoResumable_=function(t){return 262144<t.size()},EP.prototype.start_=function(){this.state_===iO&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},EP.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case iO:t(n);break;case uO:e.transition_(cO);break;case oO:e.transition_(aO)}}))},EP.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=sP(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_);e=t.service_.makeRequest(n,e),(t.request_=e).getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},EP.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=uP(t.service_,t.location_,e,t.blob_);n=t.service_.makeRequest(r,n),(t.request_=n).getPromise().then((function(e){t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},EP.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new oP(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=cP(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(i){return t.error_=i,void t.transition_(lO)}i=t.service_.makeRequest(o,i),(t.request_=i).getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(sO)):t.completeTransitions_()}),t.errorHandler_)}))},EP.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},EP.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=nP(t.service_,t.location_,t.mappings_);e=t.service_.makeRequest(n,e),(t.request_=e).getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(sO)}),t.metadataErrorHandler_)}))},EP.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=iP(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_);e=t.service_.makeRequest(n,e),(t.request_=e).getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(sO)}),t.errorHandler_)}))},EP.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},EP.prototype.transition_=function(t){if(this.state_!==t)switch(t){case uO:case oO:this.state_=t,null!==this.request_&&this.request_.cancel();break;case iO:var e=this.state_===aO;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case aO:this.state_=t,this.notifyObservers_();break;case cO:this.error_=zC(),this.state_=t,this.notifyObservers_();break;case lO:case sO:this.state_=t,this.notifyObservers_()}},EP.prototype.completeTransitions_=function(){switch(this.state_){case oO:this.transition_(aO);break;case uO:this.transition_(cO);break;case iO:this.start_()}},Object.defineProperty(EP.prototype,"snapshot",{get:function(){var t=fO(this.state_);return new hP(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),EP.prototype.on=function(t,e,n,r){var i="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=bP(!0).validator,a=mP(null,!0).validator;function s(t){try{return void o(t)}catch(t){}try{if(a(t),!(dO(t.next)||dO(t.error)||dO(t.complete)))throw"";return}catch(t){throw i}}fP("on",[dP((function(){if(t!==rO.STATE_CHANGED)throw"Expected one of the event types: ["+rO.STATE_CHANGED+"]."})),mP(s,!0),bP(!0),bP(!0)],arguments);var u=this;function c(t){return function(e,n,i){null!==t&&fP("on",t,arguments);var o=new lP(e,n,r);return u.addObserver_(o),function(){u.removeObserver_(o)}}}var l=[mP((function(t){if(null===t)throw i;s(t)})),bP(!0),bP(!0)];return dO(e)||dO(n)||dO(r)?c(null)(e,n,r):c(l)},EP.prototype.then=function(t,e){return this.promise_.then(t,e)},EP.prototype.catch=function(t){return this.then(null,t)},EP.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},EP.prototype.removeObserver_=function(t){-1!==(t=this.observers_.indexOf(t))&&this.observers_.splice(t,1)},EP.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},EP.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(fO(this.state_)){case hO.SUCCESS:wP(this.resolve_.bind(null,this.snapshot))();break;case hO.CANCELED:case hO.ERROR:wP(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},EP.prototype.notifyObserver_=function(t){switch(fO(this.state_)){case hO.RUNNING:case hO.PAUSED:t.next&&wP(t.next.bind(t,this.snapshot))();break;case hO.SUCCESS:t.complete&&wP(t.complete.bind(t))();break;case hO.CANCELED:case hO.ERROR:default:t.error&&wP(t.error.bind(t,this.error_))()}},EP.prototype.resume=function(){fP("resume",[],arguments);var t=this.state_===aO||this.state_===oO;return t&&this.transition_(iO),t},EP.prototype.pause=function(){fP("pause",[],arguments);var t=this.state_===iO;return t&&this.transition_(oO),t},EP.prototype.cancel=function(){fP("cancel",[],arguments);var t=this.state_===iO||this.state_===oO;return t&&this.transition_(uO),t},EP);function EP(t,e,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=iO,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(VC.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(lO))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(VC.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(lO))},this.promise_=new Promise((function(t,e){a.resolve_=t,a.reject_=e,a.start_()})),this.promise_.then(null,(function(){}))}var IP=(SP.prototype.toString=function(){return fP("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},SP.prototype.newRef=function(t,e){return new SP(t,e)},SP.prototype.mappings=jO,SP.prototype.child=function(t){var e;return fP("child",[dP()],arguments),e=this.location.path,t=t.split("/").filter((function(t){return 0<t.length})).join("/"),t=0===e.length?t:e+"/"+t,t=new AO(this.location.bucket,t),this.newRef(this.service,t)},Object.defineProperty(SP.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);return null===t?null:(t=new AO(this.location.bucket,t),this.newRef(this.service,t))},enumerable:!1,configurable:!0}),Object.defineProperty(SP.prototype,"root",{get:function(){var t=new AO(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(SP.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(SP.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(SP.prototype,"name",{get:function(){return PO(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(SP.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),SP.prototype.put=function(t,e){return void 0===e&&(e=null),fP("put",[vP(),yP(!0)],arguments),this.throwIfRoot_("put"),new _P(this,this.service,this.location,this.mappings(),new kO(t),e)},SP.prototype.putString=function(t,e,n){return void 0===e&&(e=XC.RAW),fP("putString",[dP(),dP(YC,!0),yP(!0)],arguments),this.throwIfRoot_("putString"),t=JC(e,t),!pO((n=Object.assign({},n)).contentType)&&pO(t.contentType)&&(n.contentType=t.contentType),new _P(this,this.service,this.location,this.mappings(),new kO(t.data,!0),n)},SP.prototype.delete=function(){var t=this;return fP("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n,r,i=(i=t.service,r=xO((n=t.location).fullServerUrl()),i=i.maxOperationRetryTime,(i=new XO(r,"DELETE",(function(t,e){}),i)).successCodes=[200,204],i.errorHandler=eP(n),i);return t.service.makeRequest(i,e).getPromise()}))},SP.prototype.listAll=function(){fP("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},SP.prototype.listAllHelper=function(t,e){return wo(this,void 0,void 0,(function(){var n,r;return _o(this,(function(i){switch(i.label){case 0:return r={pageToken:e},[4,this.list(r)];case 1:return n=i.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(r=t.items).push.apply(r,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},SP.prototype.list=function(t){fP("list",[new pP(QO,!0)],arguments);var e=this;return this.service.getAuthToken().then((function(n){var r,i,o,a,s=t||{},u=(r=e.service,i=e.location,o="/",a=s.pageToken,u=s.maxResults,s={},i.isRoot?s.prefix="":s.prefix=i.path+"/",o&&0<o.length&&(s.delimiter=o),a&&(s.pageToken=a),u&&(s.maxResults=u),a=xO(i.bucketOnlyServerUrl()),u=r.maxOperationRetryTime,(u=new XO(a,"GET",JO(r,i.bucket),u)).urlParams=s,u.errorHandler=tP(i),u);return e.service.makeRequest(u,n).getPromise()}))},SP.prototype.getMetadata=function(){var t=this;return fP("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=nP(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},SP.prototype.updateMetadata=function(t){var e=this;return fP("updateMetadata",[yP()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r,i,o,a,s,u=(r=e.service,i=e.location,u=t,o=e.mappings(),a=xO(i.fullServerUrl()),s=VO(u,o),u=r.maxOperationRetryTime,(u=new XO(a,"PATCH",$O(r,o),u)).headers={"Content-Type":"application/json; charset=utf-8"},u.body=s,u.errorHandler=eP(i),u);return e.service.makeRequest(u,n).getPromise()}))},SP.prototype.getDownloadURL=function(){var t=this;return fP("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n,r,i,o,a=(n=t.service,r=t.location,i=t.mappings(),o=xO(r.fullServerUrl()),a=n.maxOperationRetryTime,(a=new XO(o,"GET",ZO(n,i),a)).errorHandler=eP(r),a);return t.service.makeRequest(a,e).getPromise().then((function(t){if(null===t)throw new FC(VC.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t}))}))},SP.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw new FC(VC.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},SP);function SP(t,e){this.service=t,this.location=e instanceof AO?e:AO.makeFromUrl(e)}var TP=(kP.prototype.getPromise=function(){return this.promise_},kP.prototype.cancel=function(t){},kP);function kP(t){this.promise_=Promise.reject(t)}var NP=(AP.prototype.start_=function(){var t,e,n,r,i,o,a,s,u,c=this;function l(t,e){var n,r=c.resolve_,i=c.reject_,o=e.xhr;if(e.wasSuccessCode)try{var a=c.callback_(o,o.getResponseText());dO(a)?r(a):r()}catch(t){i(t)}else null!==o?((n=BC()).setServerResponseProp(o.getResponseText()),c.errorCallback_?i(c.errorCallback_(o,n)):i(n)):e.canceled?i(n=(c.appDelete_?GC:zC)()):i(n=new FC(VC.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}function h(){return 2===a}function f(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];s||(s=!0,e.apply(null,t))}function p(e){i=setTimeout((function(){i=null,t(d,h())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];s||(t||h()||o?f.call.apply(f,To([null,t],e)):(r<64&&(r*=2),p(1===a?(a=2,0):1e3*(r+Math.random()))))}function v(t){u||(u=!0,s||(null!==i?(t||(a=2),clearTimeout(i),p(0)):t||(a=1)))}this.canceled_?l(0,new CP(!1,null,!0)):this.backoffId_=(t=function(t,e){function n(t){var e=t.loaded;t=t.lengthComputable?t.total:-1,null!==c.progressCallback_&&c.progressCallback_(e,t)}e?t(!1,new CP(!1,null,!0)):(e=c.pool_.createXhrIo(),c.pendingXhr_=e,null!==c.progressCallback_&&e.addUploadProgressListener(n),e.send(c.url_,c.method_,c.body_,c.headers_).then((function(e){null!==c.progressCallback_&&e.removeUploadProgressListener(n),c.pendingXhr_=null;var r=e.getErrorCode()===eO.NO_ERROR,i=e.getStatus();r&&!c.isRetryStatusCode_(i)?(i=-1!==c.successCodes_.indexOf(i),t(!0,new CP(i,e))):(e=e.getErrorCode()===eO.ABORT,t(!1,new CP(!1,null,e)))})))},e=l,n=this.timeout_,i=null,u=s=o=!(r=1),p(a=0),setTimeout((function(){v(o=!0)}),n),v)},AP.prototype.getPromise=function(){return this.promise_},AP.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},AP.prototype.isRetryStatusCode_=function(t){var e=500<=t&&t<600,n=-1!==[408,429].indexOf(t);return t=-1!==this.additionalRetryCodes_.indexOf(t),e||n||t},AP);function AP(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}var CP=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function OP(t,e,n,r){var i=RO(t.urlParams),o=t.url+i,a=Object.assign({},t.headers);return i=a,e&&(i["X-Firebase-GMPID"]=e),e=a,null!==n&&0<n.length&&(e.Authorization="Firebase "+n),e=a,n=void 0!==$a?$a.SDK_VERSION:"AppManager",e["X-Firebase-Storage-Version"]="webjs/"+n,new NP(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}var PP=(xP.extractBucket_=function(t){return null==(t=null==t?void 0:t.storageBucket)?null:AO.makeFromBucketSpec(t)},xP.prototype.getAuthToken=function(){return wo(this,void 0,void 0,(function(){var t;return _o(this,(function(e){switch(e.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(t=e.sent()))return[2,t.accessToken];e.label=2;case 2:return[2,null]}}))}))},xP.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},xP.prototype.makeStorageReference=function(t){return new IP(this,t)},xP.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new TP(GC());var r=OP(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},xP.prototype.ref=function(t){if(fP("ref",[dP((function(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}),!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new IP(this,this.bucket_);return null!=t?e.child(t):e},xP.prototype.refFromURL=function(t){return fP("refFromURL",[dP((function(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{AO.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}),!1)],arguments),new IP(this,t)},Object.defineProperty(xP.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),xP.prototype.setMaxUploadRetryTime=function(t){fP("setMaxUploadRetryTime",[gP()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(xP.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),xP.prototype.setMaxOperationRetryTime=function(t){fP("setMaxOperationRetryTime",[gP()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(xP.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(xP.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),xP);function xP(t,e,n,r){this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=t,this.authProvider_=e,this.maxOperationRetryTime_=MC,this.maxUploadRetryTime_=jC,this.requests_=new Set,this.pool_=n,this.bucket_=null!=r?AO.makeFromBucketSpec(r):xP.extractBucket_(null===(r=this.app_)||void 0===r?void 0:r.options),this.internals_=new LP(this)}var RP,DP,LP=(MP.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},MP);function MP(t){this.service_=t}function jP(t,e){var n=t.getProvider("app").getImmediate();return t=t.getProvider("auth-internal"),new PP(n,t,new IO,e)}DP={TaskState:hO,TaskEvent:rO,StringFormat:XC,Storage:PP,Reference:IP},(RP=$a).INTERNAL.registerComponent(new wa("storage",jP,"PUBLIC").setServiceProps(DP).setMultipleInstances(!0)),RP.registerVersion("@firebase/storage","0.3.43");var FP,UP,VP="0.4.2",qP="FB-PERF-TRACE-MEASURE",BP="@firebase/performance/config",zP="@firebase/performance/configexpire",WP=(Dr="Performance",(j={})["trace started"]="Trace {$traceName} was started before.",j["trace stopped"]="Trace {$traceName} is not running.",j["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",j["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",j["no window"]="Window is not available.",j["no app id"]="App id is not available.",j["no project id"]="Project id is not available.",j["no api key"]="Api key is not available.",j["invalid cc log"]="Attempted to queue invalid cc event",j["FB not default"]="Performance can only start when Firebase app instance is the default one.",j["RC response not ok"]="RC response is not ok",j["invalid attribute name"]="Attribute name {$attributeName} is invalid.",j["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",j["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",j["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",new Qo("performance",Dr,j)),HP=new Da(Dr);HP.logLevel=Aa.INFO;var GP,KP=(QP.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},QP.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},QP.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},QP.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},QP.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},QP.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},QP.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!qo()||(HP.info("IndexedDB is not supported by current browswer"),!1):(HP.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},QP.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},QP.getInstance=function(){return void 0===FP&&(FP=new QP(UP)),FP},QP);function QP(t){if(!(this.window=t))throw WP.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}function XP(t,e){var n=t.length-e.length;if(n<0||1<n)throw WP.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var YP,$P,JP=(ZP.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw WP.create("no app id");return t},ZP.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw WP.create("no project id");return t},ZP.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw WP.create("no api key");return t},ZP.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},ZP.getInstance=function(){return void 0===GP&&(GP=new ZP),GP},ZP);function ZP(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=XP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=XP("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(Dr=$P=$P||{})[Dr.UNKNOWN=0]="UNKNOWN",Dr[Dr.VISIBLE=1]="VISIBLE",Dr[Dr.HIDDEN=2]="HIDDEN";var tx=["firebase_","google_","ga_"],ex=new RegExp("^[a-zA-Z]\\w*$");function nx(){switch(KP.getInstance().document.visibilityState){case"visible":return $P.VISIBLE;case"hidden":return $P.HIDDEN;default:return $P.UNKNOWN}}var rx="0.0.1",ix={loggingEnabled:!0},ox="FIREBASE_INSTALLATIONS_AUTH";function ax(t){var e,n=function(){var t=KP.getInstance().localStorage;if(t){var e=t.getItem(zP);if(e&&function(t){return Number(t)>Date.now()}(e)){var n=t.getItem(BP);if(n)try{return JSON.parse(n)}catch(t){return}}}}();return n?(ux(n),Promise.resolve()):(e=t,function(){var t=JP.getInstance().installationsService.getToken();return t.then((function(t){})),t}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+JP.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+JP.getInstance().getApiKey();return t=new Request(n,{method:"POST",headers:{Authorization:ox+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:JP.getInstance().getAppId(),app_version:VP,sdk_version:rx})}),fetch(t).then((function(t){if(t.ok)return t.json();throw WP.create("RC response not ok")}))})).catch((function(){HP.info(sx)})).then(ux).then((function(t){var e=KP.getInstance().localStorage;t&&e&&(e.setItem(BP,JSON.stringify(t)),e.setItem(zP,String(Date.now()+60*JP.getInstance().configTimeToLive*60*1e3)))}),(function(){})))}var sx="Could not fetch config, will use default configs";function ux(t){if(!t)return t;var e=JP.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):ix.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=cx(e.tracesSamplingRate),e.logNetworkAfterSampling=cx(e.networkRequestsSamplingRate),t}function cx(t){return Math.random()<=t}var lx,hx=1;function fx(){return hx=2,lx=lx||function(){var t=KP.getInstance().document;return new Promise((function(e){var n;t&&"complete"!==t.readyState?(n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())},t.addEventListener("readystatechange",n)):e()}))}().then((function(){return(t=JP.getInstance().installationsService.getId()).then((function(t){YP=t})),t;var t})).then(ax).then(px,px)}function px(){hx=3}var dx,vx=1e4,yx=5500,gx=3,mx=gx,bx=[],wx=!1;function _x(t){setTimeout((function(){if(0!==mx)return bx.length?void function(){var t=To(bx);bx=[];var e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=JP.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||HP.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=vx;isNaN(n)||(r=Math.max(n,r)),t=t.logResponseDetails,Array.isArray(t)&&0<t.length&&"RETRY_REQUEST_LATER"===t[0].responseAction&&(bx=To(e,bx),HP.info("Retry transport request later.")),mx=gx,_x(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:JP.getInstance().logSource,log_event:e},t).catch((function(){bx=To(t,bx),mx--,HP.info("Tries left: "+mx+"."),_x(vx)}))}():_x(vx)}),t)}function Ex(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!function(t){if(!t.eventTime||!t.message)throw WP.create("invalid cc log");bx=To(bx,[t])}({message:t.apply(void 0,e),eventTime:Date.now()})}}function Ix(t,e){(dx=dx||Ex(kx))(t,e)}function Sx(t){var e=JP.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&KP.getInstance().requiredApisAvailable()&&(t.isAuto&&nx()!==$P.VISIBLE||(3===hx?Tx(t):fx().then((function(){return Tx(t)}),(function(){return Tx(t)}))))}function Tx(t){var e;!YP||(e=JP.getInstance()).loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return Ix(t,1)}),0)}function kx(t,e){return(0===e?function(t){return t={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},t={application_info:Nx(),network_request_metric:t},JSON.stringify(t)}:function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};return 0!==Object.keys(t.counters).length&&(e.counters=t.counters),t=t.getAttributes(),0!==Object.keys(t).length&&(e.custom_attributes=t),e={application_info:Nx(),trace_metric:e},JSON.stringify(e)})(t)}function Nx(){return{google_app_id:JP.getInstance().getAppId(),app_instance_id:YP,web_app_info:{sdk_version:VP,page_url:KP.getInstance().getUrl(),service_worker_status:"serviceWorker"in(t=KP.getInstance().navigator)?t.serviceWorker.controller?2:3:1,visibility_state:nx(),effective_connection_type:function(){var t=KP.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}var Ax=["_fp","_fcp","_fid"],Cx=(Ox.prototype.start=function(){if(1!==this.state)throw WP.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},Ox.prototype.stop=function(){if(2!==this.state)throw WP.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Sx(this)},Ox.prototype.record=function(t,e,n){if(t<=0)throw WP.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw WP.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=bo({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Sx(this)},Ox.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},Ox.prototype.putMetric=function(t,e){if(n=t,r=this.name,0===n.length||100<n.length||!(r&&r.startsWith("_wt_")&&-1<Ax.indexOf(n))&&n.startsWith("_"))throw WP.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(t=e,(e=Math.floor(t))<t&&HP.info("Metric value should be an Integer, setting the value as : "+e+"."),e)},Ox.prototype.getMetric=function(t){return this.counters[t]||0},Ox.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||40<n.length)&&!tx.some((function(t){return n.startsWith(t)}))&&!!n.match(ex),i=0!==(i=e).length&&i.length<=100;if(r&&i)this.customAttributes[t]=e;else{if(!r)throw WP.create("invalid attribute name",{attributeName:t});if(!i)throw WP.create("invalid attribute value",{attributeValue:e})}},Ox.prototype.getAttribute=function(t){return this.customAttributes[t]},Ox.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},Ox.prototype.getAttributes=function(){return bo({},this.customAttributes)},Ox.prototype.setStartTime=function(t){this.startTimeUs=t},Ox.prototype.setDuration=function(t){this.durationUs=t},Ox.prototype.calculateTraceMetrics=function(){var t;(t=(t=this.api.getEntriesByName(this.traceMeasure))&&t[0])&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},Ox.createOobTrace=function(t,e,n){var r,i=KP.getInstance().getUrl();i&&(r=new Ox("_wt_"+i,!0),i=Math.floor(1e3*KP.getInstance().getTimeOrigin()),r.setStartTime(i),t&&t[0]&&(r.setDuration(Math.floor(1e3*t[0].duration)),r.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),r.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),r.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),e&&((t=e.find((function(t){return"first-paint"===t.name})))&&t.startTime&&r.putMetric("_fp",Math.floor(1e3*t.startTime)),(e=e.find((function(t){return"first-contentful-paint"===t.name})))&&e.startTime&&r.putMetric("_fcp",Math.floor(1e3*e.startTime)),n&&r.putMetric("_fid",Math.floor(1e3*n))),Sx(r))},Ox.createUserTimingTrace=function(t){Sx(new Ox(t,!1,t))},Ox);function Ox(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=KP.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||qP+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}function Px(t){var e,n,r,i=t;i&&void 0!==i.responseStart&&(n=KP.getInstance().getTimeOrigin(),r=Math.floor(1e3*(i.startTime+n)),t=i.responseStart?Math.floor(1e3*(i.responseStart-i.startTime)):void 0,n=Math.floor(1e3*(i.responseEnd-i.startTime)),i={url:i.name&&i.name.split("?")[0],responsePayloadBytes:i.transferSize,startTimeUs:r,timeToResponseInitiatedUs:t,timeToResponseCompletedUs:n},e=i,(r=JP.getInstance()).instrumentationEnabled&&(t=e.url,n=r.logEndPointUrl.split("?")[0],i=r.flTransportEndpointUrl.split("?")[0],t!==n&&t!==i&&r.loggingEnabled&&r.logNetworkAfterSampling&&setTimeout((function(){return Ix(e,0)}),0)))}var xx=5e3;function Rx(){YP&&(setTimeout((function(){var t,e=KP.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");e.onFirstInputDelay?(t=setTimeout((function(){Cx.createOobTrace(n,r),t=void 0}),xx),e.onFirstInputDelay((function(e){t&&(clearTimeout(t),Cx.createOobTrace(n,r,e))}))):Cx.createOobTrace(n,r)}),0),setTimeout((function(){for(var t=KP.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)Px(n[e]);t.setupObserver("resource",Px)}),0),setTimeout((function(){for(var t=KP.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)Dx(n[e]);t.setupObserver("measure",Dx)}),0))}function Dx(t){(t=t.name).substring(0,qP.length)!==qP&&Cx.createUserTimingTrace(t)}var Lx,Mx=(jx.prototype.trace=function(t){return new Cx(t)},Object.defineProperty(jx.prototype,"instrumentationEnabled",{get:function(){return JP.getInstance().instrumentationEnabled},set:function(t){JP.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(jx.prototype,"dataCollectionEnabled",{get:function(){return JP.getInstance().dataCollectionEnabled},set:function(t){JP.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),jx);function jx(t){this.app=t,KP.getInstance().requiredApisAvailable()&&Bo().then((function(t){t&&(wx||(_x(yx),wx=!0),fx().then(Rx,Rx))})).catch((function(t){HP.info("Environment doesn't support IndexedDB: "+t)}))}function Fx(t,e){if("[DEFAULT]"!==t.name)throw WP.create("FB not default");if("undefined"==typeof window)throw WP.create("no window");return UP=window,JP.getInstance().firebaseAppInstance=t,JP.getInstance().installationsService=e,new Mx(t)}(Lx=$a).INTERNAL.registerComponent(new wa("performance",(function(t){return Fx(t.getProvider("app").getImmediate(),t=t.getProvider("installations").getImmediate())}),"PUBLIC")),Lx.registerVersion("@firebase/performance","0.4.2");var Ux,Vx,qx="firebase_id",Bx="origin",zx=6e4,Wx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hx="https://www.googletagmanager.com/gtag/js";(Dr=Ux=Ux||{}).EVENT="event",Dr.SET="set",Dr.CONFIG="config",(Dr=Vx=Vx||{}).ADD_SHIPPING_INFO="add_shipping_info",Dr.ADD_PAYMENT_INFO="add_payment_info",Dr.ADD_TO_CART="add_to_cart",Dr.ADD_TO_WISHLIST="add_to_wishlist",Dr.BEGIN_CHECKOUT="begin_checkout",Dr.CHECKOUT_PROGRESS="checkout_progress",Dr.EXCEPTION="exception",Dr.GENERATE_LEAD="generate_lead",Dr.LOGIN="login",Dr.PAGE_VIEW="page_view",Dr.PURCHASE="purchase",Dr.REFUND="refund",Dr.REMOVE_FROM_CART="remove_from_cart",Dr.SCREEN_VIEW="screen_view",Dr.SEARCH="search",Dr.SELECT_CONTENT="select_content",Dr.SELECT_ITEM="select_item",Dr.SELECT_PROMOTION="select_promotion",Dr.SET_CHECKOUT_OPTION="set_checkout_option",Dr.SHARE="share",Dr.SIGN_UP="sign_up",Dr.TIMING_COMPLETE="timing_complete",Dr.VIEW_CART="view_cart",Dr.VIEW_ITEM="view_item",Dr.VIEW_ITEM_LIST="view_item_list",Dr.VIEW_PROMOTION="view_promotion",Dr.VIEW_SEARCH_RESULTS="view_search_results";var Gx=new Da("@firebase/analytics");function Kx(t,e,n,r){return function(i,o,a){return wo(this,void 0,void 0,(function(){var s;return _o(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Ux.EVENT?[3,2]:[4,function(t,e,n,r,i){return wo(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return _o(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(h=i.send_to,Array.isArray(h)||(h=[h]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),s=function(t){var n;if(!(n=(n=a.find((function(e){return e.measurementId===t})))&&e[n.appId]))return o=[],"break";o.push(n)},u=0,c=h;u<c.length&&(l=c[u],"break"!==s(l));u++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(Ux.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),Gx.error(h),[3,5];case 5:return[2]}}))}))}(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==Ux.CONFIG?[3,4]:[4,function(t,e,n,r,i,o){return wo(this,void 0,void 0,(function(){var a,s;return _o(this,(function(u){switch(u.label){case 0:a=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return(s=(s=u.sent()).find((function(t){return t.measurementId===i})))?[4,e[s.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return s=u.sent(),Gx.error(s),[3,8];case 8:return t(Ux.CONFIG,i,o),[2]}}))}))}(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(Ux.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Gx.error(s),[3,7];case 7:return[2]}}))}))}}(Dr={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Dr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Dr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Dr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Dr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Dr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Dr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Dr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Dr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.';var Qx=new Qo("analytics","Analytics",Dr),Xx=30;function Yx(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}var $x=new(Yx.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},Yx.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},Yx.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},Yx);function Jx(t){var e;return wo(this,void 0,void 0,(function(){var n,r,i,o;return _o(this,(function(a){switch(a.label){case 0:return n=t.appId,o=t.apiKey,o={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":o})},n=Wx.replace("{app-id}",n),[4,fetch(n,o)];case 1:if(200===(r=a.sent()).status||304===r.status)return[3,6];i="",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r.json()];case 3:return o=a.sent(),null!==(e=o.error)&&void 0!==e&&e.message&&(i=o.error.message),[3,5];case 4:return a.sent(),[3,5];case 5:throw Qx.create("config-fetch-failed",{httpStatus:r.status,responseMessage:i});case 6:return[2,r.json()]}}))}))}function Zx(t,e,n){return void 0===e&&(e=$x),wo(this,void 0,void 0,(function(){var r,i,o,a,s,u=this;return _o(this,(function(c){if(a=t.options,r=a.appId,i=a.apiKey,o=a.measurementId,!r)throw Qx.create("no-app-id");if(i)return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new eR,setTimeout((function(){return wo(u,void 0,void 0,(function(){return _o(this,(function(t){return s.abort(),[2]}))}))}),void 0!==n?n:zx),[2,function t(e,n,r,i){var o=n.throttleEndTimeMillis,a=n.backoffCount;return void 0===i&&(i=$x),wo(this,void 0,void 0,(function(){var n,s,u,c,l;return _o(this,(function(h){switch(h.label){case 0:n=e.appId,s=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,(f=r,p=o,new Promise((function(t,e){var n=Math.max(p-Date.now(),0),r=setTimeout(t,n);f.addEventListener((function(){clearTimeout(r),e(Qx.create("fetch-throttle",{throttleEndTimeMillis:p}))}))})))];case 2:return h.sent(),[3,4];case 3:if(c=h.sent(),s)return Gx.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:n,measurementId:s}];throw c;case 4:return h.trys.push([4,6,,7]),[4,Jx(e)];case 5:return l=h.sent(),i.deleteThrottleMetadata(n),[2,l];case 6:if(tR(u=h.sent()))return c=503===Number(u.httpStatus)?ba(a,i.intervalMillis,Xx):ba(a,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1},i.setThrottleMetadata(n,l),Gx.debug("Calling attemptFetch again in "+c+" millis"),[2,t(e,l,r,i)];if(i.deleteThrottleMetadata(n),s)return Gx.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:n,measurementId:s}];throw u;case 7:return[2]}var f,p}))}))}({appId:r,apiKey:i,measurementId:o},a,s,e)];if(o)return[2,{measurementId:o,appId:r}];throw Qx.create("no-api-key")}))}))}function tR(t){if(t instanceof Go)return 429===(t=Number(t.httpStatus))||500===t||503===t||504===t}var eR=(nR.prototype.addEventListener=function(t){this.listeners.push(t)},nR.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},nR);function nR(){this.listeners=[]}function rR(t,e,n,r,i){return wo(this,void 0,void 0,(function(){var o,a,s;return _o(this,(function(u){switch(u.label){case 0:return(o=Zx(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Gx.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return Gx.error(t)})),e.push(o),a=function(){return wo(this,void 0,void 0,(function(){var t;return _o(this,(function(e){switch(e.label){case 0:return qo()?[3,1]:(Gx.warn(Qx.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Bo()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Gx.warn(Qx.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,a])];case 1:return s=u.sent(),o=s[0],a=s[1],i("js",new Date),(s={})[Bx]="firebase",s.update=!0,null!=a&&(s[qx]=a),i(Ux.CONFIG,o.measurementId,s),[2,o.measurementId]}}))}))}var iR,oR,aR={},sR=[],uR={},cR="dataLayer",lR="gtag",hR=!1;function fR(t){if(hR)throw Qx.create("already-initialized");t.dataLayerName&&(cR=t.dataLayerName),t.gtagName&&(lR=t.gtagName)}function pR(t,e){n=[],Fo()&&n.push("This is a browser extension environment."),zo()||n.push("Cookies are not available."),0<n.length&&(n=n.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=Qx.create("invalid-analytics-context",{errorInfo:n}),Gx.warn(n.message));var n,r,i,o,a,s,u=t.options.appId;if(!u)throw Qx.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Qx.create("no-api-key");Gx.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=aR[u])throw Qx.create("already-exists",{id:u});return hR||(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Hx))return r}}()||(a=cR,(s=document.createElement("script")).src=Hx+"?l="+a,s.async=!0,document.head.appendChild(s)),i=cR,o=[],Array.isArray(window[i])?o=window[i]:window[i]=o,n=aR,a=sR,s=uR,r=cR,i=lR,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)},window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=Kx(o,n,a,s),i={gtagCore:o,wrappedGtag:window[i]},oR=i.wrappedGtag,iR=i.gtagCore,hR=!0),aR[u]=rR(t,sR,uR,e,iR),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return wo(this,void 0,void 0,(function(){var o;return _o(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(Ux.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),o=bo(bo({},r),{send_to:o}),t(Ux.EVENT,n,o),a.label=3;case 3:return[2]}}))}))})(oR,aR[u],t,e,n).catch((function(t){return Gx.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return wo(this,void 0,void 0,(function(){var i;return _o(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Ux.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Ux.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(oR,aR[u],t,e).catch((function(t){return Gx.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return wo(this,void 0,void 0,(function(){var i;return _o(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(Ux.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Ux.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(oR,aR[u],t,e).catch((function(t){return Gx.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return wo(this,void 0,void 0,(function(){var i,o,a,s,u;return _o(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(Ux.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(Ux.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(oR,aR[u],t,e).catch((function(t){return Gx.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return wo(this,void 0,void 0,(function(){var n;return _o(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(aR[u],t).catch((function(t){return Gx.error(t)}))},INTERNAL:{delete:function(){return delete aR[u],Promise.resolve()}}}}var dR,vR="analytics";function yR(){return wo(this,void 0,void 0,(function(){return _o(this,(function(t){switch(t.label){case 0:if(Fo())return[2,!1];if(!zo())return[2,!1];if(!qo())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Bo()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}(dR=$a).INTERNAL.registerComponent(new wa(vR,(function(t){return pR(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:fR,EventName:Vx,isSupported:yR})),dR.INTERNAL.registerComponent(new wa("analytics-internal",(function(t){try{return{logEvent:t.getProvider(vR).getImmediate().logEvent}}catch(t){throw Qx.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),dR.registerVersion("@firebase/analytics","0.6.0");var gR=(mR.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e;return e=n<=t,this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+e+"."),e},mR.prototype.fetch=function(t){return wo(this,void 0,void 0,(function(){var e,n,r;return _o(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return r=i.sent(),e=r[0],(r=r[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,e)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return n=i.sent(),r=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===n.status&&r.push(this.storage.setLastSuccessfulFetchResponse(n)),[4,Promise.all(r)];case 3:return i.sent(),[2,n]}}))}))},mR);function mR(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}(Dr={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Dr["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Dr["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Dr["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Dr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Dr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Dr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Dr["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Dr["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Dr["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Dr["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Dr["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Dr["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.";var bR=new Qo("remoteconfig","Remote Config",Dr),wR=(_R.prototype.fetch=function(t){return wo(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l;return _o(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:i=h.sent(),e=i[0],r=i[1],n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},r={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===f&&(f=navigator),f.languages&&f.languages[0]||f.language)},r={method:"POST",headers:n,body:JSON.stringify(r)},i=fetch(i,r),r=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([i,r])];case 3:return h.sent(),[4,i];case 4:return l=h.sent(),[3,6];case 5:throw r=h.sent(),i="fetch-client-network","AbortError"===r.name&&(i="fetch-timeout"),bR.create(i,{originalErrorMessage:r.message});case 6:if(o=l.status,a=l.headers.get("ETag")||void 0,200!==l.status)return[3,11];c=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,l.json()];case 8:return c=h.sent(),[3,10];case 9:throw l=h.sent(),bR.create("fetch-client-parse",{originalErrorMessage:l.message});case 10:s=c.entries,u=c.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===u?o=500:"NO_CHANGE"===u?o=304:"NO_TEMPLATE"!==u&&"EMPTY_CONFIG"!==u||(s={}),304!==o&&200!==o)throw bR.create("fetch-status",{httpStatus:o});return[2,{status:o,eTag:a,config:s}]}var f}))}))},_R);function _R(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}var ER=(IR.prototype.addEventListener=function(t){this.listeners.push(t)},IR.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},IR);function IR(){this.listeners=[]}var SR=["1","true","t","yes","y","on"],TR=(kR.prototype.asString=function(){return this._value},kR.prototype.asBoolean=function(){return"static"!==this._source&&0<=SR.indexOf(this._value.toLowerCase())},kR.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},kR.prototype.getSource=function(){return this._source},kR);function kR(t,e){void 0===e&&(e=""),this._source=t,this._value=e}var NR=(AR.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Aa.DEBUG;break;case"silent":this._logger.logLevel=Aa.SILENT;break;default:this._logger.logLevel=Aa.ERROR}},Object.defineProperty(AR.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(AR.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),AR.prototype.activate=function(){return wo(this,void 0,void 0,(function(){var t,e;return _o(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=n.sent(),t=e[0],e=e[1],t&&t.config&&t.eTag&&t.eTag!==e?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return n.sent(),[2,!0]}}))}))},AR.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},AR.prototype.fetch=function(){return wo(this,void 0,void 0,(function(){var t,e,n,r=this;return _o(this,(function(i){switch(i.label){case 0:t=new ER,setTimeout((function(){return wo(r,void 0,void 0,(function(){return _o(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),a="fetch-throttle",n=(o=e)instanceof Go&&-1!==o.code.indexOf(a)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o,a}))}))},AR.prototype.fetchAndActivate=function(){return wo(this,void 0,void 0,(function(){return _o(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},AR.prototype.getAll=function(){var t=this;return function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(bo(bo({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},AR.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},AR.prototype.getNumber=function(t){return this.getValue(t).asNumber()},AR.prototype.getString=function(t){return this.getValue(t).asString()},AR.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new TR("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new TR("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new TR("static"))},AR);function AR(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function CR(t,e){return t=t.target.error||void 0,bR.create(e,{originalErrorMessage:t&&t.message})}var OR="app_namespace_store",PR="firebase_remote_config",xR=1,RR=(DR.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},DR.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},DR.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},DR.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},DR.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},DR.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},DR.prototype.getActiveConfig=function(){return this.get("active_config")},DR.prototype.setActiveConfig=function(t){return this.set("active_config",t)},DR.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},DR.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},DR.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},DR.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},DR.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},DR.prototype.get=function(t){return wo(this,void 0,void 0,(function(){var e,n=this;return _o(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([OR],"readonly").objectStore(OR),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(CR(t,"storage-get"))},s.onsuccess=function(t){t=t.target.result,r(t?t.value:void 0)}}catch(o){i(bR.create("storage-get",{originalErrorMessage:o&&o.message}))}}))]}}))}))},DR.prototype.set=function(t,e){return wo(this,void 0,void 0,(function(){var n,r=this;return _o(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([OR],"readwrite").objectStore(OR),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(CR(t,"storage-set"))},u.onsuccess=function(){i()}}catch(i){o(bR.create("storage-set",{originalErrorMessage:i&&i.message}))}}))]}}))}))},DR.prototype.delete=function(t){return wo(this,void 0,void 0,(function(){var e,n=this;return _o(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([OR],"readwrite").objectStore(OR),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(CR(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(r){i(bR.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},DR.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},DR);function DR(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open(PR,xR);n.onerror=function(t){e(CR(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;0===t.oldVersion&&e.createObjectStore(OR,{keyPath:"compositeKey"})}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}var LR=(MR.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},MR.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},MR.prototype.getActiveConfig=function(){return this.activeConfig},MR.prototype.loadFromStorage=function(){return wo(this,void 0,void 0,(function(){var t,e,n;return _o(this,(function(r){switch(r.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(t=r.sent())&&(this.lastFetchStatus=t),[4,e];case 2:return(e=r.sent())&&(this.lastSuccessfulFetchTimestampMillis=e),[4,n];case 3:return(n=r.sent())&&(this.activeConfig=n),[2]}}))}))},MR.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},MR.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},MR.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},MR);function MR(t){this.storage=t}var jR=(FR.prototype.fetch=function(t){return wo(this,void 0,void 0,(function(){var e;return _o(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},FR.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return wo(this,void 0,void 0,(function(){var e,i;return _o(this,(function(o){switch(o.label){case 0:return[4,(a=t.signal,s=n,new Promise((function(t,e){var n=Math.max(s-Date.now(),0),r=setTimeout(t,n);a.addEventListener((function(){clearTimeout(r),e(bR.create("fetch-throttle",{throttleEndTimeMillis:s}))}))})))];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,e];case 5:if(!function(t){if(t instanceof Go)return 429===(t=Number(t.httpStatus))||500===t||503===t||504===t}(i=o.sent()))throw i;return i={throttleEndTimeMillis:Date.now()+ba(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(i)];case 6:return o.sent(),[2,this.attemptFetch(t,i)];case 7:return[2]}var a,s}))}))},FR);function FR(t,e){this.client=t,this.storage=e}var UR,VR="@firebase/remote-config";return(UR=$a).INTERNAL.registerComponent(new wa("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw bR.create("registration-window");var i=(s=n.options).projectId,o=s.apiKey,a=s.appId;if(!i)throw bR.create("registration-project-id");if(!o)throw bR.create("registration-api-key");if(!a)throw bR.create("registration-app-id");e=e||"firebase";var s,u=new RR(a,n.name,e);return t=new LR(u),(s=new Da(VR)).logLevel=Aa.ERROR,a=new wR(r,UR.SDK_VERSION,e,i,o,a),a=new jR(a,u),a=new gR(a,u,t,s),(s=new NR(n,a,t,u,s)).ensureInitialized(),s}),"PUBLIC").setMultipleInstances(!0)),UR.registerVersion(VR,"0.1.28"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),$a.registerVersion("firebase","7.24.0","cdn"),$a}()},2110:function(t,e,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(e),v=u(n),y=0;y<a.length;++y){var g=a[y];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var m=f(n,g);try{c(e,g,m)}catch(b){}}}}return e}},746:function(t,e){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case l:case h:case o:case s:case a:case p:return t;default:switch(t=t&&t.$$typeof){case c:case f:case y:case v:case u:return t;default:return e}}case i:return e}}}function E(t){return _(t)===h}e.AsyncMode=l,e.ConcurrentMode=h,e.ContextConsumer=c,e.ContextProvider=u,e.Element=r,e.ForwardRef=f,e.Fragment=o,e.Lazy=y,e.Memo=v,e.Portal=i,e.Profiler=s,e.StrictMode=a,e.Suspense=p,e.isAsyncMode=function(t){return E(t)||_(t)===l},e.isConcurrentMode=E,e.isContextConsumer=function(t){return _(t)===c},e.isContextProvider=function(t){return _(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return _(t)===f},e.isFragment=function(t){return _(t)===o},e.isLazy=function(t){return _(t)===y},e.isMemo=function(t){return _(t)===v},e.isPortal=function(t){return _(t)===i},e.isProfiler=function(t){return _(t)===s},e.isStrictMode=function(t){return _(t)===a},e.isSuspense=function(t){return _(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===h||t===s||t===a||t===p||t===d||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===v||t.$$typeof===u||t.$$typeof===c||t.$$typeof===f||t.$$typeof===m||t.$$typeof===b||t.$$typeof===w||t.$$typeof===g)},e.typeOf=_},8309:function(t,e,n){"use strict";t.exports=n(746)},5477:function(t,e,n){var r=n(2806),i=function(t){var e="",n=Object.keys(t);return n.forEach((function(i,o){var a=t[i];(function(t){return/[height|width]$/.test(t)})(i=r(i))&&"number"===typeof a&&(a+="px"),e+=!0===a?i:!1===a?"not "+i:"("+i+": "+a+")",o<n.length-1&&(e+=" and ")})),e};t.exports=function(t){var e="";return"string"===typeof t?t:t instanceof Array?(t.forEach((function(n,r){e+=i(n),r<t.length-1&&(e+=", ")})),e):i(t)}},5095:function(t,e,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),h=Object.prototype.toString,f=Math.max,p=Math.min,d=function(){return l.Date.now()};function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==h.call(t)}(t))return NaN;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=o.test(t);return n||a.test(t)?s(t.slice(2),n?2:8):i.test(t)?NaN:+t}t.exports=function(t,e,n){var r,i,o,a,s,u,c=0,l=!1,h=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=r,o=i;return r=i=void 0,c=e,a=t.apply(o,n)}function b(t){return c=t,s=setTimeout(_,e),l?m(t):a}function w(t){var n=t-u;return void 0===u||n>=e||n<0||h&&t-c>=o}function _(){var t=d();if(w(t))return E(t);s=setTimeout(_,function(t){var n=e-(t-u);return h?p(n,o-(t-c)):n}(t))}function E(t){return s=void 0,g&&r?m(t):(r=i=void 0,a)}function I(){var t=d(),n=w(t);if(r=arguments,i=this,u=t,n){if(void 0===s)return b(u);if(h)return s=setTimeout(_,e),m(u)}return void 0===s&&(s=setTimeout(_,e)),a}return e=y(e)||0,v(n)&&(l=!!n.leading,o=(h="maxWait"in n)?f(y(n.maxWait)||0,e):o,g="trailing"in n?!!n.trailing:g),I.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},I.flush=function(){return void 0===s?a:E(d())},I}},4463:function(t,e,n){"use strict";var r=n(2791),i=n(5296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},d={};function v(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){y[t]=new v(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];y[e]=new v(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){y[t]=new v(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){y[t]=new v(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){y[t]=new v(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){y[t]=new v(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){y[t]=new v(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){y[t]=new v(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){y[t]=new v(t,5,!1,t.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function m(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=y.hasOwnProperty(e)?y[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(d,t)||!h.call(p,t)&&(f.test(t)?d[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(g,m);y[e]=new v(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(g,m);y[e]=new v(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(g,m);y[e]=new v(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){y[t]=new v(t,1,!1,t.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){y[t]=new v(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=D&&t[D]||t["@@iterator"])?t:null}var M,j=Object.assign;function F(t){if(void 0===M)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);M=e&&e[1]||""}return"\n"+M+t}var U=!1;function V(t,e){if(!t||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?F(t):""}function q(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=V(t.type,!1);case 11:return t=V(t.type.render,!1);case 1:return t=V(t.type,!0);default:return""}}function B(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case I:return"Fragment";case E:return"Portal";case T:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case O:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case A:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case P:return null!==(e=t.displayName||null)?e:B(t.type)||"Memo";case x:e=t._payload,t=t._init;try{return B(t(e))}catch(n){}}return null}function z(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function H(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function G(t){t._valueTracker||(t._valueTracker=function(t){var e=H(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=H(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function X(t,e){var n=e.checked;return j({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Y(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function $(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){$(t,e);var n=W(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return j({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function ot(t,e){var n=W(e.value),r=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,lt,ht=(lt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return lt(t,e)}))}:lt);function ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dt=["Webkit","ms","Moz","O"];function vt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function yt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=vt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(pt).forEach((function(t){dt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var gt=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mt(t,e){if(e){if(gt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Et=null,It=null,St=null;function Tt(t){if(t=bi(t)){if("function"!==typeof Et)throw Error(o(280));var e=t.stateNode;e&&(e=_i(e),Et(t.stateNode,t.type,e))}}function kt(t){It?St?St.push(t):St=[t]:It=t}function Nt(){if(It){var t=It,e=St;if(St=It=null,Tt(t),e)for(t=0;t<e.length;t++)Tt(e[t])}}function At(t,e){return t(e)}function Ct(){}var Ot=!1;function Pt(t,e,n){if(Ot)return t(e,n);Ot=!0;try{return At(t,e,n)}finally{Ot=!1,(null!==It||null!==St)&&(Ct(),Nt())}}function xt(t,e){var n=t.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Rt=!1;if(l)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(lt){Rt=!1}function Lt(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}var Mt=!1,jt=null,Ft=!1,Ut=null,Vt={onError:function(t){Mt=!0,jt=t}};function qt(t,e,n,r,i,o,a,s,u){Mt=!1,jt=null,Lt.apply(Vt,arguments)}function Bt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function zt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(Bt(t)!==t)throw Error(o(188))}function Ht(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Bt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Wt(i),t;if(a===r)return Wt(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?Gt(t):null}function Gt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Gt(t);if(null!==e)return e;t=t.sibling}return null}var Kt=i.unstable_scheduleCallback,Qt=i.unstable_cancelCallback,Xt=i.unstable_shouldYield,Yt=i.unstable_requestPaint,$t=i.unstable_now,Jt=i.unstable_getCurrentPriorityLevel,Zt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(se(t)/ue|0)|0},se=Math.log,ue=Math.LN2;var ce=64,le=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=he(s):0!==(o&=a)&&(r=he(o))}else 0!==(a=n&~i)?r=he(a):0!==o&&(r=he(o));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function de(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ve(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function ye(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ge(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function me(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var _e,Ee,Ie,Se,Te,ke=!1,Ne=[],Ae=null,Ce=null,Oe=null,Pe=new Map,xe=new Map,Re=[],De="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Le(t,e){switch(t){case"focusin":case"focusout":Ae=null;break;case"dragenter":case"dragleave":Ce=null;break;case"mouseover":case"mouseout":Oe=null;break;case"pointerover":case"pointerout":Pe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xe.delete(e.pointerId)}}function Me(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=bi(e))&&Ee(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function je(t){var e=mi(t.target);if(null!==e){var n=Bt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=zt(n)))return t.blockedOn=e,void Te(t.priority,(function(){Ie(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Fe(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=bi(n))&&Ee(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);wt=r,n.target.dispatchEvent(r),wt=null,e.shift()}return!0}function Ue(t,e,n){Fe(t)&&n.delete(e)}function Ve(){ke=!1,null!==Ae&&Fe(Ae)&&(Ae=null),null!==Ce&&Fe(Ce)&&(Ce=null),null!==Oe&&Fe(Oe)&&(Oe=null),Pe.forEach(Ue),xe.forEach(Ue)}function qe(t,e){t.blockedOn===e&&(t.blockedOn=null,ke||(ke=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ve)))}function Be(t){function e(e){return qe(e,t)}if(0<Ne.length){qe(Ne[0],t);for(var n=1;n<Ne.length;n++){var r=Ne[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ae&&qe(Ae,t),null!==Ce&&qe(Ce,t),null!==Oe&&qe(Oe,t),Pe.forEach(e),xe.forEach(e),n=0;n<Re.length;n++)(r=Re[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Re.length&&null===(n=Re[0]).blockedOn;)je(n),null===n.blockedOn&&Re.shift()}var ze=w.ReactCurrentBatchConfig,We=!0;function He(t,e,n,r){var i=be,o=ze.transition;ze.transition=null;try{be=1,Ke(t,e,n,r)}finally{be=i,ze.transition=o}}function Ge(t,e,n,r){var i=be,o=ze.transition;ze.transition=null;try{be=4,Ke(t,e,n,r)}finally{be=i,ze.transition=o}}function Ke(t,e,n,r){if(We){var i=Xe(t,e,n,r);if(null===i)Wr(t,e,r,Qe,n),Le(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ae=Me(Ae,t,e,n,r,i),!0;case"dragenter":return Ce=Me(Ce,t,e,n,r,i),!0;case"mouseover":return Oe=Me(Oe,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pe.set(o,Me(Pe.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xe.set(o,Me(xe.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Le(t,r),4&e&&-1<De.indexOf(t)){for(;null!==i;){var o=bi(i);if(null!==o&&_e(o),null===(o=Xe(t,e,n,r))&&Wr(t,e,r,Qe,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(t,e,r,null,n)}}var Qe=null;function Xe(t,e,n,r){if(Qe=null,null!==(t=mi(t=_t(r))))if(null===(e=Bt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=zt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qe=t,null}function Ye(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var $e=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,r=n.length,i="value"in $e?$e.value:$e.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Ze=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),hn=j({},cn,{view:0,detail:0}),fn=on(hn),pn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&"mousemove"===t.type?(an=t.screenX-un.screenX,sn=t.screenY-un.screenY):sn=an=0,un=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),dn=on(pn),vn=on(j({},pn,{dataTransfer:0})),yn=on(j({},hn,{relatedTarget:0})),gn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=j({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=on(mn),wn=on(j({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=In[t])&&!!e[t]}function Tn(){return Sn}var kn=j({},hn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?En[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Nn=on(kn),An=on(j({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=on(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),On=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},pn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=on(Pn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(t,e){switch(t){case"keyup":return-1!==Rn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!zn[t.type]:"textarea"===e}function Hn(t,e,n,r){kt(r),0<(e=Gr(e,"onChange")).length&&(n=new ln("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gn=null,Kn=null;function Qn(t){Fr(t,0)}function Xn(t){if(K(wi(t)))return t}function Yn(t,e){if("change"===t)return e}var $n=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Zn="function"===typeof tr.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(t){if("value"===t.propertyName&&Xn(Kn)){var e=[];Hn(e,Kn,t,_t(t)),Pt(Qn,e)}}function rr(t,e,n){"focusin"===t?(er(),Kn=n,(Gn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xn(Kn)}function or(t,e){if("click"===t)return Xn(e)}function ar(t,e){if("input"===t||"change"===t)return Xn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ur(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lr(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fr(){for(var t=window,e=Q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Q((t=e.contentWindow).document)}return e}function pr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function dr(t){var e=fr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,mr=null,br=!1;function wr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Gr(gr,"onSelect")).length&&(e=new ln("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yr)))}function _r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Ir={},Sr={};function Tr(t){if(Ir[t])return Ir[t];if(!Er[t])return t;var e,n=Er[t];for(e in n)if(n.hasOwnProperty(e)&&e in Sr)return Ir[t]=n[e];return t}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=Tr("animationend"),Nr=Tr("animationiteration"),Ar=Tr("animationstart"),Cr=Tr("transitionend"),Or=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,e){Or.set(t,e),u(e,[t])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];xr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}xr(kr,"onAnimationEnd"),xr(Nr,"onAnimationIteration"),xr(Ar,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,u,c){if(qt.apply(this,arguments),Mt){if(!Mt)throw Error(o(198));var l=jt;Mt=!1,jt=null,Ft||(Ft=!0,Ut=l)}}(r,e,void 0,t),t.currentTarget=null}function Fr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;jr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;jr(i,s,c),o=u}}}if(Ft)throw t=Ut,Ft=!1,Ut=null,t}function Ur(t,e){var n=e[vi];void 0===n&&(n=e[vi]=new Set);var r=t+"__bubble";n.has(r)||(zr(e,t,2,!1),n.add(r))}function Vr(t,e,n){var r=0;e&&(r|=4),zr(n,t,r,e)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Br(t){if(!t[qr]){t[qr]=!0,a.forEach((function(e){"selectionchange"!==e&&(Mr.has(e)||Vr(e,!1,t),Vr(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[qr]||(e[qr]=!0,Vr("selectionchange",!1,e))}}function zr(t,e,n,r){switch(Ye(e)){case 1:var i=He;break;case 4:i=Ge;break;default:i=Ke}n=i.bind(null,e,n,t),i=void 0,!Rt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=mi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}Pt((function(){var r=o,i=_t(n),a=[];t:{var s=Or.get(t);if(void 0!==s){var u=ln,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case kr:case Nr:case Ar:u=gn;break;case Cr:u=On;break;case"scroll":u=fn;break;case"wheel":u=xn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&e),h=!l&&"scroll"===t,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,d=r;null!==d;){var v=(p=d).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=xt(d,f))&&l.push(Hr(d,v,p)))),h)break;d=d.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===wt||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[di])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(h=Bt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=dn,v="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(l=An,v="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==u?s:wi(u),p=null==c?s:wi(c),(s=new l(v,d+"leave",u,n,i)).target=h,s.relatedTarget=p,v=null,mi(i)===r&&((l=new l(f,d+"enter",c,n,i)).target=p,l.relatedTarget=h,v=l),h=v,u&&c)t:{for(f=c,d=0,p=l=u;p;p=Kr(p))d++;for(p=0,v=f;v;v=Kr(v))p++;for(;0<d-p;)l=Kr(l),d--;for(;0<p-d;)f=Kr(f),p--;for(;d--;){if(l===f||null!==f&&l===f.alternate)break t;l=Kr(l),f=Kr(f)}l=null}else l=null;null!==u&&Qr(a,s,u,l,!1),null!==c&&null!==h&&Qr(a,h,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Yn;else if(Wn(s))if($n)y=ar;else{y=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(t,r))?Hn(a,y,n,i):(g&&g(t,s,r),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&tt(s,"number",s.value)),g=r?wi(r):window,t){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(yr=g,gr=r,mr=null);break;case"focusout":mr=gr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,i)}var m;if(Dn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Bn?Vn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(m=tn()):(Je="value"in($e=i)?$e.value:$e.textContent,Bn=!0)),0<(g=Gr(r,b)).length&&(b=new wn(b,t,null,n,i),a.push({event:b,listeners:g}),m?b.data=m:null!==(m=qn(n))&&(b.data=m))),(m=Mn?function(t,e){switch(t){case"compositionend":return qn(e);case"keypress":return 32!==e.which?null:(Un=!0,Fn);case"textInput":return(t=e.data)===Fn&&Un?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!Dn&&Vn(t,e)?(t=tn(),Ze=Je=$e=null,Bn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Fr(a,e)}))}function Hr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=xt(t,n))&&r.unshift(Hr(t,o,i)),null!=(o=xt(t,e))&&r.push(Hr(t,o,i))),t=t.return}return r}function Kr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Qr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=xt(n,o))&&a.unshift(Hr(n,u,s)):i||null!=(u=xt(n,o))&&a.push(Hr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(t){return("string"===typeof t?t:""+t).replace(Xr,"\n").replace(Yr,"")}function Jr(t,e,n){if(e=$r(e),$r(t)!==e&&n)throw Error(o(425))}function Zr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function ui(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Be(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Be(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function li(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,pi="__reactProps$"+hi,di="__reactContainer$"+hi,vi="__reactEvents$"+hi,yi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function mi(t){var e=t[fi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[fi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=li(t);null!==t;){if(n=t[fi])return n;t=li(t)}return e}n=(t=n).parentNode}return null}function bi(t){return!(t=t[fi]||t[di])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function wi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function _i(t){return t[pi]||null}var Ei=[],Ii=-1;function Si(t){return{current:t}}function Ti(t){0>Ii||(t.current=Ei[Ii],Ei[Ii]=null,Ii--)}function ki(t,e){Ii++,Ei[Ii]=t.current,t.current=e}var Ni={},Ai=Si(Ni),Ci=Si(!1),Oi=Ni;function Pi(t,e){var n=t.type.contextTypes;if(!n)return Ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function xi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ri(){Ti(Ci),Ti(Ai)}function Di(t,e,n){if(Ai.current!==Ni)throw Error(o(168));ki(Ai,e),ki(Ci,n)}function Li(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,z(t)||"Unknown",i));return j({},n,r)}function Mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,Oi=Ai.current,ki(Ai,t),ki(Ci,Ci.current),!0}function ji(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Li(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,Ti(Ci),Ti(Ai),ki(Ai,t)):Ti(Ci),ki(Ci,n)}var Fi=null,Ui=!1,Vi=!1;function qi(t){null===Fi?Fi=[t]:Fi.push(t)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var t=0,e=be;try{var n=Fi;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(t+1)),Kt(Zt,Bi),i}finally{be=e,Vi=!1}}return null}var zi=[],Wi=0,Hi=null,Gi=0,Ki=[],Qi=0,Xi=null,Yi=1,$i="";function Ji(t,e){zi[Wi++]=Gi,zi[Wi++]=Hi,Hi=t,Gi=e}function Zi(t,e,n){Ki[Qi++]=Yi,Ki[Qi++]=$i,Ki[Qi++]=Xi,Xi=t;var r=Yi;t=$i;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-ae(e)+i|n<<i|r,$i=o+t}else Yi=1<<o|n<<i|r,$i=t}function to(t){null!==t.return&&(Ji(t,1),Zi(t,1,0))}function eo(t){for(;t===Hi;)Hi=zi[--Wi],zi[Wi]=null,Gi=zi[--Wi],zi[Wi]=null;for(;t===Xi;)Xi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Xi?{id:Yi,overflow:$i}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function uo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function co(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(uo(t))throw Error(o(418));e=ci(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(uo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function lo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return lo(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(uo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=ci(e.nextSibling)}if(lo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=ci(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?ci(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=ro;t;)t=ci(t.nextSibling)}function po(){ro=no=null,io=!1}function vo(t){null===oo?oo=[t]:oo.push(t)}var yo=w.ReactCurrentBatchConfig;function go(t,e){if(t&&t.defaultProps){for(var n in e=j({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var mo=Si(null),bo=null,wo=null,_o=null;function Eo(){_o=wo=bo=null}function Io(t){var e=mo.current;Ti(mo),t._currentValue=e}function So(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function To(t,e){bo=t,_o=wo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ws=!0),t.firstContext=null)}function ko(t){var e=t._currentValue;if(_o!==t)if(t={context:t,memoizedValue:e,next:null},null===wo){if(null===bo)throw Error(o(308));wo=t,bo.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var No=null;function Ao(t){null===No?No=[t]:No.push(t)}function Co(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Ao(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oo(t,r)}function Oo(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Po=!1;function xo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Do(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lo(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oo(t,n)}return null===(i=r.interleaved)?(e.next=e,Ao(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oo(t,n)}function Mo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,me(t,n)}}function jo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fo(t,e,n,r){var i=t.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=t.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var d=t,v=s;switch(f=e,p=n,v.tag){case 1:if("function"===typeof(d=v.payload)){h=d.call(p,h,f);break t}h=d;break t;case 3:d.flags=-65537&d.flags|128;case 0:if(null===(f="function"===typeof(d=v.payload)?d.call(p,h,f):d)||void 0===f)break t;h=j({},h,f);break t;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=p,u=h):l=l.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Mu|=a,t.lanes=a,t.memoizedState=h}}function Uo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function qo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:j({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Bo={isMounted:function(t){return!!(t=t._reactInternals)&&Bt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),o=Do(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Lo(t,o,i))&&(nc(e,t,i,r),Mo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),o=Do(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Lo(t,o,i))&&(nc(e,t,i,r),Mo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tc(),r=ec(t),i=Do(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Lo(t,i,r))&&(nc(e,t,r,n),Mo(e,t,r))}};function zo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Wo(t,e,n){var r=!1,i=Ni,o=e.contextType;return"object"===typeof o&&null!==o?o=ko(o):(i=xi(e)?Oi:Ai.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Pi(t,i):Ni),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Bo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ho(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bo.enqueueReplaceState(e,e.state,null)}function Go(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Vo,xo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ko(o):(o=xi(e)?Oi:Ai.current,i.context=Pi(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(qo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Fo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function Ko(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;e===Vo&&(e=i.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Qo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xo(t){return(0,t._init)(t._payload)}function Yo(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Rc(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=jc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var o=n.type;return o===I?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===x&&Xo(o)===e.type)?((r=i(e,n.props)).ref=Ko(t,e,n),r.return=t,r):((r=Dc(n.type,n.key,n.props,null,t.mode,r)).ref=Ko(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Fc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Lc(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=jc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(n=Dc(e.type,e.key,e.props,null,t.mode,n)).ref=Ko(t,null,e),n.return=t,n;case E:return(e=Fc(e,t.mode,n)).return=t,e;case x:return f(t,(0,e._init)(e._payload),n)}if(et(e)||L(e))return(e=Lc(e,t.mode,n,null)).return=t,e;Qo(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(t,e,n,r):null;case E:return n.key===i?l(t,e,n,r):null;case x:return p(t,e,(i=n._init)(n._payload),r)}if(et(n)||L(n))return null!==i?null:h(t,e,n,r,null);Qo(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case E:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i);case x:return d(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||L(r))return h(e,t=t.get(n)||null,r,i,null);Qo(e,r)}return null}function v(i,o,s,u){for(var c=null,l=null,h=o,v=o=0,y=null;null!==h&&v<s.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var g=p(i,h,s[v],u);if(null===g){null===h&&(h=y);break}t&&h&&null===g.alternate&&e(i,h),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,h=y}if(v===s.length)return n(i,h),io&&Ji(i,v),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(o=a(h,o,v),null===l?c=h:l.sibling=h,l=h);return io&&Ji(i,v),c}for(h=r(i,h);v<s.length;v++)null!==(y=d(h,i,v,s[v],u))&&(t&&null!==y.alternate&&h.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return t&&h.forEach((function(t){return e(i,t)})),io&&Ji(i,v),c}function y(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=p(i,v,m.value,c);if(null===b){null===v&&(v=g);break}t&&v&&null===b.alternate&&e(i,v),s=a(b,s,y),null===h?l=b:h.sibling=b,h=b,v=g}if(m.done)return n(i,v),io&&Ji(i,y),l;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=f(i,m.value,c))&&(s=a(m,s,y),null===h?l=m:h.sibling=m,h=m);return io&&Ji(i,y),l}for(v=r(i,v);!m.done;y++,m=u.next())null!==(m=d(v,i,y,m.value,c))&&(t&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=a(m,s,y),null===h?l=m:h.sibling=m,h=m);return t&&v.forEach((function(t){return e(i,t)})),io&&Ji(i,y),l}return function t(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===I&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:t:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===I){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break t}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===x&&Xo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Ko(r,l,a),o.return=r,r=o;break t}n(r,l);break}e(r,l),l=l.sibling}a.type===I?((o=Lc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Dc(a.type,a.key,a.props,null,r.mode,u)).ref=Ko(r,o,a),u.return=r,r=u)}return s(r);case E:t:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=Fc(a,r.mode,u)).return=r,r=o}return s(r);case x:return t(r,o,(l=a._init)(a._payload),u)}if(et(a))return v(r,o,a,u);if(L(a))return y(r,o,a,u);Qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var $o=Yo(!0),Jo=Yo(!1),Zo={},ta=Si(Zo),ea=Si(Zo),na=Si(Zo);function ra(t){if(t===Zo)throw Error(o(174));return t}function ia(t,e){switch(ki(na,e),ki(ea,t),ki(ta,Zo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ut(null,"");break;default:e=ut(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ti(ta),ki(ta,e)}function oa(){Ti(ta),Ti(ea),Ti(na)}function aa(t){ra(na.current);var e=ra(ta.current),n=ut(e,t.type);e!==n&&(ki(ea,t),ki(ta,n))}function sa(t){ea.current===t&&(Ti(ta),Ti(ea))}var ua=Si(0);function ca(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var la=[];function ha(){for(var t=0;t<la.length;t++)la[t]._workInProgressVersionPrimary=null;la.length=0}var fa=w.ReactCurrentDispatcher,pa=w.ReactCurrentBatchConfig,da=0,va=null,ya=null,ga=null,ma=!1,ba=!1,wa=0,_a=0;function Ea(){throw Error(o(321))}function Ia(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Sa(t,e,n,r,i,a){if(da=a,va=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fa.current=null===t||null===t.memoizedState?ss:us,t=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ga=ya=null,e.updateQueue=null,fa.current=cs,t=n(r,i)}while(ba)}if(fa.current=as,e=null!==ya&&null!==ya.next,da=0,ga=ya=va=null,ma=!1,e)throw Error(o(300));return t}function Ta(){var t=0!==wa;return wa=0,t}function ka(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?va.memoizedState=ga=t:ga=ga.next=t,ga}function Na(){if(null===ya){var t=va.alternate;t=null!==t?t.memoizedState:null}else t=ya.next;var e=null===ga?va.memoizedState:ga.next;if(null!==e)ga=e,ya=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ya=t).memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},null===ga?va.memoizedState=ga=t:ga=ga.next=t}return ga}function Aa(t,e){return"function"===typeof e?e(t):e}function Ca(t){var e=Na(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=ya,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var h=l.lane;if((da&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,va.lanes|=h,Mu|=h}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,e.memoizedState)||(ws=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,va.lanes|=a,Mu|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oa(t){var e=Na(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(ws=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function xa(t,e){var n=va,r=Na(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Wa(La.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ua(9,Da.bind(null,n,r,i,e),void 0,null),null===Cu)throw Error(o(349));0!==(30&da)||Ra(n,e,i)}return i}function Ra(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=va.updateQueue)?(e={lastEffect:null,stores:null},va.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Da(t,e,n,r){e.value=n,e.getSnapshot=r,Ma(e)&&ja(t)}function La(t,e,n){return n((function(){Ma(e)&&ja(t)}))}function Ma(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(r){return!0}}function ja(t){var e=Oo(t,1);null!==e&&nc(e,t,1,-1)}function Fa(t){var e=ka();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:t},e.queue=t,t=t.dispatch=ns.bind(null,va,t),[e.memoizedState,t]}function Ua(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=va.updateQueue)?(e={lastEffect:null,stores:null},va.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Va(){return Na().memoizedState}function qa(t,e,n,r){var i=ka();va.flags|=t,i.memoizedState=Ua(1|e,n,void 0,void 0===r?null:r)}function Ba(t,e,n,r){var i=Na();r=void 0===r?null:r;var o=void 0;if(null!==ya){var a=ya.memoizedState;if(o=a.destroy,null!==r&&Ia(r,a.deps))return void(i.memoizedState=Ua(e,n,o,r))}va.flags|=t,i.memoizedState=Ua(1|e,n,o,r)}function za(t,e){return qa(8390656,8,t,e)}function Wa(t,e){return Ba(2048,8,t,e)}function Ha(t,e){return Ba(4,2,t,e)}function Ga(t,e){return Ba(4,4,t,e)}function Ka(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Qa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ba(4,4,Ka.bind(null,e,t),n)}function Xa(){}function Ya(t,e){var n=Na();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ia(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $a(t,e){var n=Na();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ia(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ja(t,e,n){return 0===(21&da)?(t.baseState&&(t.baseState=!1,ws=!0),t.memoizedState=n):(sr(n,e)||(n=ve(),va.lanes|=n,Mu|=n,t.baseState=!0),e)}function Za(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=pa.transition;pa.transition={};try{t(!1),e()}finally{be=n,pa.transition=r}}function ts(){return Na().memoizedState}function es(t,e,n){var r=ec(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(t))is(e,n);else if(null!==(n=Co(t,e,n,r))){nc(n,t,r,tc()),os(n,e,r)}}function ns(t,e,n){var r=ec(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(t))is(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=e.interleaved;return null===u?(i.next=i,Ao(e)):(i.next=u.next,u.next=i),void(e.interleaved=i)}}catch(c){}null!==(n=Co(t,e,i,r))&&(nc(n,t,r,i=tc()),os(n,e,r))}}function rs(t){var e=t.alternate;return t===va||null!==e&&e===va}function is(t,e){ba=ma=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function os(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,me(t,n)}}var as={readContext:ko,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},ss={readContext:ko,useCallback:function(t,e){return ka().memoizedState=[t,void 0===e?null:e],t},useContext:ko,useEffect:za,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,qa(4194308,4,Ka.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qa(4194308,4,t,e)},useInsertionEffect:function(t,e){return qa(4,2,t,e)},useMemo:function(t,e){var n=ka();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ka();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=es.bind(null,va,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},ka().memoizedState=t},useState:Fa,useDebugValue:Xa,useDeferredValue:function(t){return ka().memoizedState=t},useTransition:function(){var t=Fa(!1),e=t[0];return t=Za.bind(null,t[1]),ka().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=va,i=ka();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Cu)throw Error(o(349));0!==(30&da)||Ra(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,za(La.bind(null,r,a,t),[t]),r.flags|=2048,Ua(9,Da.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ka(),e=Cu.identifierPrefix;if(io){var n=$i;e=":"+e+"R"+(n=(Yi&~(1<<32-ae(Yi)-1)).toString(32)+n),0<(n=wa++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=_a++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},us={readContext:ko,useCallback:Ya,useContext:ko,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:$a,useReducer:Ca,useRef:Va,useState:function(){return Ca(Aa)},useDebugValue:Xa,useDeferredValue:function(t){return Ja(Na(),ya.memoizedState,t)},useTransition:function(){return[Ca(Aa)[0],Na().memoizedState]},useMutableSource:Pa,useSyncExternalStore:xa,useId:ts,unstable_isNewReconciler:!1},cs={readContext:ko,useCallback:Ya,useContext:ko,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:$a,useReducer:Oa,useRef:Va,useState:function(){return Oa(Aa)},useDebugValue:Xa,useDeferredValue:function(t){var e=Na();return null===ya?e.memoizedState=t:Ja(e,ya.memoizedState,t)},useTransition:function(){return[Oa(Aa)[0],Na().memoizedState]},useMutableSource:Pa,useSyncExternalStore:xa,useId:ts,unstable_isNewReconciler:!1};function ls(t,e){try{var n="",r=e;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function hs(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function fs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function ds(t,e,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wu||(Wu=!0,Hu=r),fs(0,e)},n}function vs(t,e,n){(n=Do(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,e),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ys(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new ps;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Tc.bind(null,t,e,n),e.then(t,t))}function gs(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ms(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Do(-1,1)).tag=2,Lo(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var bs=w.ReactCurrentOwner,ws=!1;function _s(t,e,n,r){e.child=null===t?Jo(e,null,n,r):$o(e,t.child,n,r)}function Es(t,e,n,r,i){n=n.render;var o=e.ref;return To(e,i),r=Sa(t,e,n,r,o,i),n=Ta(),null===t||ws?(io&&n&&to(e),e.flags|=1,_s(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function Is(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||xc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Dc(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ss(t,e,o,r,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&t.ref===e.ref)return Ws(t,e,i)}return e.flags|=1,(t=Rc(o,r)).ref=e.ref,t.return=e,e.child=t}function Ss(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(ur(o,r)&&t.ref===e.ref){if(ws=!1,e.pendingProps=r=o,0===(t.lanes&i))return e.lanes=t.lanes,Ws(t,e,i);0!==(131072&t.flags)&&(ws=!0)}}return Ns(t,e,n,r,i)}function Ts(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ru,xu),xu|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ki(Ru,xu),xu|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Ru,xu),xu|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,ki(Ru,xu),xu|=r;return _s(t,e,i,n),e.child}function ks(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ns(t,e,n,r,i){var o=xi(n)?Oi:Ai.current;return o=Pi(e,o),To(e,i),n=Sa(t,e,n,r,o,i),r=Ta(),null===t||ws?(io&&r&&to(e),e.flags|=1,_s(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function As(t,e,n,r,i){if(xi(n)){var o=!0;Mi(e)}else o=!1;if(To(e,i),null===e.stateNode)zs(t,e),Wo(e,n,r),Go(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ko(c):c=Pi(e,c=xi(n)?Oi:Ai.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Ho(e,a,r,c),Po=!1;var f=e.memoizedState;a.state=f,Fo(e,r,a,i),u=e.memoizedState,s!==r||f!==u||Ci.current||Po?("function"===typeof l&&(qo(e,n,l,r),u=e.memoizedState),(s=Po||zo(e,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Ro(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:go(e.type,s),a.props=c,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ko(u):u=Pi(e,u=xi(n)?Oi:Ai.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&Ho(e,a,r,u),Po=!1,f=e.memoizedState,a.state=f,Fo(e,r,a,i);var d=e.memoizedState;s!==h||f!==d||Ci.current||Po?("function"===typeof p&&(qo(e,n,p,r),d=e.memoizedState),(c=Po||zo(e,n,c,r,f,d,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Cs(t,e,n,r,o,i)}function Cs(t,e,n,r,i,o){ks(t,e);var a=0!==(128&e.flags);if(!r&&!a)return i&&ji(e,n,!1),Ws(t,e,o);r=e.stateNode,bs.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=$o(e,t.child,null,o),e.child=$o(e,null,s,o)):_s(t,e,s,o),e.memoizedState=r.state,i&&ji(e,n,!0),e.child}function Os(t){var e=t.stateNode;e.pendingContext?Di(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Di(0,e.context,!1),ia(t,e.containerInfo)}function Ps(t,e,n,r,i){return po(),vo(i),e.flags|=256,_s(t,e,n,r),e.child}var xs,Rs,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(t){return{baseLanes:t,cachePool:null,transitions:null}}function js(t,e,n){var r,i=e.pendingProps,a=ua.current,s=!1,u=0!==(128&e.flags);if((r=u)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),ki(ua,1&a),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(u=i.children,t=i.fallback,s?(i=e.mode,s=e.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),t=Lc(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ms(n),e.memoizedState=Ls,t):Fs(e,u));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,Us(t,e,s,r=hs(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&$o(e,t.child,null,s),e.child.memoizedState=Ms(s),e.memoizedState=Ls,a);if(0===(1&e.mode))return Us(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(t,e,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&t.childLanes),ws||u){if(null!==(r=Cu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Oo(t,i),nc(r,t,i,-1))}return vc(),Us(t,e,s,r=hs(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Nc.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=ci(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Ki[Qi++]=Yi,Ki[Qi++]=$i,Ki[Qi++]=Xi,Yi=t.id,$i=t.overflow,Xi=e),(e=Fs(e,r.children)).flags|=4096,e)}(t,e,u,i,r,a,n);if(s){s=i.fallback,u=e.mode,r=(a=t.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,u=null===(u=t.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=t.childLanes&~n,e.memoizedState=Ls,i}return t=(s=t.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Fs(t,e){return(e=Mc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Us(t,e,n,r){return null!==r&&vo(r),$o(e,t.child,null,n),(t=Fs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Vs(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),So(t.return,e,n)}function qs(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(_s(t,e,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Vs(t,n,e);else if(19===t.tag)Vs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ki(ua,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ca(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qs(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ca(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qs(e,!0,n,null,o);break;case"together":qs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zs(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Mu|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Rc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Rc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Hs(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gs(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ks(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(e),null;case 1:case 17:return xi(e.type)&&Ri(),Gs(e),null;case 3:return r=e.stateNode,oa(),Ti(Ci),Ti(Ai),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(ac(oo),oo=null))),Gs(e),null;case 5:sa(e);var i=ra(na.current);if(n=e.type,null!==t&&null!=e.stateNode)Rs(t,e,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return Gs(e),null}if(t=ra(ta.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[fi]=e,r[pi]=a,t=0!==(1&e.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":it(r,a),Ur("invalid",r)}for(var u in mt(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[fi]=e,t[pi]=r,xs(t,e),e.stateNode=t;t:{switch(u=bt(n,r),n){case"dialog":Ur("cancel",t),Ur("close",t),i=r;break;case"iframe":case"object":case"embed":Ur("load",t),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],t);i=r;break;case"source":Ur("error",t),i=r;break;case"img":case"image":case"link":Ur("error",t),Ur("load",t),i=r;break;case"details":Ur("toggle",t),i=r;break;case"input":Y(t,r),i=X(t,r),Ur("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Ur("invalid",t)}for(a in mt(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?yt(t,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&ht(t,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&ft(t,l):"number"===typeof l&&ft(t,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",t):null!=l&&b(t,a,l,u))}switch(n){case"input":G(t),Z(t,r,!1);break;case"textarea":G(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+W(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Gs(e),null;case 6:if(t&&null!=e.stateNode)Ds(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ta.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[fi]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Jr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=e,e.stateNode=r}return Gs(e),null;case 13:if(Ti(ua),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Gs(e),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ua.current)?0===Du&&(Du=3):vc())),null!==e.updateQueue&&(e.flags|=4),Gs(e),null);case 4:return oa(),null===t&&Br(e.stateNode.containerInfo),Gs(e),null;case 10:return Io(e.type._context),Gs(e),null;case 19:if(Ti(ua),null===(a=e.memoizedState))return Gs(e),null;if(r=0!==(128&e.flags),null===(u=a.rendering))if(r)Hs(a,!1);else{if(0!==Du||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(u=ca(t))){for(e.flags|=128,Hs(a,!1),null!==(r=u.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ki(ua,1&ua.current|2),e.child}t=t.sibling}null!==a.tail&&$t()>Bu&&(e.flags|=128,r=!0,Hs(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ca(u))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Gs(e),null}else 2*$t()-a.renderingStartTime>Bu&&1073741824!==n&&(e.flags|=128,r=!0,Hs(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=a.last)?n.sibling=u:e.child=u,a.last=u)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=$t(),e.sibling=null,n=ua.current,ki(ua,r?1&n|2:1&n),e):(Gs(e),null);case 22:case 23:return hc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&xu)&&(Gs(e),6&e.subtreeFlags&&(e.flags|=8192)):Gs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Qs(t,e){switch(eo(e),e.tag){case 1:return xi(e.type)&&Ri(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return oa(),Ti(Ci),Ti(Ai),ha(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return sa(e),null;case 13:if(Ti(ua),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ti(ua),null;case 4:return oa(),null;case 10:return Io(e.type._context),null;case 22:case 23:return hc(),null;default:return null}}xs=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ra(ta.current);var o,a=null;switch(n){case"input":i=X(t,i),r=X(t,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Zr)}for(l in mt(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",t),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(e.updateQueue=l)&&(e.flags|=4)}},Ds=function(t,e,n,r){n!==r&&(e.flags|=4)};var Xs=!1,Ys=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(t,e,r)}else n.current=null}function tu(t,e,n){try{n()}catch(r){Sc(t,e,r)}}var eu=!1;function nu(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(e,n,o)}i=i.next}while(i!==r)}}function ru(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iu(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ou(t){var e=t.alternate;null!==e&&(t.alternate=null,ou(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fi],delete e[pi],delete e[vi],delete e[yi],delete e[gi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function au(t){return 5===t.tag||3===t.tag||4===t.tag}function su(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||au(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function uu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zr));else if(4!==r&&null!==(t=t.child))for(uu(t,e,n),t=t.sibling;null!==t;)uu(t,e,n),t=t.sibling}function cu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(cu(t,e,n),t=t.sibling;null!==t;)cu(t,e,n),t=t.sibling}var lu=null,hu=!1;function fu(t,e,n){for(n=n.child;null!==n;)pu(t,e,n),n=n.sibling}function pu(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,e);case 6:var r=lu,i=hu;lu=null,fu(t,e,n),hu=i,null!==(lu=r)&&(hu?(t=lu,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(hu?(t=lu,n=n.stateNode,8===t.nodeType?ui(t.parentNode,n):1===t.nodeType&&ui(t,n),Be(t)):ui(lu,n.stateNode));break;case 4:r=lu,i=hu,lu=n.stateNode.containerInfo,hu=!0,fu(t,e,n),lu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,e,a),i=i.next}while(i!==r)}fu(t,e,n);break;case 1:if(!Ys&&(Zs(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,e,s)}fu(t,e,n);break;case 21:fu(t,e,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fu(t,e,n),Ys=r):fu(t,e,n);break;default:fu(t,e,n)}}function du(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new $s),e.forEach((function(e){var r=Ac.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function vu(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,u=s;t:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,hu=!1;break t;case 3:case 4:lu=u.stateNode.containerInfo,hu=!0;break t}u=u.return}if(null===lu)throw Error(o(160));pu(a,s,i),lu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,e,l)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yu(e,t),e=e.sibling}function yu(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vu(e,t),gu(t),4&r){try{nu(3,t,t.return),ru(3,t)}catch(y){Sc(t,t.return,y)}try{nu(5,t,t.return)}catch(y){Sc(t,t.return,y)}}break;case 1:vu(e,t),gu(t),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(e,t),gu(t),512&r&&null!==n&&Zs(n,n.return),32&t.flags){var i=t.stateNode;try{ft(i,"")}catch(y){Sc(t,t.return,y)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,u=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&$(i,a),bt(u,s);var l=bt(u,a);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?yt(i,f):"dangerouslySetInnerHTML"===h?ht(i,f):"children"===h?ft(i,f):b(i,h,f,l)}switch(u){case"input":J(i,a);break;case"textarea":ot(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;null!=d?nt(i,!!a.multiple,d,!1):p!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(y){Sc(t,t.return,y)}}break;case 6:if(vu(e,t),gu(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){Sc(t,t.return,y)}}break;case 3:if(vu(e,t),gu(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Be(e.containerInfo)}catch(y){Sc(t,t.return,y)}break;case 4:default:vu(e,t),gu(t);break;case 13:vu(e,t),gu(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=$t())),4&r&&du(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Ys=(l=Ys)||h,vu(e,t),Ys=l):vu(e,t),gu(t),8192&r){if(l=null!==t.memoizedState,(t.stateNode.isHidden=l)&&!h&&0!==(1&t.mode))for(Js=t,h=t.child;null!==h;){for(f=Js=h;null!==Js;){switch(d=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:nu(4,p,p.return);break;case 1:Zs(p,p.return);var v=p.stateNode;if("function"===typeof v.componentWillUnmount){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Sc(r,n,y)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){_u(f);continue}}null!==d?(d.return=p,Js=d):_u(f)}h=h.sibling}t:for(h=null,f=t;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=vt("display",s))}catch(y){Sc(t,t.return,y)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(y){Sc(t,t.return,y)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(e,t),gu(t),4&r&&du(t);case 21:}}function gu(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(au(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ft(i,""),r.flags&=-33),cu(t,su(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(t,su(t),a);break;default:throw Error(o(161))}}catch(s){Sc(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function mu(t,e,n){Js=t,bu(t,e,n)}function bu(t,e,n){for(var r=0!==(1&t.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Xs;var c=Ys;if(Xs=a,(Ys=u)&&!c)for(Js=i;null!==Js;)u=(a=Js).child,22===a.tag&&null!==a.memoizedState?Eu(i):null!==u?(u.return=a,Js=u):Eu(i);for(;null!==o;)Js=o,bu(o,e,n),o=o.sibling;Js=i,Xs=s,Ys=c}wu(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wu(t)}}function wu(t){for(;null!==Js;){var e=Js;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ys||ru(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:go(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Uo(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Uo(e,s,n)}break;case 5:var u=e.stateNode;if(null===n&&4&e.flags){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var l=e.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Be(f)}}}break;default:throw Error(o(163))}Ys||512&e.flags&&iu(e)}catch(p){Sc(e,e.return,p)}}if(e===t){Js=null;break}if(null!==(n=e.sibling)){n.return=e.return,Js=n;break}Js=e.return}}function _u(t){for(;null!==Js;){var e=Js;if(e===t){Js=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Js=n;break}Js=e.return}}function Eu(t){for(;null!==Js;){var e=Js;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ru(4,e)}catch(u){Sc(e,n,u)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(u){Sc(e,i,u)}}var o=e.return;try{iu(e)}catch(u){Sc(e,o,u)}break;case 5:var a=e.return;try{iu(e)}catch(u){Sc(e,a,u)}}}catch(u){Sc(e,e.return,u)}if(e===t){Js=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Js=s;break}Js=e.return}}var Iu,Su=Math.ceil,Tu=w.ReactCurrentDispatcher,ku=w.ReactCurrentOwner,Nu=w.ReactCurrentBatchConfig,Au=0,Cu=null,Ou=null,Pu=0,xu=0,Ru=Si(0),Du=0,Lu=null,Mu=0,ju=0,Fu=0,Uu=null,Vu=null,qu=0,Bu=1/0,zu=null,Wu=!1,Hu=null,Gu=null,Ku=!1,Qu=null,Xu=0,Yu=0,$u=null,Ju=-1,Zu=0;function tc(){return 0!==(6&Au)?$t():-1!==Ju?Ju:Ju=$t()}function ec(t){return 0===(1&t.mode)?1:0!==(2&Au)&&0!==Pu?Pu&-Pu:null!==yo.transition?(0===Zu&&(Zu=ve()),Zu):0!==(t=be)?t:t=void 0===(t=window.event)?16:Ye(t.type)}function nc(t,e,n,r){if(50<Yu)throw Yu=0,$u=null,Error(o(185));ge(t,n,r),0!==(2&Au)&&t===Cu||(t===Cu&&(0===(2&Au)&&(ju|=n),4===Du&&sc(t,Pu)),rc(t,r),1===n&&0===Au&&0===(1&e.mode)&&(Bu=$t()+500,Ui&&Bi()))}function rc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=pe(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=fe(t,t===Cu?Pu:0);if(0===r)null!==n&&Qt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Qt(n),1===e)0===t.tag?function(t){Ui=!0,qi(t)}(uc.bind(null,t)):qi(uc.bind(null,t)),ai((function(){0===(6&Au)&&Bi()})),n=null;else{switch(we(r)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Cc(n,ic.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ic(t,e){if(Ju=-1,Zu=0,0!==(6&Au))throw Error(o(327));var n=t.callbackNode;if(Ec()&&t.callbackNode!==n)return null;var r=fe(t,t===Cu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=yc(t,r);else{e=r;var i=Au;Au|=2;var a=dc();for(Cu===t&&Pu===e||(zu=null,Bu=$t()+500,fc(t,e));;)try{mc();break}catch(u){pc(t,u)}Eo(),Tu.current=a,Au=i,null!==Ou?e=0:(Cu=null,Pu=0,e=Du)}if(0!==e){if(2===e&&(0!==(i=de(t))&&(r=i,e=oc(t,i))),1===e)throw n=Lu,fc(t,0),sc(t,r),rc(t,$t()),n;if(6===e)sc(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=yc(t,r))&&(0!==(a=de(t))&&(r=a,e=oc(t,a))),1===e))throw n=Lu,fc(t,0),sc(t,r),rc(t,$t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:_c(t,Vu,zu);break;case 3:if(sc(t,r),(130023424&r)===r&&10<(e=qu+500-$t())){if(0!==fe(t,0))break;if(((i=t.suspendedLanes)&r)!==r){tc(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(_c.bind(null,t,Vu,zu),e);break}_c(t,Vu,zu);break;case 4:if(sc(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$t()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){t.timeoutHandle=ri(_c.bind(null,t,Vu,zu),r);break}_c(t,Vu,zu);break;default:throw Error(o(329))}}}return rc(t,$t()),t.callbackNode===n?ic.bind(null,t):null}function oc(t,e){var n=Uu;return t.current.memoizedState.isDehydrated&&(fc(t,e).flags|=256),2!==(t=yc(t,e))&&(e=Vu,Vu=n,null!==e&&ac(e)),t}function ac(t){null===Vu?Vu=t:Vu.push.apply(Vu,t)}function sc(t,e){for(e&=~Fu,e&=~ju,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function uc(t){if(0!==(6&Au))throw Error(o(327));Ec();var e=fe(t,0);if(0===(1&e))return rc(t,$t()),null;var n=yc(t,e);if(0!==t.tag&&2===n){var r=de(t);0!==r&&(e=r,n=oc(t,r))}if(1===n)throw n=Lu,fc(t,0),sc(t,e),rc(t,$t()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_c(t,Vu,zu),rc(t,$t()),null}function cc(t,e){var n=Au;Au|=1;try{return t(e)}finally{0===(Au=n)&&(Bu=$t()+500,Ui&&Bi())}}function lc(t){null!==Qu&&0===Qu.tag&&0===(6&Au)&&Ec();var e=Au;Au|=1;var n=Nu.transition,r=be;try{if(Nu.transition=null,be=1,t)return t()}finally{be=r,Nu.transition=n,0===(6&(Au=e))&&Bi()}}function hc(){xu=Ru.current,Ti(Ru)}function fc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:oa(),Ti(Ci),Ti(Ai),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ti(ua);break;case 10:Io(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Cu=t,Ou=t=Rc(t.current,null),Pu=xu=e,Du=0,Lu=null,Fu=ju=Mu=0,Vu=Uu=null,null!==No){for(e=0;e<No.length;e++)if(null!==(r=(n=No[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}No=null}return t}function pc(t,e){for(;;){var n=Ou;try{if(Eo(),fa.current=as,ma){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ma=!1}if(da=0,ga=ya=va=null,ba=!1,wa=0,ku.current=null,null===n||null===n.return){Du=1,Lu=e,Ou=null;break}t:{var a=t,s=n.return,u=n,c=e;if(e=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=gs(s);if(null!==d){d.flags&=-257,ms(d,s,u,0,e),1&d.mode&&ys(a,l,e),c=l;var v=(e=d).updateQueue;if(null===v){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break t}if(0===(1&e)){ys(a,l,e),vc();break t}c=Error(o(426))}else if(io&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ms(g,s,u,0,e),vo(ls(c,u));break t}}a=c=ls(c,u),4!==Du&&(Du=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,jo(a,ds(0,c,e));break t;case 1:u=c;var m=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,jo(a,vs(a,u,e));break t}}a=a.return}while(null!==a)}wc(n)}catch(w){e=w,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function dc(){var t=Tu.current;return Tu.current=as,null===t?as:t}function vc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Cu||0===(268435455&Mu)&&0===(268435455&ju)||sc(Cu,Pu)}function yc(t,e){var n=Au;Au|=2;var r=dc();for(Cu===t&&Pu===e||(zu=null,fc(t,e));;)try{gc();break}catch(i){pc(t,i)}if(Eo(),Au=n,Tu.current=r,null!==Ou)throw Error(o(261));return Cu=null,Pu=0,Du}function gc(){for(;null!==Ou;)bc(Ou)}function mc(){for(;null!==Ou&&!Xt();)bc(Ou)}function bc(t){var e=Iu(t.alternate,t,xu);t.memoizedProps=t.pendingProps,null===e?wc(t):Ou=e,ku.current=null}function wc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ks(n,e,xu)))return void(Ou=n)}else{if(null!==(n=Qs(n,e)))return n.flags&=32767,void(Ou=n);if(null===t)return Du=6,void(Ou=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ou=e);Ou=e=t}while(null!==e);0===Du&&(Du=5)}function _c(t,e,n){var r=be,i=Nu.transition;try{Nu.transition=null,be=1,function(t,e,n,r){do{Ec()}while(null!==Qu);if(0!==(6&Au))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===Cu&&(Ou=Cu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Cc(ee,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nu.transition,Nu.transition=null;var s=be;be=1;var u=Au;Au|=4,ku.current=null,function(t,e){if(ti=We,pr(t=fr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break t}var s=0,u=-1,c=-1,l=0,h=0,f=t,p=null;e:for(;;){for(var d;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(d=f.firstChild);)p=f,f=d;for(;;){if(f===t)break e;if(p===n&&++l===i&&(u=s),p===a&&++h===r&&(c=s),null!==(d=f.nextSibling))break;p=(f=p).parentNode}f=d}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},We=!1,Js=e;null!==Js;)if(t=(e=Js).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Js=t;else for(;null!==Js;){e=Js;try{var v=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,g=v.memoizedState,m=e.stateNode,b=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:go(e.type,y),g);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){Sc(e,e.return,_)}if(null!==(t=e.sibling)){t.return=e.return,Js=t;break}Js=e.return}v=eu,eu=!1}(t,n),yu(n,t),dr(ei),We=!!ti,ei=ti=null,t.current=n,mu(n,t,i),Yt(),Au=u,be=s,Nu.transition=a}else t.current=n;if(Ku&&(Ku=!1,Qu=t,Xu=i),0===(a=t.pendingLanes)&&(Gu=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rc(t,$t()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)r((i=e[n]).value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,t=Hu,Hu=null,t;0!==(1&Xu)&&0!==t.tag&&Ec(),0!==(1&(a=t.pendingLanes))?t===$u?Yu++:(Yu=0,$u=t):Yu=0,Bi()}(t,e,n,r)}finally{Nu.transition=i,be=r}return null}function Ec(){if(null!==Qu){var t=we(Xu),e=Nu.transition,n=be;try{if(Nu.transition=null,be=16>t?16:t,null===Qu)var r=!1;else{if(t=Qu,Qu=null,Xu=0,0!==(6&Au))throw Error(o(331));var i=Au;for(Au|=4,Js=t.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:nu(8,h,a)}var f=h.child;if(null!==f)f.return=h,Js=f;else for(;null!==Js;){var p=(h=Js).sibling,d=h.return;if(ou(h),h===l){Js=null;break}if(null!==p){p.return=d,Js=p;break}Js=d}}}var v=a.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else t:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,Js=m;break t}Js=a.return}}var b=t.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else t:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(E){Sc(u,u.return,E)}if(u===s){Js=null;break t}var _=u.sibling;if(null!==_){_.return=u.return,Js=_;break t}Js=u.return}}if(Au=i,Bi(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(E){}r=!0}return r}finally{be=n,Nu.transition=e}}return!1}function Ic(t,e,n){t=Lo(t,e=ds(0,e=ls(n,e),1),1),e=tc(),null!==t&&(ge(t,1,e),rc(t,e))}function Sc(t,e,n){if(3===t.tag)Ic(t,t,n);else for(;null!==e;){if(3===e.tag){Ic(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){e=Lo(e,t=vs(e,t=ls(n,t),1),1),t=tc(),null!==e&&(ge(e,1,t),rc(e,t));break}}e=e.return}}function Tc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&n,Cu===t&&(Pu&n)===n&&(4===Du||3===Du&&(130023424&Pu)===Pu&&500>$t()-qu?fc(t,0):Fu|=n),rc(t,e)}function kc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=le,0===(130023424&(le<<=1))&&(le=4194304)));var n=tc();null!==(t=Oo(t,e))&&(ge(t,e,n),rc(t,n))}function Nc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),kc(t,n)}function Ac(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),kc(t,n)}function Cc(t,e){return Kt(t,e)}function Oc(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(t,e,n,r){return new Oc(t,e,n,r)}function xc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Rc(t,e){var n=t.alternate;return null===n?((n=Pc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dc(t,e,n,r,i,a){var s=2;if(r=t,"function"===typeof t)xc(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case I:return Lc(n.children,i,a,e);case S:s=8,i|=8;break;case T:return(t=Pc(12,n,e,2|i)).elementType=T,t.lanes=a,t;case C:return(t=Pc(13,n,e,i)).elementType=C,t.lanes=a,t;case O:return(t=Pc(19,n,e,i)).elementType=O,t.lanes=a,t;case R:return Mc(n,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case k:s=10;break t;case N:s=9;break t;case A:s=11;break t;case P:s=14;break t;case x:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Pc(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Lc(t,e,n,r){return(t=Pc(7,t,r,e)).lanes=n,t}function Mc(t,e,n,r){return(t=Pc(22,t,r,e)).elementType=R,t.lanes=n,t.stateNode={isHidden:!1},t}function jc(t,e,n){return(t=Pc(6,t,null,e)).lanes=n,t}function Fc(t,e,n){return(e=Pc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Uc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ye(0),this.expirationTimes=ye(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(t,e,n,r,i,o,a,s,u){return t=new Uc(t,e,n,s,u),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Pc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xo(o),t}function qc(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Bc(t){if(!t)return Ni;t:{if(Bt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(xi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(xi(n))return Li(t,n,e)}return e}function zc(t,e,n,r,i,o,a,s,u){return(t=Vc(n,r,!0,t,0,o,0,s,u)).context=Bc(null),n=t.current,(o=Do(r=tc(),i=ec(n))).callback=void 0!==e&&null!==e?e:null,Lo(n,o,i),t.current.lanes=i,ge(t,i,r),rc(t,r),t}function Wc(t,e,n,r){var i=e.current,o=tc(),a=ec(i);return n=Bc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Do(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Lo(i,e,a))&&(nc(t,i,a,o),Mo(t,i,a)),a}function Hc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Gc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Kc(t,e){Gc(t,e),(t=t.alternate)&&Gc(t,e)}Iu=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ci.current)ws=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return ws=!1,function(t,e,n){switch(e.tag){case 3:Os(e),po();break;case 5:aa(e);break;case 1:xi(e.type)&&Mi(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ki(mo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(ki(ua,1&ua.current),e.flags|=128,null):0!==(n&e.child.childLanes)?js(t,e,n):(ki(ua,1&ua.current),null!==(t=Ws(t,e,n))?t.sibling:null);ki(ua,1&ua.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Bs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ua,ua.current),r)break;return null;case 22:case 23:return e.lanes=0,Ts(t,e,n)}return Ws(t,e,n)}(t,e,n);ws=0!==(131072&t.flags)}else ws=!1,io&&0!==(1048576&e.flags)&&Zi(e,Gi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zs(t,e),t=e.pendingProps;var i=Pi(e,Ai.current);To(e,n),i=Sa(null,e,r,t,i,n);var a=Ta();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xi(r)?(a=!0,Mi(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,xo(e),i.updater=Bo,e.stateNode=i,i._reactInternals=e,Go(e,r,t,n),e=Cs(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),_s(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(zs(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return xc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===A)return 11;if(t===P)return 14}return 2}(r),t=go(r,t),i){case 0:e=Ns(null,e,r,t,n);break t;case 1:e=As(null,e,r,t,n);break t;case 11:e=Es(null,e,r,t,n);break t;case 14:e=Is(null,e,r,go(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ns(t,e,r,i=e.elementType===r?i:go(r,i),n);case 1:return r=e.type,i=e.pendingProps,As(t,e,r,i=e.elementType===r?i:go(r,i),n);case 3:t:{if(Os(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,Ro(t,e),Fo(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ps(t,e,r,n,i=ls(Error(o(423)),e));break t}if(r!==i){e=Ps(t,e,r,n,i=ls(Error(o(424)),e));break t}for(ro=ci(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=Jo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){e=Ws(t,e,n);break t}_s(t,e,r,n)}e=e.child}return e;case 5:return aa(e),null===t&&co(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),ks(t,e),_s(t,e,s,n),e.child;case 6:return null===t&&co(e),null;case 13:return js(t,e,n);case 4:return ia(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=$o(e,null,r,n):_s(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Es(t,e,r,i=e.elementType===r?i:go(r,i),n);case 7:return _s(t,e,e.pendingProps,n),e.child;case 8:case 12:return _s(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,ki(mo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ci.current){e=Ws(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Do(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),So(a.return,n,e),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),So(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,To(e,n),r=r(i=ko(i)),e.flags|=1,_s(t,e,r,n),e.child;case 14:return i=go(r=e.type,e.pendingProps),Is(t,e,r,i=go(r.type,i),n);case 15:return Ss(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),zs(t,e),e.tag=1,xi(r)?(t=!0,Mi(e)):t=!1,To(e,n),Wo(e,r,i),Go(e,r,i,n),Cs(null,e,r,!0,t,n);case 19:return Bs(t,e,n);case 22:return Ts(t,e,n)}throw Error(o(156,e.tag))};var Qc="function"===typeof reportError?reportError:function(t){console.error(t)};function Xc(t){this._internalRoot=t}function Yc(t){this._internalRoot=t}function $c(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zc(){}function tl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=Hc(a);s.call(t)}}Wc(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var t=Hc(a);o.call(t)}}var a=zc(e,r,t,0,null,!1,0,"",Zc);return t._reactRootContainer=a,t[di]=a.current,Br(8===t.nodeType?t.parentNode:t),lc(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var s=r;r=function(){var t=Hc(u);s.call(t)}}var u=Vc(t,0,!1,null,0,!1,0,"",Zc);return t._reactRootContainer=u,t[di]=u.current,Br(8===t.nodeType?t.parentNode:t),lc((function(){Wc(e,u,n,r)})),u}(n,e,t,i,r);return Hc(a)}Yc.prototype.render=Xc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Wc(t,e,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;lc((function(){Wc(null,t,null,null)})),e[di]=null}},Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Re.length&&0!==e&&e<Re[n].priority;n++);Re.splice(n,0,t),0===n&&je(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(me(e,1|n),rc(e,$t()),0===(6&Au)&&(Bu=$t()+500,Bi()))}break;case 13:lc((function(){var e=Oo(t,1);if(null!==e){var n=tc();nc(e,t,1,n)}})),Kc(t,1)}},Ee=function(t){if(13===t.tag){var e=Oo(t,134217728);if(null!==e)nc(e,t,134217728,tc());Kc(t,134217728)}},Ie=function(t){if(13===t.tag){var e=ec(t),n=Oo(t,e);if(null!==n)nc(n,t,e,tc());Kc(t,e)}},Se=function(){return be},Te=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},Et=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_i(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},At=cc,Ct=lc;var el={usingClientEntryPoint:!1,Events:[bi,wi,_i,kt,Nt,cc]},nl={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Ht(t))?null:t.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{ie=il.inject(rl),oe=il}catch(lt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(e))throw Error(o(200));return qc(t,e,null,n)},e.createRoot=function(t,e){if(!$c(t))throw Error(o(299));var n=!1,r="",i=Qc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Vc(t,1,!1,null,0,n,0,r,i),t[di]=e.current,Br(8===t.nodeType?t.parentNode:t),new Xc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Ht(e))?null:t.stateNode},e.flushSync=function(t){return lc(t)},e.hydrate=function(t,e,n){if(!Jc(e))throw Error(o(200));return tl(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!$c(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=zc(e,null,t,1,null!=n?n:null,i,0,a,s),t[di]=e.current,Br(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yc(e)},e.render=function(t,e,n){if(!Jc(e))throw Error(o(200));return tl(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(o(40));return!!t._reactRootContainer&&(lc((function(){tl(null,null,t,!1,(function(){t._reactRootContainer=null,t[di]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tl(t,e,n,!1,r)},e.version="18.2.0-next-9e3b772b8-20220608"},1250:function(t,e,n){"use strict";var r=n(4164);e.s=r.createRoot,r.hydrateRoot},4164:function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4463)},8459:function(t,e){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function g(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case o:case s:case a:case f:case p:return t;default:switch(t=t&&t.$$typeof){case l:case c:case h:case v:case d:case u:return t;default:return e}}case i:return e}}}n=Symbol.for("react.module.reference")},6900:function(t,e,n){"use strict";n(8459)},8436:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.PrevArrow=e.NextArrow=void 0;var i=s(n(2791)),o=s(n(1694)),a=n(8026);function s(t){return t&&t.__esModule?t:{default:t}}function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}var w=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return d(n,[{key:"clickHandler",value:function(t,e){e&&e.preventDefault(),this.props.clickHandler(t,e)}},{key:"render",value:function(){var t={"slick-arrow":!0,"slick-prev":!0},e=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(t["slick-disabled"]=!0,e=null);var n={key:"0","data-role":"none",className:(0,o.default)(t),style:{display:"block"},onClick:e},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,l(l({},n),r)):i.default.createElement("button",u({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent);e.PrevArrow=w;var _=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return d(n,[{key:"clickHandler",value:function(t,e){e&&e.preventDefault(),this.props.clickHandler(t,e)}},{key:"render",value:function(){var t={"slick-arrow":!0,"slick-next":!0},e=this.clickHandler.bind(this,{message:"next"});(0,a.canGoNext)(this.props)||(t["slick-disabled"]=!0,e=null);var n={key:"1","data-role":"none",className:(0,o.default)(t),style:{display:"block"},onClick:e},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,l(l({},n),r)):i.default.createElement("button",u({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent);e.NextArrow=_},5484:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(2791))&&r.__esModule?r:{default:r};var o={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(t){return i.default.createElement("ul",{style:{display:"block"}},t)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(t){return i.default.createElement("button",null,t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};e.default=o},3800:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Dots=void 0;var i=s(n(2791)),o=s(n(1694)),a=n(8026);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var y=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(d,t);var e,n,r,s=p(d);function d(){return l(this,d),s.apply(this,arguments)}return e=d,n=[{key:"clickHandler",value:function(t,e){e.preventDefault(),this.props.clickHandler(t)}},{key:"render",value:function(){for(var t,e=this.props,n=e.onMouseEnter,r=e.onMouseOver,s=e.onMouseLeave,l=e.infinite,h=e.slidesToScroll,f=e.slidesToShow,p=e.slideCount,d=e.currentSlide,v=(t={slideCount:p,slidesToScroll:h,slidesToShow:f,infinite:l}).infinite?Math.ceil(t.slideCount/t.slidesToScroll):Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,y={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},g=[],m=0;m<v;m++){var b=(m+1)*h-1,w=l?b:(0,a.clamp)(b,0,p-1),_=w-(h-1),E=l?_:(0,a.clamp)(_,0,p-1),I=(0,o.default)({"slick-active":l?d>=E&&d<=w:d===E}),S={message:"dots",index:m,slidesToScroll:h,currentSlide:d},T=this.clickHandler.bind(this,S);g=g.concat(i.default.createElement("li",{key:m,className:I},i.default.cloneElement(this.props.customPaging(m),{onClick:T})))}return i.default.cloneElement(this.props.appendDots(g),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({className:this.props.dotsClass},y))}}],n&&h(e.prototype,n),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(i.default.PureComponent);e.Dots=y},5717:function(t,e,n){"use strict";var r;e.Z=void 0;var i=((r=n(3178))&&r.__esModule?r:{default:r}).default;e.Z=i},1382:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};e.default=n},8293:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InnerSlider=void 0;var r=f(n(2791)),i=f(n(1382)),o=f(n(5095)),a=f(n(1694)),s=n(8026),u=n(4931),c=n(3800),l=n(8436),h=f(n(474));function f(t){return t&&t.__esModule?t:{default:t}}function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(){return d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(this,arguments)}function v(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}function w(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=I(t);if(e){var i=I(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(t,e){if(e&&("object"===p(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E(t)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(_,t);var e,n,f,y=w(_);function _(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_),S(E(e=y.call(this,t)),"listRefHandler",(function(t){return e.list=t})),S(E(e),"trackRefHandler",(function(t){return e.track=t})),S(E(e),"adaptHeight",(function(){if(e.props.adaptiveHeight&&e.list){var t=e.list.querySelector('[data-index="'.concat(e.state.currentSlide,'"]'));e.list.style.height=(0,s.getHeight)(t)+"px"}})),S(E(e),"componentDidMount",(function(){if(e.props.onInit&&e.props.onInit(),e.props.lazyLoad){var t=(0,s.getOnDemandLazySlides)(g(g({},e.props),e.state));t.length>0&&(e.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(t)}})),e.props.onLazyLoad&&e.props.onLazyLoad(t))}var n=g({listRef:e.list,trackRef:e.track},e.props);e.updateState(n,!0,(function(){e.adaptHeight(),e.props.autoplay&&e.autoPlay("update")})),"progressive"===e.props.lazyLoad&&(e.lazyLoadTimer=setInterval(e.progressiveLazyLoad,1e3)),e.ro=new h.default((function(){e.state.animating?(e.onWindowResized(!1),e.callbackTimers.push(setTimeout((function(){return e.onWindowResized()}),e.props.speed))):e.onWindowResized()})),e.ro.observe(e.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(t){t.onfocus=e.props.pauseOnFocus?e.onSlideFocus:null,t.onblur=e.props.pauseOnFocus?e.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",e.onWindowResized):window.attachEvent("onresize",e.onWindowResized)})),S(E(e),"componentWillUnmount",(function(){e.animationEndCallback&&clearTimeout(e.animationEndCallback),e.lazyLoadTimer&&clearInterval(e.lazyLoadTimer),e.callbackTimers.length&&(e.callbackTimers.forEach((function(t){return clearTimeout(t)})),e.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",e.onWindowResized):window.detachEvent("onresize",e.onWindowResized),e.autoplayTimer&&clearInterval(e.autoplayTimer),e.ro.disconnect()})),S(E(e),"componentDidUpdate",(function(t){if(e.checkImagesLoad(),e.props.onReInit&&e.props.onReInit(),e.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(g(g({},e.props),e.state));n.length>0&&(e.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(n)}})),e.props.onLazyLoad&&e.props.onLazyLoad(n))}e.adaptHeight();var i=g(g({listRef:e.list,trackRef:e.track},e.props),e.state),o=e.didPropsChange(t);o&&e.updateState(i,o,(function(){e.state.currentSlide>=r.default.Children.count(e.props.children)&&e.changeSlide({message:"index",index:r.default.Children.count(e.props.children)-e.props.slidesToShow,currentSlide:e.state.currentSlide}),e.props.autoplay?e.autoPlay("update"):e.pause("paused")}))})),S(E(e),"onWindowResized",(function(t){e.debouncedResize&&e.debouncedResize.cancel(),e.debouncedResize=(0,o.default)((function(){return e.resizeWindow(t)}),50),e.debouncedResize()})),S(E(e),"resizeWindow",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Boolean(e.track&&e.track.node);if(n){var r=g(g({listRef:e.list,trackRef:e.track},e.props),e.state);e.updateState(r,t,(function(){e.props.autoplay?e.autoPlay("update"):e.pause("paused")})),e.setState({animating:!1}),clearTimeout(e.animationEndCallback),delete e.animationEndCallback}})),S(E(e),"updateState",(function(t,n,i){var o=(0,s.initializedState)(t);t=g(g(g({},t),o),{},{slideIndex:o.currentSlide});var a=(0,s.getTrackLeft)(t);t=g(g({},t),{},{left:a});var u=(0,s.getTrackCSS)(t);(n||r.default.Children.count(e.props.children)!==r.default.Children.count(t.children))&&(o.trackStyle=u),e.setState(o,i)})),S(E(e),"ssrInit",(function(){if(e.props.variableWidth){var t=0,n=0,i=[],o=(0,s.getPreClones)(g(g(g({},e.props),e.state),{},{slideCount:e.props.children.length})),a=(0,s.getPostClones)(g(g(g({},e.props),e.state),{},{slideCount:e.props.children.length}));e.props.children.forEach((function(e){i.push(e.props.style.width),t+=e.props.style.width}));for(var u=0;u<o;u++)n+=i[i.length-1-u],t+=i[i.length-1-u];for(var c=0;c<a;c++)t+=i[c];for(var l=0;l<e.state.currentSlide;l++)n+=i[l];var h={width:t+"px",left:-n+"px"};if(e.props.centerMode){var f="".concat(i[e.state.currentSlide],"px");h.left="calc(".concat(h.left," + (100% - ").concat(f,") / 2 ) ")}return{trackStyle:h}}var p=r.default.Children.count(e.props.children),d=g(g(g({},e.props),e.state),{},{slideCount:p}),v=(0,s.getPreClones)(d)+(0,s.getPostClones)(d)+p,y=100/e.props.slidesToShow*v,m=100/v,b=-m*((0,s.getPreClones)(d)+e.state.currentSlide)*y/100;return e.props.centerMode&&(b+=(100-m*y/100)/2),{slideWidth:m+"%",trackStyle:{width:y+"%",left:b+"%"}}})),S(E(e),"checkImagesLoad",(function(){var t=e.list&&e.list.querySelectorAll&&e.list.querySelectorAll(".slick-slide img")||[],n=t.length,r=0;Array.prototype.forEach.call(t,(function(t){var i=function(){return++r&&r>=n&&e.onWindowResized()};if(t.onclick){var o=t.onclick;t.onclick=function(){o(),t.parentNode.focus()}}else t.onclick=function(){return t.parentNode.focus()};t.onload||(e.props.lazyLoad?t.onload=function(){e.adaptHeight(),e.callbackTimers.push(setTimeout(e.onWindowResized,e.props.speed))}:(t.onload=i,t.onerror=function(){i(),e.props.onLazyLoadError&&e.props.onLazyLoadError()}))}))})),S(E(e),"progressiveLazyLoad",(function(){for(var t=[],n=g(g({},e.props),e.state),r=e.state.currentSlide;r<e.state.slideCount+(0,s.getPostClones)(n);r++)if(e.state.lazyLoadedList.indexOf(r)<0){t.push(r);break}for(var i=e.state.currentSlide-1;i>=-(0,s.getPreClones)(n);i--)if(e.state.lazyLoadedList.indexOf(i)<0){t.push(i);break}t.length>0?(e.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(t)}})),e.props.onLazyLoad&&e.props.onLazyLoad(t)):e.lazyLoadTimer&&(clearInterval(e.lazyLoadTimer),delete e.lazyLoadTimer)})),S(E(e),"slideHandler",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props,i=r.asNavFor,o=r.beforeChange,a=r.onLazyLoad,u=r.speed,c=r.afterChange,l=e.state.currentSlide,h=(0,s.slideHandler)(g(g(g({index:t},e.props),e.state),{},{trackRef:e.track,useCSS:e.props.useCSS&&!n})),f=h.state,p=h.nextState;if(f){o&&o(l,f.currentSlide);var d=f.lazyLoadedList.filter((function(t){return e.state.lazyLoadedList.indexOf(t)<0}));a&&d.length>0&&a(d),!e.props.waitForAnimate&&e.animationEndCallback&&(clearTimeout(e.animationEndCallback),c&&c(l),delete e.animationEndCallback),e.setState(f,(function(){i&&e.asNavForIndex!==t&&(e.asNavForIndex=t,i.innerSlider.slideHandler(t)),p&&(e.animationEndCallback=setTimeout((function(){var t=p.animating,n=v(p,["animating"]);e.setState(n,(function(){e.callbackTimers.push(setTimeout((function(){return e.setState({animating:t})}),10)),c&&c(f.currentSlide),delete e.animationEndCallback}))}),u))}))}})),S(E(e),"changeSlide",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=g(g({},e.props),e.state),i=(0,s.changeSlide)(r,t);if((0===i||i)&&(!0===n?e.slideHandler(i,n):e.slideHandler(i),e.props.autoplay&&e.autoPlay("update"),e.props.focusOnSelect)){var o=e.list.querySelectorAll(".slick-current");o[0]&&o[0].focus()}})),S(E(e),"clickHandler",(function(t){!1===e.clickable&&(t.stopPropagation(),t.preventDefault()),e.clickable=!0})),S(E(e),"keyHandler",(function(t){var n=(0,s.keyHandler)(t,e.props.accessibility,e.props.rtl);""!==n&&e.changeSlide({message:n})})),S(E(e),"selectHandler",(function(t){e.changeSlide(t)})),S(E(e),"disableBodyScroll",(function(){window.ontouchmove=function(t){(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1}})),S(E(e),"enableBodyScroll",(function(){window.ontouchmove=null})),S(E(e),"swipeStart",(function(t){e.props.verticalSwiping&&e.disableBodyScroll();var n=(0,s.swipeStart)(t,e.props.swipe,e.props.draggable);""!==n&&e.setState(n)})),S(E(e),"swipeMove",(function(t){var n=(0,s.swipeMove)(t,g(g(g({},e.props),e.state),{},{trackRef:e.track,listRef:e.list,slideIndex:e.state.currentSlide}));n&&(n.swiping&&(e.clickable=!1),e.setState(n))})),S(E(e),"swipeEnd",(function(t){var n=(0,s.swipeEnd)(t,g(g(g({},e.props),e.state),{},{trackRef:e.track,listRef:e.list,slideIndex:e.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,e.setState(n),void 0!==r&&(e.slideHandler(r),e.props.verticalSwiping&&e.enableBodyScroll())}})),S(E(e),"touchEnd",(function(t){e.swipeEnd(t),e.clickable=!0})),S(E(e),"slickPrev",(function(){e.callbackTimers.push(setTimeout((function(){return e.changeSlide({message:"previous"})}),0))})),S(E(e),"slickNext",(function(){e.callbackTimers.push(setTimeout((function(){return e.changeSlide({message:"next"})}),0))})),S(E(e),"slickGoTo",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t=Number(t),isNaN(t))return"";e.callbackTimers.push(setTimeout((function(){return e.changeSlide({message:"index",index:t,currentSlide:e.state.currentSlide},n)}),0))})),S(E(e),"play",(function(){var t;if(e.props.rtl)t=e.state.currentSlide-e.props.slidesToScroll;else{if(!(0,s.canGoNext)(g(g({},e.props),e.state)))return!1;t=e.state.currentSlide+e.props.slidesToScroll}e.slideHandler(t)})),S(E(e),"autoPlay",(function(t){e.autoplayTimer&&clearInterval(e.autoplayTimer);var n=e.state.autoplaying;if("update"===t){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===t){if("paused"===n||"focused"===n)return}else if("blur"===t&&("paused"===n||"hovered"===n))return;e.autoplayTimer=setInterval(e.play,e.props.autoplaySpeed+50),e.setState({autoplaying:"playing"})})),S(E(e),"pause",(function(t){e.autoplayTimer&&(clearInterval(e.autoplayTimer),e.autoplayTimer=null);var n=e.state.autoplaying;"paused"===t?e.setState({autoplaying:"paused"}):"focused"===t?"hovered"!==n&&"playing"!==n||e.setState({autoplaying:"focused"}):"playing"===n&&e.setState({autoplaying:"hovered"})})),S(E(e),"onDotsOver",(function(){return e.props.autoplay&&e.pause("hovered")})),S(E(e),"onDotsLeave",(function(){return e.props.autoplay&&"hovered"===e.state.autoplaying&&e.autoPlay("leave")})),S(E(e),"onTrackOver",(function(){return e.props.autoplay&&e.pause("hovered")})),S(E(e),"onTrackLeave",(function(){return e.props.autoplay&&"hovered"===e.state.autoplaying&&e.autoPlay("leave")})),S(E(e),"onSlideFocus",(function(){return e.props.autoplay&&e.pause("focused")})),S(E(e),"onSlideBlur",(function(){return e.props.autoplay&&"focused"===e.state.autoplaying&&e.autoPlay("blur")})),S(E(e),"render",(function(){var t,n,i,o=(0,a.default)("slick-slider",e.props.className,{"slick-vertical":e.props.vertical,"slick-initialized":!0}),h=g(g({},e.props),e.state),f=(0,s.extractObject)(h,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),p=e.props.pauseOnHover;if(f=g(g({},f),{},{onMouseEnter:p?e.onTrackOver:null,onMouseLeave:p?e.onTrackLeave:null,onMouseOver:p?e.onTrackOver:null,focusOnSelect:e.props.focusOnSelect&&e.clickable?e.selectHandler:null}),!0===e.props.dots&&e.state.slideCount>=e.props.slidesToShow){var v=(0,s.extractObject)(h,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),y=e.props.pauseOnDotsHover;v=g(g({},v),{},{clickHandler:e.changeSlide,onMouseEnter:y?e.onDotsLeave:null,onMouseOver:y?e.onDotsOver:null,onMouseLeave:y?e.onDotsLeave:null}),t=r.default.createElement(c.Dots,v)}var m=(0,s.extractObject)(h,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);m.clickHandler=e.changeSlide,e.props.arrows&&(n=r.default.createElement(l.PrevArrow,m),i=r.default.createElement(l.NextArrow,m));var b=null;e.props.vertical&&(b={height:e.state.listHeight});var w=null;!1===e.props.vertical?!0===e.props.centerMode&&(w={padding:"0px "+e.props.centerPadding}):!0===e.props.centerMode&&(w={padding:e.props.centerPadding+" 0px"});var _=g(g({},b),w),E=e.props.touchMove,I={className:"slick-list",style:_,onClick:e.clickHandler,onMouseDown:E?e.swipeStart:null,onMouseMove:e.state.dragging&&E?e.swipeMove:null,onMouseUp:E?e.swipeEnd:null,onMouseLeave:e.state.dragging&&E?e.swipeEnd:null,onTouchStart:E?e.swipeStart:null,onTouchMove:e.state.dragging&&E?e.swipeMove:null,onTouchEnd:E?e.touchEnd:null,onTouchCancel:e.state.dragging&&E?e.swipeEnd:null,onKeyDown:e.props.accessibility?e.keyHandler:null},S={className:o,dir:"ltr",style:e.props.style};return e.props.unslick&&(I={className:"slick-list"},S={className:o}),r.default.createElement("div",S,e.props.unslick?"":n,r.default.createElement("div",d({ref:e.listRefHandler},I),r.default.createElement(u.Track,d({ref:e.trackRefHandler},f),e.props.children)),e.props.unslick?"":i,e.props.unslick?"":t)})),e.list=null,e.track=null,e.state=g(g({},i.default),{},{currentSlide:e.props.initialSlide,slideCount:r.default.Children.count(e.props.children)}),e.callbackTimers=[],e.clickable=!0,e.debouncedResize=null;var n=e.ssrInit();return e.state=g(g({},e.state),n),e}return e=_,(n=[{key:"didPropsChange",value:function(t){for(var e=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var o=i[n];if(!t.hasOwnProperty(o)){e=!0;break}if("object"!==p(t[o])&&"function"!==typeof t[o]&&t[o]!==this.props[o]){e=!0;break}}return e||r.default.Children.count(this.props.children)!==r.default.Children.count(t.children)}}])&&m(e.prototype,n),f&&m(e,f),Object.defineProperty(e,"prototype",{writable:!1}),_}(r.default.Component);e.InnerSlider=T},3178:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=c(n(2791)),o=n(8293),a=c(n(5477)),s=c(n(5484)),u=n(8026);function c(t){return t&&t.__esModule?t:{default:t}}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=(0,u.canUseDOM)()&&n(8153),_=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(h,t);var e,n,r,c=v(h);function h(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),b(g(e=c.call(this,t)),"innerSliderRefHandler",(function(t){return e.innerSlider=t})),b(g(e),"slickPrev",(function(){return e.innerSlider.slickPrev()})),b(g(e),"slickNext",(function(){return e.innerSlider.slickNext()})),b(g(e),"slickGoTo",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.innerSlider.slickGoTo(t,n)})),b(g(e),"slickPause",(function(){return e.innerSlider.pause("paused")})),b(g(e),"slickPlay",(function(){return e.innerSlider.autoPlay("play")})),e.state={breakpoint:null},e._responsiveMediaHandlers=[],e}return e=h,(n=[{key:"media",value:function(t,e){w.register(t,e),this._responsiveMediaHandlers.push({query:t,handler:e})}},{key:"componentDidMount",value:function(){var t=this;if(this.props.responsive){var e=this.props.responsive.map((function(t){return t.breakpoint}));e.sort((function(t,e){return t-e})),e.forEach((function(n,r){var i;i=0===r?(0,a.default)({minWidth:0,maxWidth:n}):(0,a.default)({minWidth:e[r-1]+1,maxWidth:n}),(0,u.canUseDOM)()&&t.media(i,(function(){t.setState({breakpoint:n})}))}));var n=(0,a.default)({minWidth:e.slice(-1)[0]});(0,u.canUseDOM)()&&this.media(n,(function(){t.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(t){w.unregister(t.query,t.handler)}))}},{key:"render",value:function(){var t,e,n=this;(t=this.state.breakpoint?"unslick"===(e=this.props.responsive.filter((function(t){return t.breakpoint===n.state.breakpoint})))[0].settings?"unslick":f(f(f({},s.default),this.props),e[0].settings):f(f({},s.default),this.props)).centerMode&&(t.slidesToScroll,t.slidesToScroll=1),t.fade&&(t.slidesToShow,t.slidesToScroll,t.slidesToShow=1,t.slidesToScroll=1);var r=i.default.Children.toArray(this.props.children);r=r.filter((function(t){return"string"===typeof t?!!t.trim():!!t})),t.variableWidth&&(t.rows>1||t.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),t.variableWidth=!1);for(var a=[],u=null,c=0;c<r.length;c+=t.rows*t.slidesPerRow){for(var h=[],p=c;p<c+t.rows*t.slidesPerRow;p+=t.slidesPerRow){for(var d=[],v=p;v<p+t.slidesPerRow&&(t.variableWidth&&r[v].props.style&&(u=r[v].props.style.width),!(v>=r.length));v+=1)d.push(i.default.cloneElement(r[v],{key:100*c+10*p+v,tabIndex:-1,style:{width:"".concat(100/t.slidesPerRow,"%"),display:"inline-block"}}));h.push(i.default.createElement("div",{key:10*c+p},d))}t.variableWidth?a.push(i.default.createElement("div",{key:c,style:{width:u}},h)):a.push(i.default.createElement("div",{key:c},h))}if("unslick"===t){var y="regular slider "+(this.props.className||"");return i.default.createElement("div",{className:y},r)}return a.length<=t.slidesToShow&&(t.unslick=!0),i.default.createElement(o.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},t),a)}}])&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(i.default.Component);e.default=_},4931:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Track=void 0;var i=s(n(2791)),o=s(n(1694)),a=n(8026);function s(t){return t&&t.__esModule?t:{default:t}}function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){var e,n,r,i,o;return r=(o=t.rtl?t.slideCount-1-t.index:t.index)<0||o>=t.slideCount,t.centerMode?(i=Math.floor(t.slidesToShow/2),n=(o-t.currentSlide)%t.slideCount===0,o>t.currentSlide-i-1&&o<=t.currentSlide+i&&(e=!0)):e=t.currentSlide<=o&&o<t.currentSlide+t.slidesToShow,{"slick-slide":!0,"slick-active":e,"slick-center":n,"slick-cloned":r,"slick-current":o===(t.targetSlide<0?t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?t.targetSlide-t.slideCount:t.targetSlide)}},w=function(t,e){return t.key||e},_=function(t){var e,n=[],r=[],s=[],u=i.default.Children.count(t.children),c=(0,a.lazyStartIndex)(t),l=(0,a.lazyEndIndex)(t);return i.default.Children.forEach(t.children,(function(h,f){var p,d={message:"children",index:f,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};p=!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(f)>=0?h:i.default.createElement("div",null);var v=function(t){var e={};return void 0!==t.variableWidth&&!1!==t.variableWidth||(e.width=t.slideWidth),t.fade&&(e.position="relative",t.vertical?e.top=-t.index*parseInt(t.slideHeight):e.left=-t.index*parseInt(t.slideWidth),e.opacity=t.currentSlide===t.index?1:0,t.useCSS&&(e.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),e}(g(g({},t),{},{index:f})),y=p.props.className||"",m=b(g(g({},t),{},{index:f}));if(n.push(i.default.cloneElement(p,{key:"original"+w(p,f),"data-index":f,className:(0,o.default)(m,y),tabIndex:"-1","aria-hidden":!m["slick-active"],style:g(g({outline:"none"},p.props.style||{}),v),onClick:function(e){p.props&&p.props.onClick&&p.props.onClick(e),t.focusOnSelect&&t.focusOnSelect(d)}})),t.infinite&&!1===t.fade){var _=u-f;_<=(0,a.getPreClones)(t)&&u!==t.slidesToShow&&((e=-_)>=c&&(p=h),m=b(g(g({},t),{},{index:e})),r.push(i.default.cloneElement(p,{key:"precloned"+w(p,e),"data-index":e,tabIndex:"-1",className:(0,o.default)(m,y),"aria-hidden":!m["slick-active"],style:g(g({},p.props.style||{}),v),onClick:function(e){p.props&&p.props.onClick&&p.props.onClick(e),t.focusOnSelect&&t.focusOnSelect(d)}}))),u!==t.slidesToShow&&((e=u+f)<l&&(p=h),m=b(g(g({},t),{},{index:e})),s.push(i.default.cloneElement(p,{key:"postcloned"+w(p,e),"data-index":e,tabIndex:"-1",className:(0,o.default)(m,y),"aria-hidden":!m["slick-active"],style:g(g({},p.props.style||{}),v),onClick:function(e){p.props&&p.props.onClick&&p.props.onClick(e),t.focusOnSelect&&t.focusOnSelect(d)}})))}})),t.rtl?r.concat(n,s).reverse():r.concat(n,s)},E=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(a,t);var e,n,r,o=f(a);function a(){var t;c(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(d(t=o.call.apply(o,[this].concat(n))),"node",null),m(d(t),"handleRef",(function(e){t.node=e})),t}return e=a,(n=[{key:"render",value:function(){var t=_(this.props),e=this.props,n={onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave};return i.default.createElement("div",u({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),t)}}])&&l(e.prototype,n),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.default.PureComponent);e.Track=E},8026:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkSpecKeys=e.checkNavigable=e.changeSlide=e.canUseDOM=e.canGoNext=void 0,e.clamp=u,e.swipeStart=e.swipeMove=e.swipeEnd=e.slidesOnRight=e.slidesOnLeft=e.slideHandler=e.siblingDirection=e.safePreventDefault=e.lazyStartIndex=e.lazySlidesOnRight=e.lazySlidesOnLeft=e.lazyEndIndex=e.keyHandler=e.initializedState=e.getWidth=e.getTrackLeft=e.getTrackCSS=e.getTrackAnimateCSS=e.getTotalSlides=e.getSwipeDirection=e.getSlideCount=e.getRequiredLazySlides=e.getPreClones=e.getPostClones=e.getOnDemandLazySlides=e.getNavigableIndexes=e.getHeight=e.extractObject=void 0;var r,i=(r=n(2791))&&r.__esModule?r:{default:r};function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e,n){return Math.max(e,Math.min(t,n))}var c=function(t){["onTouchStart","onTouchMove","onWheel"].includes(t._reactName)||t.preventDefault()};e.safePreventDefault=c;var l=function(t){for(var e=[],n=h(t),r=f(t),i=n;i<r;i++)t.lazyLoadedList.indexOf(i)<0&&e.push(i);return e};e.getOnDemandLazySlides=l;e.getRequiredLazySlides=function(t){for(var e=[],n=h(t),r=f(t),i=n;i<r;i++)e.push(i);return e};var h=function(t){return t.currentSlide-p(t)};e.lazyStartIndex=h;var f=function(t){return t.currentSlide+d(t)};e.lazyEndIndex=f;var p=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0};e.lazySlidesOnLeft=p;var d=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow};e.lazySlidesOnRight=d;var v=function(t){return t&&t.offsetWidth||0};e.getWidth=v;var y=function(t){return t&&t.offsetHeight||0};e.getHeight=y;var g=function(t){var e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=t.startX-t.curX,n=t.startY-t.curY,r=Math.atan2(n,e),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===o?i>=35&&i<=135?"up":"down":"vertical"};e.getSwipeDirection=g;var m=function(t){var e=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(e=!1),e};e.canGoNext=m;e.extractObject=function(t,e){var n={};return e.forEach((function(e){return n[e]=t[e]})),n};e.initializedState=function(t){var e,n=i.default.Children.count(t.children),r=t.listRef,o=Math.ceil(v(r)),s=t.trackRef&&t.trackRef.node,u=Math.ceil(v(s));if(t.vertical)e=o;else{var c=t.centerMode&&2*parseInt(t.centerPadding);"string"===typeof t.centerPadding&&"%"===t.centerPadding.slice(-1)&&(c*=o/100),e=Math.ceil((o-c)/t.slidesToShow)}var h=r&&y(r.querySelector('[data-index="0"]')),f=h*t.slidesToShow,p=void 0===t.currentSlide?t.initialSlide:t.currentSlide;t.rtl&&void 0===t.currentSlide&&(p=n-1-t.initialSlide);var d=t.lazyLoadedList||[],g=l(a(a({},t),{},{currentSlide:p,lazyLoadedList:d})),m={slideCount:n,slideWidth:e,listWidth:o,trackWidth:u,currentSlide:p,slideHeight:h,listHeight:f,lazyLoadedList:d=d.concat(g)};return null===t.autoplaying&&t.autoplay&&(m.autoplaying="playing"),m};e.slideHandler=function(t){var e=t.waitForAnimate,n=t.animating,r=t.fade,i=t.infinite,o=t.index,s=t.slideCount,c=t.lazyLoad,h=t.currentSlide,f=t.centerMode,p=t.slidesToScroll,d=t.slidesToShow,v=t.useCSS,y=t.lazyLoadedList;if(e&&n)return{};var g,b,w,_=o,E={},k={},N=i?o:u(o,0,s-1);if(r){if(!i&&(o<0||o>=s))return{};o<0?_=o+s:o>=s&&(_=o-s),c&&y.indexOf(_)<0&&(y=y.concat(_)),E={animating:!0,currentSlide:_,lazyLoadedList:y,targetSlide:_},k={animating:!1,targetSlide:_}}else g=_,_<0?(g=_+s,i?s%p!==0&&(g=s-s%p):g=0):!m(t)&&_>h?_=g=h:f&&_>=s?(_=i?s:s-1,g=i?0:s-1):_>=s&&(g=_-s,i?s%p!==0&&(g=0):g=s-d),!i&&_+d>=s&&(g=s-d),b=T(a(a({},t),{},{slideIndex:_})),w=T(a(a({},t),{},{slideIndex:g})),i||(b===w&&(_=g),b=w),c&&(y=y.concat(l(a(a({},t),{},{currentSlide:_})))),v?(E={animating:!0,currentSlide:g,trackStyle:S(a(a({},t),{},{left:b})),lazyLoadedList:y,targetSlide:N},k={animating:!1,currentSlide:g,trackStyle:I(a(a({},t),{},{left:w})),swipeLeft:null,targetSlide:N}):E={currentSlide:g,trackStyle:I(a(a({},t),{},{left:w})),lazyLoadedList:y,targetSlide:N};return{state:E,nextState:k}};e.changeSlide=function(t,e){var n,r,i,o,s=t.slidesToScroll,u=t.slidesToShow,c=t.slideCount,l=t.currentSlide,h=t.targetSlide,f=t.lazyLoad,p=t.infinite;if(n=c%s!==0?0:(c-l)%s,"previous"===e.message)o=l-(i=0===n?s:u-n),f&&!p&&(o=-1===(r=l-i)?c-1:r),p||(o=h-s);else if("next"===e.message)o=l+(i=0===n?s:n),f&&!p&&(o=(l+s)%c+n),p||(o=h+s);else if("dots"===e.message)o=e.index*e.slidesToScroll;else if("children"===e.message){if(o=e.index,p){var d=C(a(a({},t),{},{targetSlide:o}));o>e.currentSlide&&"left"===d?o-=c:o<e.currentSlide&&"right"===d&&(o+=c)}}else"index"===e.message&&(o=Number(e.index));return o};e.keyHandler=function(t,e,n){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!e?"":37===t.keyCode?n?"next":"previous":39===t.keyCode?n?"previous":"next":""};e.swipeStart=function(t,e,n){return"IMG"===t.target.tagName&&c(t),!e||!n&&-1!==t.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}};e.swipeMove=function(t,e){var n=e.scrolling,r=e.animating,i=e.vertical,o=e.swipeToSlide,s=e.verticalSwiping,u=e.rtl,l=e.currentSlide,h=e.edgeFriction,f=e.edgeDragged,p=e.onEdge,d=e.swiped,v=e.swiping,y=e.slideCount,b=e.slidesToScroll,w=e.infinite,_=e.touchObject,E=e.swipeEvent,S=e.listHeight,k=e.listWidth;if(!n){if(r)return c(t);i&&o&&s&&c(t);var N,A={},C=T(e);_.curX=t.touches?t.touches[0].pageX:t.clientX,_.curY=t.touches?t.touches[0].pageY:t.clientY,_.swipeLength=Math.round(Math.sqrt(Math.pow(_.curX-_.startX,2)));var O=Math.round(Math.sqrt(Math.pow(_.curY-_.startY,2)));if(!s&&!v&&O>10)return{scrolling:!0};s&&(_.swipeLength=O);var P=(u?-1:1)*(_.curX>_.startX?1:-1);s&&(P=_.curY>_.startY?1:-1);var x=Math.ceil(y/b),R=g(e.touchObject,s),D=_.swipeLength;return w||(0===l&&("right"===R||"down"===R)||l+1>=x&&("left"===R||"up"===R)||!m(e)&&("left"===R||"up"===R))&&(D=_.swipeLength*h,!1===f&&p&&(p(R),A.edgeDragged=!0)),!d&&E&&(E(R),A.swiped=!0),N=i?C+D*(S/k)*P:u?C-D*P:C+D*P,s&&(N=C+D*P),A=a(a({},A),{},{touchObject:_,swipeLeft:N,trackStyle:I(a(a({},e),{},{left:N}))}),Math.abs(_.curX-_.startX)<.8*Math.abs(_.curY-_.startY)?A:(_.swipeLength>10&&(A.swiping=!0,c(t)),A)}};e.swipeEnd=function(t,e){var n=e.dragging,r=e.swipe,i=e.touchObject,o=e.listWidth,s=e.touchThreshold,u=e.verticalSwiping,l=e.listHeight,h=e.swipeToSlide,f=e.scrolling,p=e.onSwipe,d=e.targetSlide,v=e.currentSlide,y=e.infinite;if(!n)return r&&c(t),{};var m=u?l/s:o/s,b=g(i,u),E={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f)return E;if(!i.swipeLength)return E;if(i.swipeLength>m){var I,k;c(t),p&&p(b);var N=y?v:d;switch(b){case"left":case"up":k=N+_(e),I=h?w(e,k):k,E.currentDirection=0;break;case"right":case"down":k=N-_(e),I=h?w(e,k):k,E.currentDirection=1;break;default:I=N}E.triggerSlideHandler=I}else{var A=T(e);E.trackStyle=S(a(a({},e),{},{left:A}))}return E};var b=function(t){for(var e=t.infinite?2*t.slideCount:t.slideCount,n=t.infinite?-1*t.slidesToShow:0,r=t.infinite?-1*t.slidesToShow:0,i=[];n<e;)i.push(n),n=r+t.slidesToScroll,r+=Math.min(t.slidesToScroll,t.slidesToShow);return i};e.getNavigableIndexes=b;var w=function(t,e){var n=b(t),r=0;if(e>n[n.length-1])e=n[n.length-1];else for(var i in n){if(e<n[i]){e=r;break}r=n[i]}return e};e.checkNavigable=w;var _=function(t){var e=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var n,r=t.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(t.vertical){if(r.offsetTop+y(r)/2>-1*t.swipeLeft)return n=r,!1}else if(r.offsetLeft-e+v(r)/2>-1*t.swipeLeft)return n=r,!1;return!0})),!n)return 0;var o=!0===t.rtl?t.slideCount-t.currentSlide:t.currentSlide;return Math.abs(n.dataset.index-o)||1}return t.slidesToScroll};e.getSlideCount=_;var E=function(t,e){return e.reduce((function(e,n){return e&&t.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",t)};e.checkSpecKeys=E;var I=function(t){var e,n;E(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=t.slideCount+2*t.slidesToShow;t.vertical?n=r*t.slideHeight:e=A(t)*t.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var o=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",s=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",u=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";i=a(a({},i),{},{WebkitTransform:o,transform:s,msTransform:u})}else t.vertical?i.top=t.left:i.left=t.left;return t.fade&&(i={opacity:1}),e&&(i.width=e),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?i.marginTop=t.left+"px":i.marginLeft=t.left+"px"),i};e.getTrackCSS=I;var S=function(t){E(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var e=I(t);return t.useTransform?(e.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,e.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?e.transition="top "+t.speed+"ms "+t.cssEase:e.transition="left "+t.speed+"ms "+t.cssEase,e};e.getTrackAnimateCSS=S;var T=function(t){if(t.unslick)return 0;E(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var e,n,r=t.slideIndex,i=t.trackRef,o=t.infinite,a=t.centerMode,s=t.slideCount,u=t.slidesToShow,c=t.slidesToScroll,l=t.slideWidth,h=t.listWidth,f=t.variableWidth,p=t.slideHeight,d=t.fade,v=t.vertical;if(d||1===t.slideCount)return 0;var y=0;if(o?(y=-k(t),s%c!==0&&r+c>s&&(y=-(r>s?u-(r-s):s%c)),a&&(y+=parseInt(u/2))):(s%c!==0&&r+c>s&&(y=u-s%c),a&&(y=parseInt(u/2))),e=v?r*p*-1+y*p:r*l*-1+y*l,!0===f){var g,m=i&&i.node;if(g=r+k(t),e=(n=m&&m.childNodes[g])?-1*n.offsetLeft:0,!0===a){g=o?r+k(t):r,n=m&&m.children[g],e=0;for(var b=0;b<g;b++)e-=m&&m.children[b]&&m.children[b].offsetWidth;e-=parseInt(t.centerPadding),e+=n&&(h-n.offsetWidth)/2}}return e};e.getTrackLeft=T;var k=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)};e.getPreClones=k;var N=function(t){return t.unslick||!t.infinite?0:t.slideCount};e.getPostClones=N;var A=function(t){return 1===t.slideCount?1:k(t)+t.slideCount+N(t)};e.getTotalSlides=A;var C=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+O(t)?"left":"right":t.targetSlide<t.currentSlide-P(t)?"right":"left"};e.siblingDirection=C;var O=function(t){var e=t.slidesToShow,n=t.centerMode,r=t.rtl,i=t.centerPadding;if(n){var o=(e-1)/2+1;return parseInt(i)>0&&(o+=1),r&&e%2===0&&(o+=1),o}return r?0:e-1};e.slidesOnRight=O;var P=function(t){var e=t.slidesToShow,n=t.centerMode,r=t.rtl,i=t.centerPadding;if(n){var o=(e-1)/2+1;return parseInt(i)>0&&(o+=1),r||e%2!==0||(o+=1),o}return r?e-1:0};e.slidesOnLeft=P;e.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},6374:function(t,e,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(l=e.ref),e)a.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:l,props:o,_owner:s.current}}e.Fragment=o,e.jsx=c,e.jsxs=c},9117:function(t,e){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function g(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||d}function m(){}function b(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||d}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},m.prototype=g.prototype;var w=b.prototype=new m;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,I={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)E.call(e,i)&&!S.hasOwnProperty(i)&&(o[i]=e[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:I.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var N=/\/+/g;function A(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function C(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=t),t=""===o?"."+A(u,0):o,_(a)?(i="",null!=t&&(i=t.replace(N,"$&/")+"/"),C(a,e,i,"",(function(t){return t}))):null!=a&&(k(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+t)),e.push(a)),1;if(u=0,o=""===o?".":o+":",_(t))for(var c=0;c<t.length;c++){var l=o+A(s=t[c],c);u+=C(s,e,i,l,a)}else if(l=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=C(s=s.value,e,i,l=o+A(s,c++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function O(t,e,n){if(null==t)return t;var r=[],i=0;return C(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function P(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var x={current:null},R={transition:null},D={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:R,ReactCurrentOwner:I};e.Children={map:O,forEach:function(t,e,n){O(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return O(t,(function(){e++})),e},toArray:function(t){return O(t,(function(t){return t}))||[]},only:function(t){if(!k(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=g,e.Fragment=i,e.Profiler=a,e.PureComponent=b,e.StrictMode=o,e.Suspense=l,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=v({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=I.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)E.call(e,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=T,e.createFactory=function(t){var e=T.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=k,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:P}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=R.transition;R.transition={};try{t()}finally{R.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return x.current.useCallback(t,e)},e.useContext=function(t){return x.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return x.current.useDeferredValue(t)},e.useEffect=function(t,e){return x.current.useEffect(t,e)},e.useId=function(){return x.current.useId()},e.useImperativeHandle=function(t,e,n){return x.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return x.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return x.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return x.current.useMemo(t,e)},e.useReducer=function(t,e,n){return x.current.useReducer(t,e,n)},e.useRef=function(t){return x.current.useRef(t)},e.useState=function(t){return x.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return x.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return x.current.useTransition()},e.version="18.2.0"},2791:function(t,e,n){"use strict";t.exports=n(9117)},184:function(t,e,n){"use strict";t.exports=n(6374)},474:function(t,e,n){"use strict";n.r(e);var r=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,c=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&u()}function s(){a(o)}function u(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return u}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;s.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),l=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},h=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},f=m(0,0,0,0);function p(t){return parseFloat(t)||0}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+p(t["border-"+n+"-width"])}),0)}function v(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return f;var r=h(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=p(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=p(r.width),u=p(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=d(r,"left","right")+o),Math.round(u+a)!==n&&(u-=d(r,"top","bottom")+a)),!function(t){return t===h(t).document.documentElement}(t)){var c=Math.round(s+o)-e,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return m(i.left,i.top,s,u)}var y="undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof h(t).SVGGraphicsElement}:function(t){return t instanceof h(t).SVGElement&&"function"===typeof t.getBBox};function g(t){return i?y(t)?function(t){var e=t.getBBox();return m(0,0,e.width,e.height)}(t):v(t):f}function m(t,e,n,r){return{x:t,y:e,width:n,height:r}}var b=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=g(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),w=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return l(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);l(this,{target:t,contentRect:n})},_=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new b(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new w(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),E="undefined"!==typeof WeakMap?new WeakMap:new r,I=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new _(e,n,this);E.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){I.prototype[t]=function(){var e;return(e=E.get(this))[t].apply(e,arguments)}}));var S="undefined"!==typeof o.ResizeObserver?o.ResizeObserver:I;e.default=S},6813:function(t,e){"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=t[s],c=s+1,l=t[c];if(0>o(u,n))c<i&&0>o(l,u)?(t[r]=l,t[c]=n,r=c):(t[r]=u,t[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break t;t[r]=l,t[c]=n,r=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,p=3,d=!1,v=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=r(l);null!==e;){if(null===e.callback)i(l);else{if(!(e.startTime<=t))break;i(l),e.sortIndex=e.expirationTime,n(c,e)}e=r(l)}}function _(t){if(y=!1,w(t),!v)if(null!==r(c))v=!0,R(E);else{var e=r(l);null!==e&&D(_,e.startTime-t)}}function E(t,n){v=!1,y&&(y=!1,m(k),k=-1),d=!0;var o=p;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||t&&!C());){var a=f.callback;if("function"===typeof a){f.callback=null,p=f.priorityLevel;var s=a(f.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),w(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&D(_,h.startTime-n),u=!1}return u}finally{f=null,p=o,d=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,S=!1,T=null,k=-1,N=5,A=-1;function C(){return!(e.unstable_now()-A<N)}function O(){if(null!==T){var t=e.unstable_now();A=t;var n=!0;try{n=T(!0,t)}finally{n?I():(S=!1,T=null)}}else S=!1}if("function"===typeof b)I=function(){b(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,x=P.port2;P.port1.onmessage=O,I=function(){x.postMessage(null)}}else I=function(){g(O,0)};function R(t){T=t,S||(S=!0,I())}function D(t,n){k=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){v||d||(v=!0,R(E))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(l,t),null===r(c)&&t===r(l)&&(y?(m(k),k=-1):y=!0,D(_,o-a))):(t.sortIndex=s,n(c,t),v||d||(v=!0,R(E))),t},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},5296:function(t,e,n){"use strict";t.exports=n(6813)},2806:function(t){t.exports=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})).toLowerCase()}},1561:function(t,e,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i(t,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=o({inst:{value:n,getSnapshot:e}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=e,c(i)&&l({inst:i})}),[t,n,e]),a((function(){return c(i)&&l({inst:i}),t((function(){c(i)&&l({inst:i})}))}),[t]),u(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(t,e,n){"use strict";var r=n(2791),i=n(7248);var o="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var h=s(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=c((function(){function t(t){if(!u){if(u=!0,a=t,t=r(t),void 0!==i&&f.hasValue){var e=f.value;if(i(e,t))return s=e}return s=t}if(e=s,o(a,t))return e;var n=r(t);return void 0!==i&&i(e,n)?e:(a=t,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return t(e())},null===c?void 0:function(){return t(c())}]}),[e,n,r,i]);var p=a(t,h[0],h[1]);return u((function(){f.hasValue=!0,f.value=p}),[p]),l(p),p}},7248:function(t,e,n){"use strict";t.exports=n(1561)},327:function(t,e,n){"use strict";t.exports=n(7595)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.m=t,n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))},n.u=function(t){return"static/js/"+t+".53b1f0e5.chunk.js"},n.miniCssF=function(t){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={},e="disney-plus-clone:";n.l=function(r,i,o,a){if(t[r])t[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==e+o){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+o),s.src=r),t[r]=[i];var f=function(e,n){s.onerror=s.onload=null,clearTimeout(p);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(t){return t(n)})),e)return e(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/",function(){var t={179:0};n.f.j=function(e,r){var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=t[e]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(e),s=new Error;n.l(a,(function(r){if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+e,e)}};var e=function(e,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(e&&e(r);c<a.length;c++)o=a[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkdisney_plus_clone=self.webpackChunkdisney_plus_clone||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),function(){"use strict";var t=n(2791),e=n(1250),r=n(7248),i=n(327),o=n(4164);var a=function(t){t()},s=function(){return a},u=t.createContext(null);function c(){return(0,t.useContext)(u)}var l=function(){throw new Error("uSES not initialized!")},h=l,f=function(t,e){return t===e};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=e===u?c:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;var i=n(),o=i.store,a=i.subscription,s=i.getServerState,u=h(a.addNestedSub,o.getState,s||o.getState,e,r);return(0,t.useDebugValue)(u),u}}var d=p();n(2110),n(6900);var v={notify:function(){},get:function(){return[]}};function y(t,e){var n,r=v;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=e?e.addNestedSub(i):t.subscribe(i),r=function(){var t=s(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(t){var r=!0,i=n={callback:t,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}var a={addNestedSub:function(t){return o(),r.subscribe(t)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=v)},getListeners:function(){return r}};return a}var g=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var m=function(e){var n=e.store,r=e.context,i=e.children,o=e.serverState,a=(0,t.useMemo)((function(){var t=y(n);return{store:n,subscription:t,getServerState:o?function(){return o}:void 0}}),[n,o]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);g((function(){var t=a.subscription;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),s!==n.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=void 0}}),[a,s]);var c=r||u;return t.createElement(c.Provider,{value:a},i)};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=e===u?c:function(){return(0,t.useContext)(e)};return function(){return n().store}}var w=b();function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=t===u?w:b(t);return function(){return e().dispatch}}var E,I=_();function S(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function T(t){return!!t&&!!t[dt]}function k(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===vt}(t)||Array.isArray(t)||!!t[pt]||!!t.constructor[pt]||R(t)||D(t))}function N(t,e,n){void 0===n&&(n=!1),0===A(t)?(n?Object.keys:yt)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function A(t){var e=t[dt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:R(t)?2:D(t)?3:0}function C(t,e){return 2===A(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function O(t,e){return 2===A(t)?t.get(e):t[e]}function P(t,e,n){var r=A(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function x(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function R(t){return ct&&t instanceof Map}function D(t){return lt&&t instanceof Set}function L(t){return t.o||t.t}function M(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=gt(t);delete e[dt];for(var n=yt(e),r=0;r<n.length;r++){var i=n[r],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function j(t,e){return void 0===e&&(e=!1),U(t)||T(t)||!k(t)||(A(t)>1&&(t.set=t.add=t.clear=t.delete=F),Object.freeze(t),e&&N(t,(function(t,e){return j(e,!0)}),!0)),t}function F(){S(2)}function U(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function V(t){var e=mt[t];return e||S(18,t),e}function q(t,e){mt[t]||(mt[t]=e)}function B(){return st}function z(t,e){e&&(V("Patches"),t.u=[],t.s=[],t.v=e)}function W(t){H(t),t.p.forEach(K),t.p=null}function H(t){t===st&&(st=t.l)}function G(t){return st={p:[],l:st,h:t,m:!0,_:0}}function K(t){var e=t[dt];0===e.i||1===e.i?e.j():e.O=!0}function Q(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||V("ES5").S(e,t,r),r?(n[dt].P&&(W(e),S(4)),k(t)&&(t=X(e,t),e.l||$(e,t)),e.u&&V("Patches").M(n[dt].t,t,e.u,e.s)):t=X(e,n,[]),W(e),e.u&&e.v(e.u,e.s),t!==ft?t:void 0}function X(t,e,n){if(U(e))return e;var r=e[dt];if(!r)return N(e,(function(i,o){return Y(t,r,e,i,o,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return $(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=M(r.k):r.o;N(3===r.i?new Set(i):i,(function(e,o){return Y(t,r,i,e,o,n)})),$(t,i,!1),n&&t.u&&V("Patches").R(r,n,t.u,t.s)}return r.o}function Y(t,e,n,r,i,o){if(T(i)){var a=X(t,i,o&&e&&3!==e.i&&!C(e.D,r)?o.concat(r):void 0);if(P(n,r,a),!T(a))return;t.m=!1}if(k(i)&&!U(i)){if(!t.h.F&&t._<1)return;X(t,i),e&&e.A.l||$(t,i)}}function $(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&j(e,n)}function J(t,e){var n=t[dt];return(n?L(n):t)[e]}function Z(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function tt(t){t.P||(t.P=!0,t.l&&tt(t.l))}function et(t){t.o||(t.o=M(t.t))}function nt(t,e,n){var r=R(e)?V("MapSet").N(e,n):D(e)?V("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:B(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},i=r,o=bt;n&&(i=[r],o=wt);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(e,n):V("ES5").J(e,n);return(n?n.A:B()).p.push(r),r}function rt(t){return T(t)||S(22,t),function t(e){if(!k(e))return e;var n,r=e[dt],i=A(e);if(r){if(!r.P&&(r.i<4||!V("ES5").K(r)))return r.t;r.I=!0,n=it(e,i),r.I=!1}else n=it(e,i);return N(n,(function(e,i){r&&O(r.t,e)===i||P(n,e,t(i))})),3===i?new Set(n):n}(t)}function it(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return M(t)}function ot(){function t(t,e){var n=i[t];return n?n.enumerable=e:i[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[dt];return bt.get(e,t)},set:function(e){var n=this[dt];bt.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var i=t[e][dt];if(!i.P)switch(i.i){case 5:r(i)&&tt(i);break;case 4:n(i)&&tt(i)}}}function n(t){for(var e=t.t,n=t.k,r=yt(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==dt){var a=e[o];if(void 0===a&&!C(e,o))return!0;var s=n[o],u=s&&s[dt];if(u?u.t!==a:!x(s,a))return!0}}var c=!!e[dt];return r.length!==yt(e).length+(c?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);if(n&&!n.get)return!0;for(var r=0;r<e.length;r++)if(!e.hasOwnProperty(r))return!0;return!1}var i={};q("ES5",{J:function(e,n){var r=Array.isArray(e),i=function(e,n){if(e){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,t(i,!0));return r}var o=gt(n);delete o[dt];for(var a=yt(o),s=0;s<a.length;s++){var u=a[s];o[u]=t(u,e||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,e),o={i:r?5:4,A:n?n.A:B(),P:!1,I:!1,D:{},l:n,t:e,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,dt,{value:o,writable:!0}),i},S:function(t,n,i){i?T(n)&&n[dt].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[dt];if(n){var i=n.t,o=n.k,a=n.D,s=n.i;if(4===s)N(o,(function(e){e!==dt&&(void 0!==i[e]||C(i,e)?a[e]||t(o[e]):(a[e]=!0,tt(n)))})),N(i,(function(t){void 0!==o[t]||C(o,t)||(a[t]=!1,tt(n))}));else if(5===s){if(r(n)&&(tt(n),a.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)a[u]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var l=Math.min(o.length,i.length),h=0;h<l;h++)o.hasOwnProperty(h)||(a[h]=!0),void 0===a[h]&&t(o[h])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}!function(t){h=t}(i.useSyncExternalStoreWithSelector),function(t){t}(r.useSyncExternalStore),E=o.unstable_batchedUpdates,a=E;var at,st,ut="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ct="undefined"!=typeof Map,lt="undefined"!=typeof Set,ht="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ft=ut?Symbol.for("immer-nothing"):((at={})["immer-nothing"]=!0,at),pt=ut?Symbol.for("immer-draftable"):"__$immer_draftable",dt=ut?Symbol.for("immer-state"):"__$immer_state",vt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),yt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,gt=Object.getOwnPropertyDescriptors||function(t){var e={};return yt(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},mt={},bt={get:function(t,e){if(e===dt)return t;var n=L(t);if(!C(n,e))return function(t,e,n){var r,i=Z(e,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!k(r)?r:r===J(t.t,e)?(et(t),t.o[e]=nt(t.A.h,r,t)):r},has:function(t,e){return e in L(t)},ownKeys:function(t){return Reflect.ownKeys(L(t))},set:function(t,e,n){var r=Z(L(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=J(L(t),e),o=null==i?void 0:i[dt];if(o&&o.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(x(n,i)&&(void 0!==n||C(t.t,e)))return!0;et(t),tt(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==J(t.t,e)||e in t.t?(t.D[e]=!1,et(t),tt(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=L(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){S(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){S(12)}},wt={};N(bt,(function(t,e){wt[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),wt.deleteProperty=function(t,e){return wt.set.call(this,t,e,void 0)},wt.set=function(t,e,n){return bt.set.call(this,t[0],e,n,t[0])};var _t=function(){function t(t){var e=this;this.g=ht,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var i=n;n=t;var o=e;return function(t){var e=this;void 0===t&&(t=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(a))}))}}var a;if("function"!=typeof n&&S(6),void 0!==r&&"function"!=typeof r&&S(7),k(t)){var s=G(e),u=nt(e,t,void 0),c=!0;try{a=n(u),c=!1}finally{c?W(s):H(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return z(s,r),Q(t,s)}),(function(t){throw W(s),t})):(z(s,r),Q(a,s))}if(!t||"object"!=typeof t){if(void 0===(a=n(t))&&(a=t),a===ft&&(a=void 0),e.F&&j(a,!0),r){var l=[],h=[];V("Patches").M(t,a,l,h),r(l,h)}return a}S(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(i))}))};var r,i,o=e.produce(t,n,(function(t,e){r=t,i=e}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(t){return[t,r,i]})):[o,r,i]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){k(t)||S(8),T(t)&&(t=rt(t));var e=G(this),n=nt(this,t,void 0);return n[dt].C=!0,H(e),n},e.finishDraft=function(t,e){var n=(t&&t[dt]).A;return z(n,e),Q(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!ht&&S(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));var i=V("Patches").$;return T(t)?i(t,e):this.produce(t,(function(t){return i(t,e)}))},t}(),Et=new _t,It=Et.produce,St=(Et.produceWithPatches.bind(Et),Et.setAutoFreeze.bind(Et),Et.setUseProxies.bind(Et),Et.applyPatches.bind(Et),Et.createDraft.bind(Et),Et.finishDraft.bind(Et),It);function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(n),!0).forEach((function(e){Tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function At(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Ct="function"===typeof Symbol&&Symbol.observable||"@@observable",Ot=function(){return Math.random().toString(36).substring(7).split("").join(".")},Pt={INIT:"@@redux/INIT"+Ot(),REPLACE:"@@redux/REPLACE"+Ot(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ot()}};function xt(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Rt(t,e,n){var r;if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(At(0));if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(At(1));return n(Rt)(t,e)}if("function"!==typeof t)throw new Error(At(2));var i=t,o=e,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(At(3));return o}function h(t){if("function"!==typeof t)throw new Error(At(4));if(u)throw new Error(At(5));var e=!0;return c(),s.push(t),function(){if(e){if(u)throw new Error(At(6));e=!1,c();var n=s.indexOf(t);s.splice(n,1),a=null}}}function f(t){if(!xt(t))throw new Error(At(7));if("undefined"===typeof t.type)throw new Error(At(8));if(u)throw new Error(At(9));try{u=!0,o=i(o,t)}finally{u=!1}for(var e=a=s,n=0;n<e.length;n++){(0,e[n])()}return t}function p(t){if("function"!==typeof t)throw new Error(At(10));i=t,f({type:Pt.REPLACE})}function d(){var t,e=h;return(t={subscribe:function(t){if("object"!==typeof t||null===t)throw new Error(At(11));function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[Ct]=function(){return this},t}return f({type:Pt.INIT}),(r={dispatch:f,subscribe:h,getState:l,replaceReducer:p})[Ct]=d,r}function Dt(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"===typeof t[i]&&(n[i]=t[i])}var o,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:Pt.INIT}))throw new Error(At(12));if("undefined"===typeof n(void 0,{type:Pt.PROBE_UNKNOWN_ACTION()}))throw new Error(At(13))}))}(n)}catch(s){o=s}return function(t,e){if(void 0===t&&(t={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=t[u],h=c(l,e);if("undefined"===typeof h){e&&e.type;throw new Error(At(14))}i[u]=h,r=r||h!==l}return(r=r||a.length!==Object.keys(t).length)?i:t}}function Lt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function Mt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(At(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return r=Lt.apply(void 0,o)(n.dispatch),Nt(Nt({},n),{},{dispatch:r})}}}function jt(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"===typeof i?i(n,r,t):e(i)}}}}var Ft=jt();Ft.withExtraArgument=jt;var Ut=Ft,Vt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qt=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Bt=Object.defineProperty,zt=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Wt=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,Gt=function(t,e,n){return e in t?Bt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Kt=function(t,e){for(var n in e||(e={}))Wt.call(e,n)&&Gt(t,n,e[n]);if(zt)for(var r=0,i=zt(e);r<i.length;r++){n=i[r];Ht.call(e,n)&&Gt(t,n,e[n])}return t},Qt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Lt:Lt.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Xt(t){if("object"!==typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return e===n}var Yt=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Vt(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,qt([void 0],t[0].concat(this)))):new(e.bind.apply(e,qt([void 0],t.concat(this))))},e}(Array);function $t(t){return k(t)?St(t,(function(){})):t}function Jt(){return function(t){return function(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,r=(t.immutableCheck,t.serializableCheck,new Yt);n&&(!function(t){return"boolean"===typeof t}(n)?r.push(Ut.withExtraArgument(n.extraArgument)):r.push(Ut));0;return r}(t)}}function Zt(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var i=e.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Kt(Kt({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function te(t){var e,n={},r=[],i={addCase:function(t,e){var r="string"===typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,i},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),i},addDefaultCase:function(t){return e=t,i}};return t(i),[n,r,e]}function ee(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof t.initialState?t.initialState:$t(t.initialState),i=t.reducers||{},o=Object.keys(i),a={},s={},u={};function c(){var e="function"===typeof t.extraReducers?te(t.extraReducers):[t.extraReducers],n=e[0],i=void 0===n?{}:n,o=e[1],a=void 0===o?[]:o,u=e[2],c=void 0===u?void 0:u,l=Kt(Kt({},i),s);return function(t,e,n,r){void 0===n&&(n=[]);var i,o="function"===typeof e?te(e):[e,n,r],a=o[0],s=o[1],u=o[2];if(function(t){return"function"===typeof t}(t))i=function(){return $t(t())};else{var c=$t(t);i=function(){return c}}function l(t,e){void 0===t&&(t=i());var n=qt([a[e.type]],s.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[u]),n.reduce((function(t,n){if(n){var r;if(T(t))return"undefined"===typeof(r=n(t,e))?t:r;if(k(t))return St(t,(function(t){return n(t,e)}));if("undefined"===typeof(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}return l.getInitialState=i,l}(r,l,a,c)}return o.forEach((function(t){var n,r,o=i[t],c=e+"/"+t;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[t]=n,s[c]=n,u[t]=r?Zt(c,r):Zt(c)})),{name:e,reducer:function(t,e){return n||(n=c()),n(t,e)},actions:u,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}Object.assign;var ne="listenerMiddleware";Zt(ne+"/add"),Zt(ne+"/removeAll"),Zt(ne+"/remove");ot();var re=ee({name:"movie",initialState:{movies:[]},reducers:{setMovies:function(t,e){t.movies=e.payload}}}),ie=re.actions.setMovies,oe=function(t){return t.movie.movies},ae=re.reducer,se=ee({name:"user",initialState:{name:"",email:"",photo:""},reducers:{setUserLogin:function(t,e){t.name=e.payload.name,t.email=e.payload.email,t.photo=e.payload.photo},setSignOut:function(t){t.name=null,t.email=null,t.photo=null}}}),ue=se.actions,ce=ue.setUserLogin,le=ue.setSignOut,he=function(t){return t.user.name},fe=function(t){return t.user.photo},pe=function(t){var e,n=Jt(),r=t||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,c=void 0===u||u,l=r.preloadedState,h=void 0===l?void 0:l,f=r.enhancers,p=void 0===f?void 0:f;if("function"===typeof o)e=o;else{if(!Xt(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=Dt(o)}var d=s;"function"===typeof d&&(d=d(n));var v=Mt.apply(void 0,d),y=Lt;c&&(y=Qt(Kt({trace:!1},"object"===typeof c&&c)));var g=[v];return Array.isArray(p)?g=qt([v],p):"function"===typeof p&&(g=p(g)),Rt(e,h,y.apply(void 0,g))}({reducer:{movie:ae,user:se.reducer}});function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function ve(){ve=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var l={};function h(){}function f(){}function p(){}var d={};s(d,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&n.call(y,i)&&(d=y);var g=p.prototype=h.prototype=Object.create(d);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==de(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(b.prototype),s(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(g),s(g,a,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function ye(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}var ge,me=n(2451),be=(n(5054),n(7465),me.initializeApp({apiKey:"AIzaSyC6BEyiiWTmjc6GTc01n5tS-6mPiEqu4cs",authDomain:"disneyplus-clone-f00a7.firebaseapp.com",projectId:"disneyplus-clone-f00a7",storageBucket:"disneyplus-clone-f00a7.appspot.com",messagingSenderId:"719822536263",appId:"1:719822536263:web:a7aba444bdfed404fa3b62"}).firestore()),we=me.auth(),_e=new me.auth.GoogleAuthProvider,Ee=(me.storage(),be);function Ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Se(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"===typeof t)return Ie(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(){return Te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Te.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(ge||(ge={}));var ke=function(t){return t};var Ne="beforeunload",Ae="popstate";function Ce(t){t.preventDefault(),t.returnValue=""}function Oe(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function Pe(){return Math.random().toString(36).substr(2,8)}function xe(t){var e=t.pathname,n=void 0===e?"/":e,r=t.search,i=void 0===r?"":r,o=t.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function Re(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}var De=(0,t.createContext)(null);var Le=(0,t.createContext)(null);var Me=(0,t.createContext)({outlet:null,matches:[]});function je(t,e){if(!t)throw new Error(e)}function Fe(t,e,n){void 0===n&&(n="/");var r=Ge(("string"===typeof e?Re(e):e).pathname||"/",n);if(null==r)return null;var i=Ue(t);!function(t){t.sort((function(t,e){return t.score!==e.score?e.score-t.score:function(t,e){var n=t.length===e.length&&t.slice(0,-1).every((function(t,n){return t===e[n]}));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((function(t){return t.childrenIndex})),e.routesMeta.map((function(t){return t.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=ze(i[a],r);return o}function Ue(t,e,n,r){return void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=""),t.forEach((function(t,i){var o={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||je(!1),o.relativePath=o.relativePath.slice(r.length));var a=Ke([r,o.relativePath]),s=n.concat(o);t.children&&t.children.length>0&&(!0===t.index&&je(!1),Ue(t.children,e,s,a)),(null!=t.path||t.index)&&e.push({path:a,score:Be(a,t.index),routesMeta:s})})),e}var Ve=/^:\w+$/,qe=function(t){return"*"===t};function Be(t,e){var n=t.split("/"),r=n.length;return n.some(qe)&&(r+=-2),e&&(r+=2),n.filter((function(t){return!qe(t)})).reduce((function(t,e){return t+(Ve.test(e)?3:""===e?1:10)}),r)}function ze(t,e){for(var n=t.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?e:e.slice(i.length)||"/",l=We({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;o.push({params:r,pathname:Ke([i,l.pathname]),pathnameBase:Qe(Ke([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=Ke([i,l.pathnameBase]))}return o}function We(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});var n=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);var r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(t,e){return r.push(e),"([^\\/]+)"}));t.endsWith("*")?(r.push("*"),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,e?void 0:"i"),r]}(t.path,t.caseSensitive,t.end),r=Se(n,2),i=r[0],o=r[1],a=e.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:o.reduce((function(t,e,n){if("*"===e){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(n){return t}}(c[n]||""),t}),{}),pathname:s,pathnameBase:u,pattern:t}}function He(t,e,n){var r,i="string"===typeof t?Re(t):t,o=""===t||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=e.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?e[a]:"/"}var u=function(t,e){void 0===e&&(e="/");var n="string"===typeof t?Re(t):t,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(t,e){var n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((function(t){".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(r,e):e;return{pathname:u,search:Xe(o),hash:Ye(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function Ge(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;var n=t.charAt(e.length);return n&&"/"!==n?null:t.slice(e.length)||"/"}var Ke=function(t){return t.join("/").replace(/\/\/+/g,"/")},Qe=function(t){return t.replace(/\/+$/,"").replace(/^\/*/,"/")},Xe=function(t){return t&&"?"!==t?t.startsWith("?")?t:"?"+t:""},Ye=function(t){return t&&"#"!==t?t.startsWith("#")?t:"#"+t:""};function $e(e){Je()||je(!1);var n=(0,t.useContext)(De),r=n.basename,i=n.navigator,o=en(e),a=o.hash,s=o.pathname,u=o.search,c=s;if("/"!==r){var l=function(t){return""===t||""===t.pathname?"/":"string"===typeof t?Re(t).pathname:t.pathname}(e),h=null!=l&&l.endsWith("/");c="/"===s?r+(h?"/":""):Ke([r,s])}return i.createHref({pathname:c,search:u,hash:a})}function Je(){return null!=(0,t.useContext)(Le)}function Ze(){return Je()||je(!1),(0,t.useContext)(Le).location}function tn(){Je()||je(!1);var e=(0,t.useContext)(De),n=e.basename,r=e.navigator,i=(0,t.useContext)(Me).matches,o=Ze().pathname,a=JSON.stringify(i.map((function(t){return t.pathnameBase}))),s=(0,t.useRef)(!1);return(0,t.useEffect)((function(){s.current=!0})),(0,t.useCallback)((function(t,e){if(void 0===e&&(e={}),s.current)if("number"!==typeof t){var i=He(t,JSON.parse(a),o);"/"!==n&&(i.pathname=Ke([n,i.pathname])),(e.replace?r.replace:r.push)(i,e.state)}else r.go(t)}),[n,r,a,o])}function en(e){var n=(0,t.useContext)(Me).matches,r=Ze().pathname,i=JSON.stringify(n.map((function(t){return t.pathnameBase})));return(0,t.useMemo)((function(){return He(e,JSON.parse(i),r)}),[e,i,r])}function nn(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,o){return(0,t.createElement)(Me.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,o+1))}})}),null)}function rn(t){je(!1)}function on(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,o=void 0===i?null:i,a=e.location,s=e.navigationType,u=void 0===s?ge.Pop:s,c=e.navigator,l=e.static,h=void 0!==l&&l;Je()&&je(!1);var f=Qe(r),p=(0,t.useMemo)((function(){return{basename:f,navigator:c,static:h}}),[f,c,h]);"string"===typeof a&&(a=Re(a));var d=a,v=d.pathname,y=void 0===v?"/":v,g=d.search,m=void 0===g?"":g,b=d.hash,w=void 0===b?"":b,_=d.state,E=void 0===_?null:_,I=d.key,S=void 0===I?"default":I,T=(0,t.useMemo)((function(){var t=Ge(y,f);return null==t?null:{pathname:t,search:m,hash:w,state:E,key:S}}),[f,y,m,w,E,S]);return null==T?null:(0,t.createElement)(De.Provider,{value:p},(0,t.createElement)(Le.Provider,{children:o,value:{location:T,navigationType:u}}))}function an(e){var n=e.children,r=e.location;return function(e,n){Je()||je(!1);var r,i=(0,t.useContext)(Me).matches,o=i[i.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,Ze());if(n){var c,l="string"===typeof n?Re(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||je(!1),r=l}else r=u;var h=r.pathname||"/",f=Fe(e,{pathname:"/"===s?h:h.slice(s.length)||"/"});return nn(f&&f.map((function(t){return Object.assign({},t,{params:Object.assign({},a,t.params),pathname:Ke([s,t.pathname]),pathnameBase:"/"===t.pathnameBase?s:Ke([s,t.pathnameBase])})})),i)}(sn(n),r)}function sn(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==rn&&je(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=sn(e.props.children)),n.push(r)}else n.push.apply(n,sn(e.props.children))})),n}function un(){return un=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},un.apply(this,arguments)}function cn(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var ln=["onClick","reloadDocument","replace","state","target","to"];function hn(e){var n=e.basename,r=e.children,i=e.window,o=(0,t.useRef)();null==o.current&&(o.current=function(t){void 0===t&&(t={});var e=t.window,n=void 0===e?document.defaultView:e,r=n.history;function i(){var t=n.location,e=t.pathname,i=t.search,o=t.hash,a=r.state||{};return[a.idx,ke({pathname:e,search:i,hash:o,state:a.usr||null,key:a.key||"default"})]}var o=null;n.addEventListener(Ae,(function(){if(o)h.call(o),o=null;else{var t=ge.Pop,e=i(),n=e[0],r=e[1];if(h.length){if(null!=n){var a=u-n;a&&(o={action:t,location:r,retry:function(){g(-1*a)}},g(a))}}else y(t)}}));var a=ge.Pop,s=i(),u=s[0],c=s[1],l=Oe(),h=Oe();function f(t){return"string"===typeof t?t:xe(t)}function p(t,e){return void 0===e&&(e=null),ke(Te({pathname:c.pathname,hash:"",search:""},"string"===typeof t?Re(t):t,{state:e,key:Pe()}))}function d(t,e){return[{usr:t.state,key:t.key,idx:e},f(t)]}function v(t,e,n){return!h.length||(h.call({action:t,location:e,retry:n}),!1)}function y(t){a=t;var e=i();u=e[0],c=e[1],l.call({action:a,location:c})}function g(t){r.go(t)}null==u&&(u=0,r.replaceState(Te({},r.state,{idx:u}),""));var m={get action(){return a},get location(){return c},createHref:f,push:function t(e,i){var o=ge.Push,a=p(e,i);if(v(o,a,(function(){t(e,i)}))){var s=d(a,u+1),c=s[0],l=s[1];try{r.pushState(c,"",l)}catch(h){n.location.assign(l)}y(o)}},replace:function t(e,n){var i=ge.Replace,o=p(e,n);if(v(i,o,(function(){t(e,n)}))){var a=d(o,u),s=a[0],c=a[1];r.replaceState(s,"",c),y(i)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(t){return l.push(t)},block:function(t){var e=h.push(t);return 1===h.length&&n.addEventListener(Ne,Ce),function(){e(),h.length||n.removeEventListener(Ne,Ce)}}};return m}({window:i}));var a=o.current,s=Se((0,t.useState)({action:a.action,location:a.location}),2),u=s[0],c=s[1];return(0,t.useLayoutEffect)((function(){return a.listen(c)}),[a]),(0,t.createElement)(on,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:a})}var fn=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,o=e.replace,a=void 0!==o&&o,s=e.state,u=e.target,c=e.to,l=cn(e,ln),h=$e(c),f=function(e,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=tn(),u=Ze(),c=en(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)){t.preventDefault();var n=!!o||xe(u)===xe(c);s(e,{replace:n,state:a})}}),[u,s,c,o,a,i,e])}(c,{replace:a,state:s,target:u});return(0,t.createElement)("a",un({},l,{href:h,onClick:function(t){r&&r(t),t.defaultPrevented||i||f(t)},ref:n,target:u}))}));var pn=n(184);var dn=function(){var e=I(),n=tn(),r=d(he),i=d(fe);(0,t.useEffect)((function(){we.onAuthStateChanged(function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){ye(o,r,i,a,s,"next",t)}function s(t){ye(o,r,i,a,s,"throw",t)}a(void 0)}))}}(ve().mark((function t(r){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r&&(e(ce({name:r.displayName,email:r.email,photo:r.photoURL})),n("/home"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[r]);var o=function(){r?r&&we.signOut().then((function(){e(le()),n("/")})).catch((function(t){return alert(t.message)})):we.signInWithPopup(_e).then((function(t){a(t.user)})).catch((function(t){alert(t.message)}))},a=function(t){e(ce({name:t.displayName,email:t.email,photo:t.photoURL}))};return(0,pn.jsxs)("div",{className:"NavBar",children:[(0,pn.jsx)("img",{onClick:o,src:"/images/logo.svg",alt:"",className:"NavBar__Logo"}),r?(0,pn.jsxs)(pn.Fragment,{children:[(0,pn.jsxs)("div",{className:"NavMenu",children:[(0,pn.jsxs)(fn,{to:"/home",className:"NavMenu__Icon",children:[(0,pn.jsx)("img",{src:"/images/home-icon.svg",alt:"",className:"NavMenu__Logo"}),(0,pn.jsx)("span",{className:"NavMenu__Title",children:"HOME"})]}),(0,pn.jsxs)(fn,{to:"/home",className:"NavMenu__Icon",children:[(0,pn.jsx)("img",{src:"/images/search-icon.svg",alt:"",className:"NavMenu__Logo"}),(0,pn.jsx)("span",{className:"NavMenu__Title",children:"SEARCH"})]}),(0,pn.jsxs)(fn,{to:"/home",className:"NavMenu__Icon",children:[(0,pn.jsx)("img",{src:"/images/watchlist-icon.svg",alt:"",className:"NavMenu__Logo"}),(0,pn.jsx)("span",{className:"NavMenu__Title",children:"WATCHLIST"})]}),(0,pn.jsxs)(fn,{to:"/home",className:"NavMenu__Icon",children:[(0,pn.jsx)("img",{src:"/images/original-icon.svg",alt:"",className:"NavMenu__Logo"}),(0,pn.jsx)("span",{className:"NavMenu__Title",children:"ORIGINALS"})]}),(0,pn.jsxs)(fn,{to:"/home",className:"NavMenu__Icon",children:[(0,pn.jsx)("img",{src:"/images/movie-icon.svg",alt:"",className:"NavMenu__Logo"}),(0,pn.jsx)("span",{className:"NavMenu__Title",children:"MOVIES"})]}),(0,pn.jsxs)(fn,{to:"/home",className:"NavMenu__Icon",children:[(0,pn.jsx)("img",{src:"/images/series-icon.svg",alt:"",className:"NavMenu__Logo"}),(0,pn.jsx)("span",{className:"NavMenu__Title",children:"SERIES"})]})]}),(0,pn.jsxs)("div",{children:[(0,pn.jsx)("img",{src:i,alt:"Profile",className:"User__Img"}),(0,pn.jsx)("span",{className:"User__Signout",onClick:o,children:"Sign Out"})]})]}):(0,pn.jsx)("div",{onClick:o,className:"Login__Button",children:"Login"})]})},vn=n(5717);var yn=function(){return(0,pn.jsxs)(vn.Z,Nt(Nt({className:"Carousel"},{dots:!0,infinite:!0,speed:500,autoplaySpeed:2e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,arrows:!0}),{},{children:[(0,pn.jsx)("div",{className:"Slider__Wrap",children:(0,pn.jsx)("img",{src:"/images/slider-badging.jpg",alt:"",className:"Slider__Img"})}),(0,pn.jsx)("div",{className:"Wrap",children:(0,pn.jsx)("img",{src:"/images/slider-badag.jpg",alt:"",className:"Slider__Img"})}),(0,pn.jsx)("div",{className:"Wrap",children:(0,pn.jsx)("img",{src:"/images/slider-scale.jpg",alt:"",className:"Slider__Img"})}),(0,pn.jsx)("div",{className:"Wrap",children:(0,pn.jsx)("img",{src:"/images/slider-scales.jpg",alt:"",className:"Slider__Img"})})]}))};var gn=function(){return(0,pn.jsxs)("div",{className:"Viewers__Container",children:[(0,pn.jsxs)("div",{className:"Viewers__Wrap",children:[(0,pn.jsx)("img",{src:"/images/viewers-disney.png",alt:"",className:"Viewers__Img"}),(0,pn.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,muted:!0,className:"Viewers__Video",children:(0,pn.jsx)("source",{src:"/videos/1564674844-disney.mp4",type:"video/mp4"})})]}),(0,pn.jsxs)("div",{className:"Viewers__Wrap",children:[(0,pn.jsx)("img",{src:"/images/viewers-pixar.png",alt:"",className:"Viewers__Img"}),(0,pn.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,muted:!0,className:"Viewers__Video",children:(0,pn.jsx)("source",{src:"/videos/1564676714-pixar.mp4",type:"video/mp4"})})]}),(0,pn.jsxs)("div",{className:"Viewers__Wrap",children:[(0,pn.jsx)("img",{src:"/images/viewers-marvel.png",alt:"",className:"Viewers__Img"}),(0,pn.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,muted:!0,className:"Viewers__Video",children:(0,pn.jsx)("source",{src:"/videos/1564676115-marvel.mp4",type:"video/mp4"})})]}),(0,pn.jsxs)("div",{className:"Viewers__Wrap",children:[(0,pn.jsx)("img",{src:"/images/viewers-starwars.png",alt:"",className:"Viewers__Img"}),(0,pn.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,muted:!0,className:"Viewers__Video",children:(0,pn.jsx)("source",{src:"/videos/1608229455-star-wars.mp4",type:"video/mp4"})})]}),(0,pn.jsxs)("div",{className:"Viewers__Wrap",children:[(0,pn.jsx)("img",{src:"/images/viewers-national.png",alt:"",className:"Viewers__Img"}),(0,pn.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,muted:!0,className:"Viewers__Video",children:(0,pn.jsx)("source",{src:"/videos/1564676296-national-geographic.mp4",type:"video/mp4"})})]})]})};var mn=function(){var t=d(oe);return(0,pn.jsxs)("div",{className:"Movies__Container",children:[(0,pn.jsx)("h4",{children:"Recommended for You"}),(0,pn.jsx)("div",{className:"Movies__Content",children:t&&t.map((function(t,e){return(0,pn.jsx)("div",{className:"Movies__Wrap",children:(0,pn.jsx)(fn,{to:"/detail/"+t.id,children:(0,pn.jsx)("img",{src:t.cardImg,alt:"",className:"Movies__Img"})})},e)}))})]})};var bn=function(){var e=I();return(0,t.useEffect)((function(){Ee.collection("movies").onSnapshot((function(t){var n=t.docs.map((function(t){return Nt({id:t.id},t.data())}));e(ie(n))}))})),(0,pn.jsxs)("div",{className:"Home__Container",children:[(0,pn.jsx)(yn,{}),(0,pn.jsx)(gn,{}),(0,pn.jsx)(mn,{})]})};var wn=function(){var e=function(){var e=(0,t.useContext)(Me).matches,n=e[e.length-1];return n?n.params:{}}(),n=e.id,r=Se((0,t.useState)(),2),i=r[0],o=r[1];return(0,t.useEffect)((function(){Ee.collection("movies").doc(n).get().then((function(t){t.exists&&o(t.data())}))}),[n]),console.log(i),(0,pn.jsx)("div",{className:"Detail__Container",children:i&&(0,pn.jsxs)(pn.Fragment,{children:[(0,pn.jsx)("div",{className:"Detail__Background",children:(0,pn.jsx)("img",{src:i.backgroundImg,alt:"",className:"Detail__Img"})}),(0,pn.jsx)("div",{className:"Detail__Title",children:(0,pn.jsx)("img",{src:i.titleImg,alt:"",className:"Title__Img"})}),(0,pn.jsxs)("div",{className:"Controls",children:[(0,pn.jsxs)("button",{className:"PlayButton",children:[(0,pn.jsx)("img",{src:"/images/play-icon-black.png",alt:""}),(0,pn.jsx)("span",{children:"PLAY"})]}),(0,pn.jsxs)("button",{className:"TrailerButton",children:[(0,pn.jsx)("img",{src:"/images/play-icon-white.png",alt:""}),(0,pn.jsx)("span",{children:"TRAILER"})]}),(0,pn.jsx)("button",{className:"AddButton",children:(0,pn.jsx)("span",{children:"+"})}),(0,pn.jsx)("button",{className:"GroupWatchButton",children:(0,pn.jsx)("img",{src:"/images/group-icon.png",alt:""})})]}),(0,pn.jsx)("div",{className:"Detail__Subtitle",children:i.subTitle}),(0,pn.jsx)("div",{className:"Detail__Description",children:i.description})]})})};var _n=function(){return(0,pn.jsx)("div",{className:"Login__Container",children:(0,pn.jsxs)("div",{className:"CTA",children:[(0,pn.jsx)("img",{src:"/images/cta-logo-one.svg",alt:"",className:"CTA__Logo1"}),(0,pn.jsx)("a",{href:"/",className:"Login__SignUp",children:"GET ALL THERE"}),(0,pn.jsx)("p",{className:"Login__Description",children:"\xa9 2022 STAR. All Rights Reserved. HBO, Home Box Office and all related channel and programming logos are service marks of, and all related programming visuals and elements are the property of, Home Box Office, Inc."}),(0,pn.jsx)("img",{src:"/images/cta-logo-two.png",alt:"",className:"CTA__Logo2"})]})})};var En=function(){return(0,pn.jsx)("div",{className:"App",children:(0,pn.jsxs)(hn,{children:[(0,pn.jsx)(dn,{}),(0,pn.jsxs)(an,{children:[(0,pn.jsx)(rn,{path:"/",element:(0,pn.jsx)(_n,{})}),(0,pn.jsx)(rn,{path:"/home",element:(0,pn.jsx)(bn,{})}),(0,pn.jsx)(rn,{path:"/detail/:id",element:(0,pn.jsx)(wn,{})})]})]})})},In=function(t){t&&t instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),r(t),i(t),o(t),a(t)}))},Sn=document.getElementById("root");(0,e.s)(Sn).render((0,pn.jsx)(t.StrictMode,{children:(0,pn.jsx)(m,{store:pe,children:(0,pn.jsx)(En,{})})})),In()}()}();
//# sourceMappingURL=main.81719e6f.js.map